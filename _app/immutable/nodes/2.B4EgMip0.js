var iu=Object.defineProperty;var Ys=t=>{throw TypeError(t)};var au=(t,e,n)=>e in t?iu(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ze=(t,e,n)=>au(t,typeof e!="symbol"?e+"":e,n),Js=(t,e,n)=>e.has(t)||Ys("Cannot "+n);var te=(t,e,n)=>(Js(t,e,"read from private field"),n?n.call(t):e.get(t)),bn=(t,e,n)=>e.has(t)?Ys("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ye=(t,e,n,r)=>(Js(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);import{c as su,q as ou,w as yl,s as _l,u as lu,v as cu,f as Q,d as Et,l as me,g as ft,x as Li,t as Hr,y as Fn}from"../chunks/DbJNq2Y7.js";import{al as wl,ap as uu,aB as du,aC as xl,aD as fu,A as kl,O as gs,p as Yt,h as pi,U as ms,o as Ni,d as an,V as hu,n as El,aE as Cl,c as br,g as Sl,I as _,a6 as vu,Q as pu,R as gu,S as Qs,s as yr,e as mu,T as bs,aF as sa,l as Tl,Y as Il,t as Ir,aG as ys,aH as to,aI as _s,_ as bu,aJ as eo,aK as yu,aL as _u,k as wu,aM as xu,ak as Al,aN as ku,a as Eu,P as Ol,aO as Cu,W as Rl,z as Fi,X as ws,J as Su,aP as Tu,aQ as Iu,aR as Au,ae as Ou,y as Rt,au as no,av as ro,aw as Ru,q as bt,u as yt,w as X,M as K,N as $,v as pt,aj as ct,aS as Pu,C as Vt,a0 as et,ah as mt,x as Ot,a9 as Xt,E as Du,ag as Pl,aT as Lu,aU as Nu,aV as ke,aW as zn,ai as Fu}from"../chunks/C1NpmR6W.js";import{a as io,b as zu,s as ue}from"../chunks/OSGjKu25.js";import{p as W,r as Nt,s as Wt,a as xs,d as gi,i as Lt,b as Pe,c as se,e as ao,m as Bu}from"../chunks/DBCnnmgH.js";import{b as $t,s as At,a as Ht,c as ne,r as qt,d as Na,e as je,f as Oe}from"../chunks/DLC2WFx4.js";import{b as Mu}from"../chunks/FYWvRGIO.js";import{w as ks,a as Dl,o as Vu,g as so}from"../chunks/XNSA4Wts.js";const Hu=[];function An(t,e=!1){return si(t,new Map,"",Hu)}function si(t,e,n,r,i=null){if(typeof t=="object"&&t!==null){var a=e.get(t);if(a!==void 0)return a;if(t instanceof Map)return new Map(t);if(t instanceof Set)return new Set(t);if(wl(t)){var s=Array(t.length);e.set(t,s),i!==null&&e.set(i,s);for(var o=0;o<t.length;o+=1){var c=t[o];o in t&&(s[o]=si(c,e,n,r))}return s}if(uu(t)===du){s={},e.set(t,s),i!==null&&e.set(i,s);for(var u in t)s[u]=si(t[u],e,n,r);return s}if(t instanceof Date)return structuredClone(t);if(typeof t.toJSON=="function")return si(t.toJSON(),e,n,r,t)}if(t instanceof EventTarget)return t;try{return structuredClone(t)}catch{return t}}function oi(t,e,n){Yt&&pi();var r=t,i=hu,a,s=xl()?fu:kl;gs(()=>{s(i,i=e())&&(a&&ms(a),a=Ni(()=>n(r)))}),Yt&&(r=an)}function ve(t,e){return e}function Wu(t,e,n,r){for(var i=[],a=e.length,s=0;s<a;s++)_u(e[s].e,i,!0);var o=a>0&&i.length===0&&n!==null;if(o){var c=n.parentNode;wu(c),c.append(n),r.clear(),yn(t,e[0].prev,e[a-1].next)}xu(i,()=>{for(var u=0;u<a;u++){var v=e[u];o||(r.delete(v.k),yn(t,v.prev,v.next)),Al(v.e,!o)}})}function pe(t,e,n,r,i,a=null){var s=t,o={flags:e,items:new Map,first:null},c=(e&Cl)!==0;if(c){var u=t;s=Yt?br(Sl(u)):u.appendChild(El())}Yt&&pi();var v=null,m=!1,h=vu(()=>{var l=n();return wl(l)?l:l==null?[]:Tl(l)});gs(()=>{var l=_(h),p=l.length;if(m&&p===0)return;m=p===0;let d=!1;if(Yt){var b=pu(s)===gu;b!==(p===0)&&(s=Qs(),br(s),yr(!1),d=!0)}if(Yt){for(var y=null,w,k=0;k<p;k++){if(an.nodeType===8&&an.data===mu){s=an,d=!0,yr(!1);break}var T=l[k],x=r(T,k);w=Ll(an,o,y,null,T,x,k,i,e,n),o.items.set(x,w),y=w}p>0&&br(Qs())}Yt||Uu(l,o,s,i,e,r,n),a!==null&&(p===0?v?bs(v):v=Ni(()=>a(s)):v!==null&&ms(v,()=>{v=null})),d&&yr(!0),_(h)}),Yt&&(s=an)}function Uu(t,e,n,r,i,a,s){var f,L,j,V;var o=(i&yu)!==0,c=(i&(ys|_s))!==0,u=t.length,v=e.items,m=e.first,h=m,l,p=null,d,b=[],y=[],w,k,T,x;if(o)for(x=0;x<u;x+=1)w=t[x],k=a(w,x),T=v.get(k),T!==void 0&&((f=T.a)==null||f.measure(),(d??(d=new Set)).add(T));for(x=0;x<u;x+=1){if(w=t[x],k=a(w,x),T=v.get(k),T===void 0){var O=h?h.e.nodes_start:n;p=Ll(O,e,p,p===null?e.first:p.next,w,k,x,r,i,s),v.set(k,p),b=[],y=[],h=p.next;continue}if(c&&ju(T,w,x,i),(T.e.f&sa)!==0&&(bs(T.e),o&&((L=T.a)==null||L.unfix(),(d??(d=new Set)).delete(T))),T!==h){if(l!==void 0&&l.has(T)){if(b.length<y.length){var A=y[0],P;p=A.prev;var I=b[0],M=b[b.length-1];for(P=0;P<b.length;P+=1)oo(b[P],A,n);for(P=0;P<y.length;P+=1)l.delete(y[P]);yn(e,I.prev,M.next),yn(e,p,I),yn(e,M,A),h=A,p=M,x-=1,b=[],y=[]}else l.delete(T),oo(T,h,n),yn(e,T.prev,T.next),yn(e,T,p===null?e.first:p.next),yn(e,p,T),p=T;continue}for(b=[],y=[];h!==null&&h.k!==k;)(h.e.f&sa)===0&&(l??(l=new Set)).add(h),y.push(h),h=h.next;if(h===null)continue;T=h}b.push(T),p=T,h=T.next}if(h!==null||l!==void 0){for(var z=l===void 0?[]:Tl(l);h!==null;)(h.e.f&sa)===0&&z.push(h),h=h.next;var E=z.length;if(E>0){var R=(i&Cl)!==0&&u===0?n:null;if(o){for(x=0;x<E;x+=1)(j=z[x].a)==null||j.measure();for(x=0;x<E;x+=1)(V=z[x].a)==null||V.fix()}Wu(e,z,R,v)}}o&&Il(()=>{var Z;if(d!==void 0)for(T of d)(Z=T.a)==null||Z.apply()}),Ir.first=e.first&&e.first.e,Ir.last=p&&p.e}function ju(t,e,n,r){(r&ys)!==0&&to(t.v,e),(r&_s)!==0?to(t.i,n):t.i=n}function Ll(t,e,n,r,i,a,s,o,c,u){var v=(c&ys)!==0,m=(c&ku)===0,h=v?m?bu(i):eo(i):i,l=(c&_s)===0?s:eo(s),p={i:l,v:h,k:a,a:null,e:null,prev:n,next:r};try{return p.e=Ni(()=>o(t,h,l,u),Yt),p.e.prev=n&&n.e,p.e.next=r&&r.e,n===null?e.first=p:(n.next=p,n.e.next=p.e),r!==null&&(r.prev=p,r.e.prev=p.e),p}finally{}}function oo(t,e,n){for(var r=t.next?t.next.e.nodes_start:n,i=e?e.e.nodes_start:n,a=t.e.nodes_start;a!==r;){var s=Eu(a);i.before(a),a=s}}function yn(t,e,n){e===null?t.first=n:(e.next=n,e.e.next=n&&n.e),n!==null&&(n.prev=e,n.e.prev=e&&e.e)}function $u(t,e,n,r,i,a){let s=Yt;Yt&&pi();var o,c,u=null;Yt&&an.nodeType===1&&(u=an,pi());var v=Yt?an:t,m;gs(()=>{const h=e()||null;var l=Cu;h!==o&&(m&&(h===null?ms(m,()=>{m=null,c=null}):h===c?bs(m):(Al(m),io(!1))),h&&h!==c&&(m=Ni(()=>{if(u=Yt?u:document.createElementNS(l,h),su(u,u),r){Yt&&ou(h)&&u.append(document.createComment(""));var p=Yt?Sl(u):u.appendChild(El());Yt&&(p===null?yr(!1):br(p)),r(u,p)}Ir.nodes_end=u,v.before(u)})),o=h,o&&(c=o),io(!0))},Ol),s&&(yr(!0),br(v))}function qu(t,e,n){Rl(()=>{var r=Fi(()=>e(t,n==null?void 0:n())||{});if(n&&(r!=null&&r.update)){var i=!1,a={};ws(()=>{var s=n();Su(s),i&&kl(a,s)&&(a=s,r.update(s))}),i=!0}if(r!=null&&r.destroy)return()=>r.destroy()})}const Gu=()=>performance.now(),sn={tick:t=>requestAnimationFrame(t),now:()=>Gu(),tasks:new Set};function Nl(){const t=sn.now();sn.tasks.forEach(e=>{e.c(t)||(sn.tasks.delete(e),e.f())}),sn.tasks.size!==0&&sn.tick(Nl)}function Ku(t){let e;return sn.tasks.size===0&&sn.tick(Nl),{promise:new Promise(n=>{sn.tasks.add(e={c:t,f:n})}),abort(){sn.tasks.delete(e)}}}function Xr(t,e){yl(()=>{t.dispatchEvent(new CustomEvent(e))})}function Zu(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;const e=t.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("")}function lo(t){const e={},n=t.split(";");for(const r of n){const[i,a]=r.split(":");if(!i||a===void 0)break;const s=Zu(i.trim());e[s]=a.trim()}return e}const Xu=t=>t;function Yu(t,e,n,r){var i=(t&Au)!==0,a="both",s,o=e.inert,c=e.style.overflow,u,v;function m(){var b=Ru,y=Ir;no(null),ro(null);try{return s??(s=n()(e,(r==null?void 0:r())??{},{direction:a}))}finally{no(b),ro(y)}}var h={is_global:i,in(){e.inert=o,Xr(e,"introstart"),u=Fa(e,m(),v,1,()=>{Xr(e,"introend"),u==null||u.abort(),u=s=void 0,e.style.overflow=c})},out(b){e.inert=!0,Xr(e,"outrostart"),v=Fa(e,m(),u,0,()=>{Xr(e,"outroend"),b==null||b()})},stop:()=>{u==null||u.abort(),v==null||v.abort()}},l=Ir;if((l.transitions??(l.transitions=[])).push(h),zu){var p=i;if(!p){for(var d=l.parent;d&&(d.f&Ol)!==0;)for(;(d=d.parent)&&(d.f&Tu)===0;);p=!d||(d.f&Iu)!==0}p&&Rl(()=>{Fi(()=>h.in())})}}function Fa(t,e,n,r,i){var a=r===1;if(Ou(e)){var s,o=!1;return Il(()=>{if(!o){var b=e({direction:a?"in":"out"});s=Fa(t,b,n,r,i)}}),{abort:()=>{o=!0,s==null||s.abort()},deactivate:()=>s.deactivate(),reset:()=>s.reset(),t:()=>s.t()}}if(n==null||n.deactivate(),!(e!=null&&e.duration))return i(),{abort:Rt,deactivate:Rt,reset:Rt,t:()=>r};const{delay:c=0,css:u,tick:v,easing:m=Xu}=e;var h=[];if(a&&n===void 0&&(v&&v(0,1),u)){var l=lo(u(0,1));h.push(l,l)}var p=()=>1-r,d=t.animate(h,{duration:c,fill:"forwards"});return d.onfinish=()=>{d.cancel();var b=(n==null?void 0:n.t())??1-r;n==null||n.abort();var y=r-b,w=e.duration*Math.abs(y),k=[];if(w>0){var T=!1;if(u)for(var x=Math.ceil(w/16.666666666666668),O=0;O<=x;O+=1){var A=b+y*m(O/x),P=lo(u(A,1-A));k.push(P),T||(T=P.overflow==="hidden")}T&&(t.style.overflow="hidden"),p=()=>{var I=d.currentTime;return b+y*m(I/w)},v&&Ku(()=>{if(d.playState!=="running")return!1;var I=p();return v(I,1-I),!0})}d=t.animate(k,{duration:w,fill:"forwards"}),d.onfinish=()=>{p=()=>r,v==null||v(r,1-r),i()}},{abort:()=>{d&&(d.cancel(),d.effect=null,d.onfinish=Rt)},deactivate:()=>{i=Rt},reset:()=>{r===0&&(v==null||v(1,0))},t:()=>p()}}function xn(t,e,n=e){var r=xl();_l(t,"input",i=>{var a=i?t.defaultValue:t.value;if(a=oa(t)?la(a):a,n(a),r&&a!==(a=e())){var s=t.selectionStart,o=t.selectionEnd;t.value=a??"",o!==null&&(t.selectionStart=s,t.selectionEnd=Math.min(o,t.value.length))}}),(Yt&&t.defaultValue!==t.value||Fi(e)==null&&t.value)&&n(oa(t)?la(t.value):t.value),ws(()=>{var i=e();oa(t)&&i===la(t.value)||t.type==="date"&&!i&&!t.value||i!==t.value&&(t.value=i??"")})}function Fl(t,e,n=e){_l(t,"change",r=>{var i=r?t.defaultChecked:t.checked;n(i)}),(Yt&&t.defaultChecked!==t.checked||Fi(e)==null)&&n(t.checked),ws(()=>{var r=e();t.checked=!!r})}function oa(t){var e=t.type;return e==="number"||e==="range"}function la(t){return t===""?null:+t}function co(t,e){lu(window,["resize"],()=>yl(()=>e(window[t])))}let zi,Bi,cn,Mi,Ve;const He=(t,e)=>t+e*cn,zl=t=>[t%cn,Math.floor(t/cn)],Es=(t,e,n,r)=>{zi=t,Bi=e;const i=Bl(r);Mi=i.length,cn=n,Ve=i,Ar.clear();for(const[a,s]of i.entries())Ar.set(s,a*cn);sr.clear(),un.clear(),Or.clear()},Ar=new Map,sr=new Map,un=new Map,Or=new Map,gt={w:{key:"w",label:"後"},a:{key:"a",label:"左"},s:{key:"s",label:"前"},d:{key:"d",label:"右"},q:{key:"q",label:"左後"},e:{key:"e",label:"右後"},z:{key:"z",label:"左前"},c:{key:"c",label:"右前"}},Vi=t=>t.map(e=>e.key).join(""),Bl=t=>t.split("").map(e=>e in gt?gt[e]:{key:e,label:""}),We={label:"RPGEN",w:16,h:16,frames:2,ways:[gt.w,gt.d,gt.s,gt.a]},Ml={label:"RPGツクール2000",w:24,h:32,frames:3,ways:[gt.w,gt.d,gt.s,gt.a]},Vl={label:"RPGツクールXP",w:32,h:48,frames:4,ways:[gt.s,gt.a,gt.d,gt.w]},Hl={label:"RPGツクールVX",w:32,h:32,frames:3,ways:[gt.s,gt.a,gt.d,gt.w]},Wl={label:"RPGツクールMV",w:48,h:48,frames:3,ways:[gt.s,gt.a,gt.d,gt.w]},Cs=[We,Ml,Vl,Hl,Wl],Hi=Object.freeze(Object.defineProperty({__proto__:null,RPGEN:We,RPGMaker2000:Ml,RPGMakerMV:Wl,RPGMakerVX:Hl,RPGMakerXP:Vl,canvasByI:un,dataURLByI:Or,get frames(){return cn},get height(){return Bi},iByWay:Ar,init:Es,layersByI:sr,standards:Cs,strToWays:Bl,toI:He,toXY:zl,way:gt,get ways(){return Mi},get waysOrder(){return Ve},waysToStr:Vi,get width(){return zi}},Symbol.toStringTag,{value:"Module"}));var Ju=(t,e,n,r,i,a)=>{const s=(m,h)=>{const l=(h*e+m)*4;return[t[l],t[l+1],t[l+2],t[l+3]]},o=(m,h,l)=>{const p=(h*e+m)*4;[t[p],t[p+1],t[p+2],t[p+3]]=l},c=(m,h)=>m.every((l,p)=>l===h[p]),u=s(r,i);if(c(u,a))return null;const v=[[r,i]];for(;v.length>0;){const m=v.pop();if(!m)break;const[h,l]=m;if(h<0||l<0||h>=e||l>=n)continue;const p=s(h,l);c(p,u)&&(o(h,l,a),v.push([h+1,l],[h-1,l],[h,l+1],[h,l-1]))}return t},de,gl,Qu=(gl=class{constructor(){bn(this,de);ye(this,de,{value:null,prev:null,next:null})}add(t){const e={value:t,prev:te(this,de),next:null};te(this,de).next=e,ye(this,de,e)}undo(){const{prev:t}=te(this,de);return t===null||t.value===null?null:(ye(this,de,t),te(this,de).value)}redo(){const{next:t}=te(this,de);return t===null||t.value===null?null:(ye(this,de,t),te(this,de).value)}},de=new WeakMap,gl),on=null,nn,rn,_r,za,ce,mi=0,ee=[],ir,Br,ml,Wn=(ml=class{constructor(t,e){bn(this,ir);bn(this,Br);ye(this,ir,t),ye(this,Br,e??null)}get value(){return te(this,ir)}set value(t){var e;ye(this,ir,t),(e=te(this,Br))==null||e.call(this)}},ir=new WeakMap,Br=new WeakMap,ml),Bn=new Wn("#222222"),td=new Wn(2),ed=new Wn(16),nd=new Wn(32),Ss=new Wn(!1,()=>{on&&(on.style.transform=`scaleX(${Ss.value?-1:1})`)}),Ba=()=>_r,rd=(t=1,e=64,n=rn)=>{_r=Math.floor(Math.floor(n/e)*t),Ul()},Ma=0,Va=0,Ha=0,Wa=0,Ua=0,ja=0,Pn=null,Ul=()=>{Ma=0,Va=0,Ha=0,Wa=0,Ua=0,ja=0,Pn=null},wr=()=>{const t=[];for(const e of ee)e&&t.push(e);return t},id=(t,e)=>on==null?void 0:on.insertBefore(t,e.nextSibling),Rr=t=>{for(const n of ee)n==null||n.canvas.remove();ee=t,qa();let e=za.canvas;for(const n of ee)n&&(id(n.canvas,e),e=n.canvas)},Ts=new Wn(null),jl=new Wn(null),ad=(t,e=640,n=360)=>{const r=document.createElement("div");t.innerHTML="",t.append(r),on=r,nn=Math.floor(e),rn=Math.floor(n),r.innerHTML="",r.style.position="relative",r.style.zIndex="0",r.style.display="inline-block",r.style.width=`${e}px`,r.style.height=`${n}px`,mi=0,za=new ln(""),ce=new ln(""),ce.canvas.style.zIndex=String(2**16+3),Ts.value=za,jl.value=ce,ee=[]},nr=t=>{const{clientX:e,clientY:n}=t,r=ce.canvas.getBoundingClientRect();let i=Math.floor(e-r.left);const a=Math.floor(n-r.top);return Ss.value&&(i=nn-i),[i,a,t.buttons]},sd=t=>{ce.canvas.addEventListener("click",e=>requestAnimationFrame(()=>t(...nr(e))),{passive:!0}),ce.canvas.addEventListener("contextmenu",e=>e.preventDefault()),ce.canvas.addEventListener("auxclick",e=>{e.preventDefault(),requestAnimationFrame(()=>t(...nr(e)))})},od=t=>{ce.canvas.addEventListener("pointerdown",e=>{Ul(),ce.canvas.setPointerCapture(e.pointerId),$a=!0,requestAnimationFrame(()=>t(...nr(e)))},{passive:!0}),ce.canvas.addEventListener("pointermove",e=>{if($a){for(const n of e.getCoalescedEvents())requestAnimationFrame(()=>t(...nr(n)));requestAnimationFrame(()=>t(...nr(e)))}},{passive:!0}),ce.canvas.addEventListener("touchstart",e=>e.preventDefault()),ce.canvas.addEventListener("touchmove",e=>e.preventDefault())},$a=!1,ld=t=>{ce.canvas.addEventListener("pointerup",e=>{ce.canvas.releasePointerCapture(e.pointerId),$a=!1,requestAnimationFrame(()=>t(...nr(e)))},{passive:!0})},ar,Mr,bl,ln=(bl=class{constructor(t="",e=""){ze(this,"canvas");ze(this,"ctx");ze(this,"name");ze(this,"index");ze(this,"history",new Qu);ze(this,"hash",0);bn(this,ar,!0);bn(this,Mr,100);ze(this,"locked",!1);ze(this,"used",!1);ze(this,"uuid");this.name=t,this.uuid=e||crypto.randomUUID();const n=document.createElement("canvas");on==null||on.append(n),n.width=nn,n.height=rn,n.style.position="absolute",n.style.zIndex=String(++mi),n.style.left="0",n.style.top="0",this.canvas=n;const r=n.getContext("2d",{willReadFrequently:!0});if(!r)throw new Error("Failed to get 2D rendering context");this.ctx=r,ee.push(this),this.index=ee.length-1,this.trace()}get meta(){const{name:t,index:e,hash:n,visible:r,opacity:i,locked:a,used:s,uuid:o}=this;return{name:t,index:e,hash:n,visible:r,opacity:i,locked:a,used:s,uuid:o}}set meta(t){this.name=t.name,this.index=t.index,this.hash=t.hash,this.visible=t.visible,this.opacity=t.opacity,this.locked=t.locked,this.used=t.used,this.uuid=t.uuid}delete(){ee[this.index]=null,this.canvas.remove()}get prev(){const t=ee.slice(0,this.index).findLast(e=>e);return t||null}get next(){const t=ee.slice(this.index+1).find(e=>e);return t||null}swap(t){const e=this.index;if(t===e)return;const n=ee[t];n&&([ee[e],ee[t]]=[ee[t],ee[e]],[this.index,n.index]=[n.index,this.index],[this.canvas.style.zIndex,n.canvas.style.zIndex]=[n.canvas.style.zIndex,this.canvas.style.zIndex])}get visible(){return te(this,ar)}set visible(t){ye(this,ar,t),this.canvas.style.visibility=te(this,ar)?"visible":"hidden"}get opacity(){return te(this,Mr)}set opacity(t){ye(this,Mr,t),this.canvas.style.opacity=`${t}%`}get data(){return this.ctx.getImageData(0,0,nn,rn).data}set data(t){const e=new ImageData(t,nn,rn);this.ctx.putImageData(e,0,0)}modified(){const t=cd(this.data);return this.hash!==t?(this.hash=t,this.used=!0,!0):!1}trace(){this.history.add(this.data)}undo(){if(this.locked)return;const t=this.history.undo();t&&(this.data=t)}redo(){if(this.locked)return;const t=this.history.redo();t&&(this.data=t)}clear(){this.locked||this.ctx.clearRect(0,0,nn,rn)}translateByDot(t,e){if(this.locked)return;const n=_r;Ma+=t,Va+=e;const r=Math.round(Ma/n)*n,i=Math.round(Va/n)*n;(r!==Ha||i!==Wa)&&(Pn||(Pn=this.ctx.getImageData(0,0,nn,rn)),this.clear(),this.ctx.putImageData(Pn,r,i),Ha=r,Wa=i)}translate(t,e){this.locked||(Pn||(Pn=this.ctx.getImageData(0,0,nn,rn)),Ua+=t,ja+=e,this.clear(),this.ctx.putImageData(Pn,Math.floor(Ua),Math.floor(ja)))}eraseByDot(t,e){if(this.locked)return;const n=_r,r=Math.floor(t/n)*n,i=Math.floor(e/n)*n;this.ctx.clearRect(r,i,n,n)}drawByDot(t,e){if(this.locked)return;this.ctx.fillStyle=Bn.value;const n=_r,r=Math.floor(t/n)*n,i=Math.floor(e/n)*n;this.ctx.fillRect(r,i,n,n)}erase(t,e){this.locked||(this.ctx.globalCompositeOperation="destination-out",this.ctx.beginPath(),this.ctx.arc(t,e,nd.value>>1,0,Math.PI*2),this.ctx.fill(),this.ctx.globalCompositeOperation="source-over")}draw(t,e){if(this.locked)return;this.ctx.fillStyle=Bn.value;const n=ed.value,r=n>>1;this.ctx.fillRect(t-r,e-r,n,n)}drawLine(t,e,n,r){this.locked||(this.ctx.strokeStyle=Bn.value,this.ctx.lineWidth=td.value,this.ctx.lineCap="round",this.ctx.beginPath(),this.ctx.moveTo(t,e),this.ctx.lineTo(n,r),this.ctx.stroke())}},ar=new WeakMap,Mr=new WeakMap,bl),xr=()=>{const t=document.createElement("canvas");t.width=nn,t.height=rn;const e=t.getContext("2d");if(!e)throw new Error("Failed to get 2D rendering context");for(const n of ee)!n||!n.visible||(e.globalAlpha=n.opacity/100,e.drawImage(n.canvas,0,0));return t},qa=()=>{mi=2;const t=wr();for(const[e,n]of t.entries())n.index=e,n.canvas.style.zIndex=String(++mi);ee=t},cd=t=>{let e=2166136261;for(let n=0;n<t.length;n++)e^=t[n],e=Math.imul(e,16777619);return e>>>0},ud=(t,e,n,r)=>{const i=n-t,a=r-e,s=Math.max(...[i,a].map(Math.abs))||1,o=i/s,c=a/s;return[...new Array(s).keys()].map(u=>[u*o+t,u*c+e].map(Math.round))};const $l=typeof window<"u",uo=t=>$l?localStorage.getItem(t):null,fo=(t,e)=>{$l&&(e===null?localStorage.removeItem(t):localStorage.setItem(t,e))};var wn,Vr;class ql{constructor(e,n){bn(this,wn);bn(this,Vr);ye(this,wn,e),ye(this,Vr,n)}get value(){return uo(te(this,wn))}set value(e){var n;this.value!==e&&(fo(te(this,wn),e),(n=te(this,Vr))==null||n.call(this))}get json(){try{const e=uo(te(this,wn));return e?JSON.parse(e):null}finally{this.value=null}}set json(e){e===null&&fo(te(this,wn),null),this.value=JSON.stringify(e)}}wn=new WeakMap,Vr=new WeakMap;const ho=new ql("tool"),Gl=new ql("color"),Dn=ks(Gl.value??Bn.value),kr=ks(0);/**
 * @license @lucide/svelte v0.511.0 - ISC
 *
 * ISC License
 * 
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 * 
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 * 
 */const dd={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};var fd=cu("<svg><!><!></svg>");function Ut(t,e){bt(e,!0);const n=W(e,"color",3,"currentColor"),r=W(e,"size",3,24),i=W(e,"strokeWidth",3,2),a=W(e,"absoluteStrokeWidth",3,!1),s=W(e,"iconNode",19,()=>[]),o=Nt(e,["$$slots","$$events","$$legacy","name","color","size","strokeWidth","absoluteStrokeWidth","iconNode","children"]);var c=fd();$t(c,m=>({...dd,...o,width:r(),height:r(),stroke:n(),"stroke-width":m,class:["lucide-icon lucide",e.name&&`lucide-${e.name}`,e.class]}),[()=>a()?Number(i())*24/Number(r()):i()]);var u=K(c);pe(u,17,s,ve,(m,h)=>{var l=ct(()=>Pu(_(h),2));let p=()=>_(l)[0],d=()=>_(l)[1];var b=Et(),y=pt(b);$u(y,p,!0,(w,k)=>{$t(w,()=>({...d()}))}),Q(m,b)});var v=X(u);At(v,()=>e.children??Rt),$(c),Q(t,c),yt()}function Ga(t,e){bt(e,!0);let n=Nt(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M12 5v14"}],["path",{d:"m19 12-7 7-7-7"}]];Ut(t,Wt({name:"arrow-down"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=Et(),o=pt(s);At(o,()=>e.children??Rt),Q(i,s)},$$slots:{default:!0}})),yt()}function hd(t,e){bt(e,!0);let n=Nt(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m12 19-7-7 7-7"}],["path",{d:"M19 12H5"}]];Ut(t,Wt({name:"arrow-left"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=Et(),o=pt(s);At(o,()=>e.children??Rt),Q(i,s)},$$slots:{default:!0}})),yt()}function vd(t,e){bt(e,!0);let n=Nt(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M5 12h14"}],["path",{d:"m12 5 7 7-7 7"}]];Ut(t,Wt({name:"arrow-right"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=Et(),o=pt(s);At(o,()=>e.children??Rt),Q(i,s)},$$slots:{default:!0}})),yt()}function Ln(t,e){bt(e,!0);let n=Nt(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m5 12 7-7 7 7"}],["path",{d:"M12 19V5"}]];Ut(t,Wt({name:"arrow-up"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=Et(),o=pt(s);At(o,()=>e.children??Rt),Q(i,s)},$$slots:{default:!0}})),yt()}function pd(t,e){bt(e,!0);let n=Nt(e,["$$slots","$$events","$$legacy"]);const r=[["circle",{cx:"11",cy:"13",r:"9"}],["path",{d:"M14.35 4.65 16.3 2.7a2.41 2.41 0 0 1 3.4 0l1.6 1.6a2.4 2.4 0 0 1 0 3.4l-1.95 1.95"}],["path",{d:"m22 2-1.5 1.5"}]];Ut(t,Wt({name:"bomb"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=Et(),o=pt(s);At(o,()=>e.children??Rt),Q(i,s)},$$slots:{default:!0}})),yt()}function gd(t,e){bt(e,!0);let n=Nt(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M20 6 9 17l-5-5"}]];Ut(t,Wt({name:"check"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=Et(),o=pt(s);At(o,()=>e.children??Rt),Q(i,s)},$$slots:{default:!0}})),yt()}function vo(t,e){bt(e,!0);let n=Nt(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21"}],["path",{d:"M22 21H7"}],["path",{d:"m5 11 9 9"}]];Ut(t,Wt({name:"eraser"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=Et(),o=pt(s);At(o,()=>e.children??Rt),Q(i,s)},$$slots:{default:!0}})),yt()}function md(t,e){bt(e,!0);let n=Nt(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m15 18-.722-3.25"}],["path",{d:"M2 8a10.645 10.645 0 0 0 20 0"}],["path",{d:"m20 15-1.726-2.05"}],["path",{d:"m4 15 1.726-2.05"}],["path",{d:"m9 18 .722-3.25"}]];Ut(t,Wt({name:"eye-closed"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=Et(),o=pt(s);At(o,()=>e.children??Rt),Q(i,s)},$$slots:{default:!0}})),yt()}function Ka(t,e){bt(e,!0);let n=Nt(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0"}],["circle",{cx:"12",cy:"12",r:"3"}]];Ut(t,Wt({name:"eye"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=Et(),o=pt(s);At(o,()=>e.children??Rt),Q(i,s)},$$slots:{default:!0}})),yt()}function bd(t,e){bt(e,!0);let n=Nt(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m3 7 5 5-5 5V7"}],["path",{d:"m21 7-5 5 5 5V7"}],["path",{d:"M12 20v2"}],["path",{d:"M12 14v2"}],["path",{d:"M12 8v2"}],["path",{d:"M12 2v2"}]];Ut(t,Wt({name:"flip-horizontal-2"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=Et(),o=pt(s);At(o,()=>e.children??Rt),Q(i,s)},$$slots:{default:!0}})),yt()}function yd(t,e){bt(e,!0);let n=Nt(e,["$$slots","$$events","$$legacy"]);const r=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M3 9h18"}],["path",{d:"M3 15h18"}],["path",{d:"M9 3v18"}],["path",{d:"M15 3v18"}]];Ut(t,Wt({name:"grid-3x3"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=Et(),o=pt(s);At(o,()=>e.children??Rt),Q(i,s)},$$slots:{default:!0}})),yt()}function po(t,e){bt(e,!0);let n=Nt(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M13 13.74a2 2 0 0 1-2 0L2.5 8.87a1 1 0 0 1 0-1.74L11 2.26a2 2 0 0 1 2 0l8.5 4.87a1 1 0 0 1 0 1.74z"}],["path",{d:"m20 14.285 1.5.845a1 1 0 0 1 0 1.74L13 21.74a2 2 0 0 1-2 0l-8.5-4.87a1 1 0 0 1 0-1.74l1.5-.845"}]];Ut(t,Wt({name:"layers-2"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=Et(),o=pt(s);At(o,()=>e.children??Rt),Q(i,s)},$$slots:{default:!0}})),yt()}function _d(t,e){bt(e,!0);let n=Nt(e,["$$slots","$$events","$$legacy"]);const r=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1"}]];Ut(t,Wt({name:"lock-open"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=Et(),o=pt(s);At(o,()=>e.children??Rt),Q(i,s)},$$slots:{default:!0}})),yt()}function Za(t,e){bt(e,!0);let n=Nt(e,["$$slots","$$events","$$legacy"]);const r=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4"}]];Ut(t,Wt({name:"lock"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=Et(),o=pt(s);At(o,()=>e.children??Rt),Q(i,s)},$$slots:{default:!0}})),yt()}function wd(t,e){bt(e,!0);let n=Nt(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"}]];Ut(t,Wt({name:"moon"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=Et(),o=pt(s);At(o,()=>e.children??Rt),Q(i,s)},$$slots:{default:!0}})),yt()}function xd(t,e){bt(e,!0);let n=Nt(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M12 2v20"}],["path",{d:"m15 19-3 3-3-3"}],["path",{d:"m19 9 3 3-3 3"}],["path",{d:"M2 12h20"}],["path",{d:"m5 9-3 3 3 3"}],["path",{d:"m9 5 3-3 3 3"}]];Ut(t,Wt({name:"move"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=Et(),o=pt(s);At(o,()=>e.children??Rt),Q(i,s)},$$slots:{default:!0}})),yt()}function kd(t,e){bt(e,!0);let n=Nt(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z"}],["path",{d:"m5 2 5 5"}],["path",{d:"M2 13h15"}],["path",{d:"M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z"}]];Ut(t,Wt({name:"paint-bucket"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=Et(),o=pt(s);At(o,()=>e.children??Rt),Q(i,s)},$$slots:{default:!0}})),yt()}function Ed(t,e){bt(e,!0);let n=Nt(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"}]];Ut(t,Wt({name:"pen"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=Et(),o=pt(s);At(o,()=>e.children??Rt),Q(i,s)},$$slots:{default:!0}})),yt()}function Cd(t,e){bt(e,!0);let n=Nt(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m12 9-8.414 8.414A2 2 0 0 0 3 18.828v1.344a2 2 0 0 1-.586 1.414A2 2 0 0 1 3.828 21h1.344a2 2 0 0 0 1.414-.586L15 12"}],["path",{d:"m18 9 .4.4a1 1 0 1 1-3 3l-3.8-3.8a1 1 0 1 1 3-3l.4.4 3.4-3.4a1 1 0 1 1 3 3z"}],["path",{d:"m2 22 .414-.414"}]];Ut(t,Wt({name:"pipette"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=Et(),o=pt(s);At(o,()=>e.children??Rt),Q(i,s)},$$slots:{default:!0}})),yt()}function Sd(t,e){bt(e,!0);let n=Nt(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M5 12h14"}],["path",{d:"M12 5v14"}]];Ut(t,Wt({name:"plus"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=Et(),o=pt(s);At(o,()=>e.children??Rt),Q(i,s)},$$slots:{default:!0}})),yt()}function Td(t,e){bt(e,!0);let n=Nt(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M21 7v6h-6"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7"}]];Ut(t,Wt({name:"redo"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=Et(),o=pt(s);At(o,()=>e.children??Rt),Q(i,s)},$$slots:{default:!0}})),yt()}function Id(t,e){bt(e,!0);let n=Nt(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7"}]];Ut(t,Wt({name:"save"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=Et(),o=pt(s);At(o,()=>e.children??Rt),Q(i,s)},$$slots:{default:!0}})),yt()}function Ad(t,e){bt(e,!0);let n=Nt(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z"}]];Ut(t,Wt({name:"square-pen"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=Et(),o=pt(s);At(o,()=>e.children??Rt),Q(i,s)},$$slots:{default:!0}})),yt()}function Od(t,e){bt(e,!0);let n=Nt(e,["$$slots","$$events","$$legacy"]);const r=[["circle",{cx:"12",cy:"12",r:"4"}],["path",{d:"M12 2v2"}],["path",{d:"M12 20v2"}],["path",{d:"m4.93 4.93 1.41 1.41"}],["path",{d:"m17.66 17.66 1.41 1.41"}],["path",{d:"M2 12h2"}],["path",{d:"M20 12h2"}],["path",{d:"m6.34 17.66-1.41 1.41"}],["path",{d:"m19.07 4.93-1.41 1.41"}]];Ut(t,Wt({name:"sun"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=Et(),o=pt(s);At(o,()=>e.children??Rt),Q(i,s)},$$slots:{default:!0}})),yt()}function bi(t,e){bt(e,!0);let n=Nt(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M3 6h18"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17"}]];Ut(t,Wt({name:"trash-2"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=Et(),o=pt(s);At(o,()=>e.children??Rt),Q(i,s)},$$slots:{default:!0}})),yt()}function Rd(t,e){bt(e,!0);let n=Nt(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M3 7v6h6"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13"}]];Ut(t,Wt({name:"undo"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=Et(),o=pt(s);At(o,()=>e.children??Rt),Q(i,s)},$$slots:{default:!0}})),yt()}function Wi(t,e){bt(e,!0);let n=Nt(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]];Ut(t,Wt({name:"x"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=Et(),o=pt(s);At(o,()=>e.children??Rt),Q(i,s)},$$slots:{default:!0}})),yt()}var Pd=()=>{},Dd=ft('<img alt="frame" class="gimp-checkered-background w-full h-full object-cover bg-surface-500"/>'),Ld=ft('<div tabindex="0" role="button"><div class="absolute top-1 left-1 bg-primary-600/80 text-white text-xs font-bold rounded-full w-4 h-4 flex items-center justify-center"> </div> <!></div>'),Nd=ft('<div class="flex items-center gap-4"><div class="flex gap-4"></div> <div class="w-6 text-sm font-semibold"><!></div></div>'),Fd=ft('<section class="space-y-4"><!></section>');function zd(t,e){bt(e,!0);const[n,r]=xs(),i=()=>gi(kr,"$activeIndex",n);let a=W(e,"activeLayer",15,void 0),s=0;Vt(()=>{e.initTimestamp&&(kr.set(0),s=0)}),Vt(()=>{if(!e.initTimestamp)return;sr.set(s,wr());const v=sr.get(i());v?(Rr(v),a(v[v.length-1])):(Rr([]),a(new ln("レイヤー #1")))}),Es(We.w,We.h,We.frames,Vi(We.ways));let o=mt(0);Vt(()=>{if(!e.initTimestamp||!e.pointerupTimestamp)return;const v=xr();un.set(i(),v);const m=v.toDataURL("image/png");Or.set(i(),m),et(o,performance.now(),!0)});var c=Fd(),u=K(c);oi(u,()=>e.initTimestamp,v=>{var m=Et(),h=pt(m);pe(h,17,()=>Array(Mi),ve,(l,p,d)=>{var b=Nd(),y=K(b);pe(y,21,()=>Array(cn),ve,(O,A,P)=>{var I=Et(),M=pt(I);oi(M,()=>He(P,d),z=>{var E=Ld();E.__keydown=[Pd],E.__click=()=>{const j=He(P,d);i()!==j&&(s=i(),kr.set(j))};var R=K(E),f=K(R,!0);$(R);var L=X(R,2);oi(L,()=>_(o),j=>{var V=Dd();Ot(Z=>Ht(V,"src",Z),[()=>Or.get(He(P,d))??"https://placehold.co/32x32?text=new"]),Q(j,V)}),$(E),Ot((j,V)=>{ne(E,1,j),ue(f,V)},[()=>`relative w-16 h-16 rounded-container overflow-hidden cursor-pointer ${i()===He(P,d)?"ring-4 ring-primary-500 ring-offset-2":""}`,()=>He(P,d)+1]),Q(z,E)}),Q(O,I)}),$(y);var w=X(y,2),k=K(w);{var T=O=>{Ln(O,{})},x=(O,A)=>{{var P=M=>{hd(M,{})},I=(M,z)=>{{var E=f=>{Ga(f,{})},R=(f,L)=>{{var j=Z=>{vd(Z,{})},V=(Z,U)=>{{var tt=B=>{Ln(B,{class:"rotate-315"})},N=(B,ot)=>{{var nt=wt=>{Ln(wt,{class:"rotate-45"})},J=(wt,St)=>{{var dt=ht=>{Ln(ht,{class:"rotate-225"})},xt=(ht,Ct)=>{{var Mt=Bt=>{Ln(Bt,{class:"rotate-135"})};Lt(ht,Bt=>{Ve[d]===gt.c&&Bt(Mt)},Ct)}};Lt(wt,ht=>{Ve[d]===gt.z?ht(dt):ht(xt,!1)},St)}};Lt(B,wt=>{Ve[d]===gt.e?wt(nt):wt(J,!1)},ot)}};Lt(Z,B=>{Ve[d]===gt.q?B(tt):B(N,!1)},U)}};Lt(f,Z=>{Ve[d]===gt.d?Z(j):Z(V,!1)},L)}};Lt(M,f=>{Ve[d]===gt.s?f(E):f(R,!1)},z)}};Lt(O,M=>{Ve[d]===gt.a?M(P):M(I,!1)},A)}};Lt(k,O=>{Ve[d]===gt.w?O(T):O(x,!1)})}$(w),$(b),Q(l,b)}),Q(v,m)}),$(c),Q(t,c),yt(),r()}me(["keydown","click"]);var Yr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Wr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ca,go;function Bd(){if(go)return ca;go=1;function t(e){var n=e[0],r=e[1]/100,i=e[2]/100,a,s;return i===0?[0,0,0]:(i*=2,r*=i<=1?i:2-i,s=(i+r)/2,a=2*r/(i+r),[n,a*100,s*100])}return ca=t,ca}var Md=Bd();const Vd=Wr(Md);var ua,mo;function Hd(){if(mo)return ua;mo=1;function t(e){var n=e[0],r=e[1]/100,i=e[2]/100,a,s;return s=(2-r)*i,a=r*i,a/=s<=1?s:2-s,a=a||0,s/=2,[n,a*100,s*100]}return ua=t,ua}var Wd=Hd();const Ud=Wr(Wd);function jd(t){var e=t[0],n=t[1],r=t[2],i=Math.max(e,n,r),a=Math.min(e,n,r),s=i-a,o=s&&60*(i===e?(n-r)/s%6:i===n?(r-e)/s+2:(e-n)/s+4);return[o<0?o+360:o,i&&s*100/i,i*100/255]}function $d(t){var e=t[0]/60,n=t[1]/100,r=t[2]/100,i=r*n,a=i*(1-Math.abs(e%2-1)),s=r-i,o=(a+s)*255+.5|0,c=(i+s)*255+.5|0,u=s*255+.5|0,v=e|0;return v===1?[o,c,u]:v===2?[u,c,o]:v===3?[u,o,c]:v===4?[o,u,c]:v===5?[c,u,o]:[c,o,u]}var da,bo;function qd(){if(bo)return da;bo=1;function t(e,n,r){return Math.min(Math.max(e,n),r)}return da=t,da}var fa,yo;function Gd(){if(yo)return fa;yo=1;var t=qd();function e(r){var i=Math.round(t(r,0,255)),a=i.toString(16);return a.length==1?"0"+a:a}function n(r){var i=r.length===4?e(r[3]*255):"";return"#"+e(r[0])+e(r[1])+e(r[2])+i}return fa=n,fa}var Kd=Gd();const Zd=Wr(Kd);var ha,_o;function Xd(){if(_o)return ha;_o=1;function t(n){for(var r="#",i=1;i<n.length;i++){var a=n.charAt(i);r+=a+a}return r}function e(n){(n.length===4||n.length===5)&&(n=t(n));var r=[parseInt(n.substring(1,3),16),parseInt(n.substring(3,5),16),parseInt(n.substring(5,7),16)];if(n.length===9){var i=parseFloat((parseInt(n.substring(7,9),16)/255).toFixed(2));r.push(i)}return r}return ha=e,ha}var Yd=Xd();const Jd=Wr(Yd);function wo(t,e){return t?[va(t[0])?Kl(t[0]):e[0],va(t[1])?yi(t[1]):e[1],va(t[2])?yi(t[2]):e[2]]:e}function xo(t){return[Kl(t[0]),yi(t[1]),yi(t[2])]}function Kl(t){var e=Math.round(t%360*10)/10;return e<0?e+360:e}function yi(t){return t<0?0:t>100?100:(t*10+.5|0)/10}function va(t){return typeof t=="number"&&isFinite(t)}var Er=typeof globalThis<"u"?globalThis:self,pa="PointerEvent"in Er?function(t,e,n){t.addEventListener("pointerdown",function(r){r.button===0&&e(r)!==!1&&this.setPointerCapture(r.pointerId)}),t.addEventListener("pointermove",function(r){this.hasPointerCapture(r.pointerId)&&n(r)})}:"ontouchend"in Er?function(t,e,n){var r=!1;t.addEventListener("touchstart",function(i){i.touches.length===1&&e(i.touches[0])!==!1&&(r=!0,i.preventDefault())}),t.addEventListener("touchmove",function(i){r&&i.touches.length===1&&(i.preventDefault(),n(i.touches[0]))})}:function(t,e,n){var r=function(a){n(a)},i=function(){removeEventListener("mouseup",i),removeEventListener("mousemove",r)};t.addEventListener("mousedown",function(a){a.button===0&&e(a)!==!1&&(addEventListener("mousemove",r),addEventListener("mouseup",i))})},On={hsv:[0,100,100],hsl:[0,100,50],wheelDiameter:200,wheelThickness:20,handleDiameter:16,wheelReflectsSaturation:!0,onChange:function(){}},Xa=Er.DOMMatrix||Er.WebKitCSSMatrix||Er.MSCSSMatrix,Qd=function(t){for(var e=[t];t=t.parentElement;)e.push(t);for(var n=new Xa,r=e.length-1;r>=0;r--){var i=getComputedStyle(e[r]),a=i.transform;if(a&&a!=="none"){var s=i.transformOrigin.split(" ").map(parseFloat);n=n.translate(s[0],s[1]).multiply(new Xa(a)).translate(-s[0],-s[1])}}return n.inverse()},ga=function(t,e){return t===e||t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},tf=function(){function t(e){var n=this;this.options=e,this.wheelDiameter=this.options.wheelDiameter||On.wheelDiameter,this.wheelThickness=this.options.wheelThickness||On.wheelThickness,this.handleDiameter=this.options.handleDiameter||On.handleDiameter,this.onChange=this.options.onChange||On.onChange,this.wheelReflectsSaturation=this.options.wheelReflectsSaturation!==void 0?this.options.wheelReflectsSaturation:On.wheelReflectsSaturation,this.rootElement=this.options.appendTo.appendChild(fr("div","reinvented-color-wheel")),this.hueWheelElement=this.rootElement.appendChild(fr("canvas","reinvented-color-wheel--hue-wheel")),this.hueWheelContext=this.hueWheelElement.getContext("2d"),this.hueHandleElement=this.rootElement.appendChild(fr("div","reinvented-color-wheel--hue-handle")),this.svSpaceElement=this.rootElement.appendChild(fr("canvas","reinvented-color-wheel--sv-space")),this.svSpaceContext=this.svSpaceElement.getContext("2d"),this.svHandleElement=this.rootElement.appendChild(fr("div","reinvented-color-wheel--sv-handle")),this._redrawHueWheel=function(){n._redrawHueWheelRequested=!1;var u=n.wheelDiameter,v=u/2,m=v-n.wheelThickness/2,h=Math.PI/180,l=n.wheelReflectsSaturation?","+n._hsl[1]+"%,"+n._hsl[2]+"%)":",100%,50%)",p=n.hueWheelContext;p.clearRect(0,0,u,u),p.lineWidth=n.wheelThickness;for(var d=0;d<360;d++)p.beginPath(),p.arc(v,v,m,(d-90.7)*h,(d-89.3)*h),p.strokeStyle="hsl("+d+l,p.stroke()},this.hueWheelContext.imageSmoothingEnabled=!1,this.svSpaceContext.imageSmoothingEnabled=!1,this._hsv=wo(e.hsv?e.hsv:e.hsl?t.hsl2hsv(e.hsl):e.rgb?t.rgb2hsv(e.rgb):e.hex?t.rgb2hsv(t.hex2rgb(e.hex)):void 0,On.hsv),this._hsl=xo(t.hsv2hsl(this._hsv)),this._rgb=t.hsv2rgb(this._hsv),this._hex=t.rgb2hex(this._rgb);var r=function(u,v){var m=n._inverseTransform.multiply(new Xa("matrix(1,0,0,1,"+u+","+v+")"));return{x:m.e,y:m.f}},i=function(u){n._inverseTransform=Qd(u);var v=u.getBoundingClientRect();n._center=r(v.left+v.width/2,v.top+v.height/2)},a=function(u){i(n.hueWheelElement);var v=r(u.clientX,u.clientY),m=v.x-n._center.x,h=v.y-n._center.y,l=n.wheelDiameter/2-n.wheelThickness;if(m*m+h*h<l*l)return!1;s(u)},s=function(u){var v=r(u.clientX,u.clientY),m=v.x-n._center.x,h=v.y-n._center.y,l=Math.atan2(h,m);n.hsv=[l*180/Math.PI+90,n.hsv[1],n.hsv[2]]},o=function(u){var v=r(u.clientX,u.clientY),m=100/n.svSpaceElement.width,h=(v.x-n._center.x)*m+50,l=(n._center.y-v.y)*m+50;n.hsv=[n._hsv[0],h,l]},c=function(u){i(n.svSpaceElement),o(u)};pa(this.hueWheelElement,a,s),pa(this.svSpaceElement,c,o),pa(this.svHandleElement,c,o),this.redraw()}return Object.defineProperty(t.prototype,"hsv",{get:function(){return this._hsv},set:function(e){ga(this._hsv,e)||this._setHSV(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hsl",{get:function(){return this._hsl},set:function(e){ga(this._hsl,e)||this._setHSV(t.hsl2hsv(e))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rgb",{get:function(){return this._rgb},set:function(e){ga(this._rgb,e)||this._setHSV(t.rgb2hsv(e))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hex",{get:function(){return this._hex},set:function(e){this._hex!==e&&(this.rgb=t.hex2rgb(e))},enumerable:!1,configurable:!0}),t.prototype.setHSV=function(){this.hsv=arguments},t.prototype.setHSL=function(){this.hsl=arguments},t.prototype.redraw=function(){this.hueWheelElement.width=this.hueWheelElement.height=this.wheelDiameter,this.svSpaceElement.width=this.svSpaceElement.height=(this.wheelDiameter-this.wheelThickness*2)*Math.SQRT1_2;var e=this.hueHandleElement.style,n=this.svHandleElement.style;e.width=e.height=n.width=n.height=this.handleDiameter+"px",e.marginLeft=e.marginTop=n.marginLeft=n.marginTop=-this.handleDiameter/2+"px",this._redrawHueWheel(),this._redrawHueHandle(),this._redrawSvSpace(),this._redrawSvHandle()},t.prototype._setHSV=function(e){var n=this._hsv,r=this._hsv=wo(e,n),i=n[0]-r[0],a=n[1]-r[1]||n[2]-r[2];i&&(this._hsl=[r[0],this._hsl[1],this._hsl[2]],this._redrawHueHandle(),this._updateSvBackground()),a&&(this._hsl=xo(t.hsv2hsl(r)),this._redrawSvHandle(),this.wheelReflectsSaturation&&!this._redrawHueWheelRequested&&(requestAnimationFrame(this._redrawHueWheel),this._redrawHueWheelRequested=!0)),(i||a)&&(this._rgb=t.hsv2rgb(r),this._hex=t.rgb2hex(this._rgb),this.onChange(this))},t.prototype._redrawSvSpace=function(){this._updateSvBackground();var e=this.svSpaceElement.width,n=this.svSpaceContext,r=n.createLinearGradient(0,0,e,0),i=n.createLinearGradient(0,0,0,e);r.addColorStop(0,"rgba(255,255,255,1)"),r.addColorStop(1,"rgba(255,255,255,0)"),i.addColorStop(0,"rgba(0,0,0,0)"),i.addColorStop(1,"rgba(0,0,0,1)"),n.fillStyle=r,n.fillRect(0,0,e,e),n.fillStyle=i,n.fillRect(0,0,e,e)},t.prototype._updateSvBackground=function(){this.svSpaceElement.style.backgroundColor="hsl("+this._hsv[0]+",100%,50%)"},t.prototype._redrawHueHandle=function(){var e=this.wheelDiameter/2,n=e-this.wheelThickness/2,r=(this._hsv[0]-90)*Math.PI/180,i=this.hueHandleElement.style;i.left=n*Math.cos(r)+e+"px",i.top=n*Math.sin(r)+e+"px"},t.prototype._redrawSvHandle=function(){var e=this.svSpaceElement.width,n=this.svHandleElement.style,r=(this.wheelDiameter-e)/2,i=this._hsv;n.left=r+e*i[1]/100+"px",n.top=r+e*(1-i[2]/100)+"px"},t.default=t,t.defaultOptions=On,t.hsv2hsl=Ud,t.hsl2hsv=Vd,t.hsv2rgb=$d,t.rgb2hsv=jd,t.rgb2hex=Zd,t.hex2rgb=Jd,t}();function fr(t,e){var n=document.createElement(t);return n.className=e,n}var ef=ft("<center></center>");function nf(t,e){bt(e,!0);const[n,r]=xs(),i=()=>gi(Dn,"$color",n),a=tf;let s=mt(void 0),o=mt(void 0);const c=i();Vt(()=>{et(o,new a({appendTo:_(s),hex:c,wheelDiameter:200,wheelThickness:20,handleDiameter:16,wheelReflectsSaturation:!1,onChange:v=>{Dn.set(v.hex)}}),!0)}),Vt(()=>{_(o)&&(_(o).hex=i())});var u=ef();Pe(u,v=>et(s,v),()=>_(s)),Q(t,u),yt(),r()}var Mn=(t,e=[])=>({parts:(...n)=>{if(rf(e))return Mn(t,n);throw new Error("createAnatomy().parts(...) should only be called once. Did you mean to use .extendWith(...) ?")},extendWith:(...n)=>Mn(t,[...e,...n]),rename:n=>Mn(n,e),keys:()=>e,build:()=>[...new Set(e)].reduce((n,r)=>Object.assign(n,{[r]:{selector:[`&[data-scope="${Gn(t)}"][data-part="${Gn(r)}"]`,`& [data-scope="${Gn(t)}"][data-part="${Gn(r)}"]`].join(", "),attrs:{"data-scope":Gn(t),"data-part":Gn(r)}}}),{})}),Gn=t=>t.replace(/([A-Z])([A-Z])/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase(),rf=t=>t.length===0,ko=t=>Math.max(0,Math.min(1,t)),ma=(...t)=>e=>t.reduce((n,r)=>r(n),e),Qn=()=>{},Ui=t=>typeof t=="object"&&t!==null,kt=t=>t?"":void 0,af=t=>t?"true":void 0,sf=1,of=9,lf=11,re=t=>Ui(t)&&t.nodeType===sf&&typeof t.nodeName=="string",Is=t=>Ui(t)&&t.nodeType===of,cf=t=>Ui(t)&&t===t.window,Zl=t=>re(t)?t.localName||"":"#document";function uf(t){return["html","body","#document"].includes(Zl(t))}var df=t=>Ui(t)&&t.nodeType!==void 0,Pr=t=>df(t)&&t.nodeType===lf&&"host"in t,ff=t=>re(t)&&t.localName==="input",hf=t=>re(t)?t.offsetWidth>0||t.offsetHeight>0||t.getClientRects().length>0:!1,vf=/(textarea|select)/;function pf(t){if(t==null||!re(t))return!1;try{return ff(t)&&t.selectionStart!=null||vf.test(t.localName)||t.isContentEditable||t.getAttribute("contenteditable")==="true"||t.getAttribute("contenteditable")===""}catch{return!1}}function Dr(t,e){var r;if(!t||!e||!re(t)||!re(e))return!1;const n=(r=e.getRootNode)==null?void 0:r.call(e);if(t===e||t.contains(e))return!0;if(n&&Pr(n)){let i=e;for(;i;){if(t===i)return!0;i=i.parentNode||i.host}}return!1}function Ce(t){return Is(t)?t:cf(t)?t.document:(t==null?void 0:t.ownerDocument)??document}function gf(t){return Ce(t).documentElement}function ae(t){var e;return Pr(t)?ae(t.host):Is(t)?t.defaultView??window:re(t)?((e=t.ownerDocument)==null?void 0:e.defaultView)??window:window}function Xl(t){let e=t.activeElement;for(;e!=null&&e.shadowRoot;){const n=e.shadowRoot.activeElement;if(n===e)break;e=n}return e}function mf(t){if(Zl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Pr(t)&&t.host||gf(t);return Pr(e)?e.host:e}var ba=new WeakMap;function bf(t){return ba.has(t)||ba.set(t,ae(t).getComputedStyle(t)),ba.get(t)}var ji=()=>typeof document<"u";function yf(){const t=navigator.userAgentData;return(t==null?void 0:t.platform)??navigator.platform}function _f(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(({brand:e,version:n})=>`${e}/${n}`).join(" "):navigator.userAgent}var As=t=>ji()&&t.test(yf()),wf=t=>ji()&&t.test(_f()),xf=t=>ji()&&t.test(navigator.vendor),Eo=()=>ji()&&!!navigator.maxTouchPoints,kf=()=>As(/^iPhone/i),Ef=()=>As(/^iPad/i)||qi()&&navigator.maxTouchPoints>1,$i=()=>kf()||Ef(),Cf=()=>qi()||$i(),qi=()=>As(/^Mac/i),Os=()=>Cf()&&xf(/apple/i),Sf=()=>wf(/Android/i);function Tf(t){var e,n,r;return((e=t.composedPath)==null?void 0:e.call(t))??((r=(n=t.nativeEvent)==null?void 0:n.composedPath)==null?void 0:r.call(n))}function we(t){const e=Tf(t);return(e==null?void 0:e[0])??t.target}function If(t){return t.mozInputSource===0&&t.isTrusted?!0:Sf()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}var Af=t=>t.button===0,Of=t=>t.button===2||qi()&&t.ctrlKey&&t.button===0,Rf=t=>t.ctrlKey||t.altKey||t.metaKey,Pf=t=>"touches"in t&&t.touches.length>0,Df={Up:"ArrowUp",Down:"ArrowDown",Esc:"Escape"," ":"Space",",":"Comma",Left:"ArrowLeft",Right:"ArrowRight"},Co={ArrowLeft:"ArrowRight",ArrowRight:"ArrowLeft"};function Lf(t,e={}){const{dir:n="ltr",orientation:r="horizontal"}=e;let i=t.key;return i=Df[i]??i,n==="rtl"&&r==="horizontal"&&i in Co&&(i=Co[i]),i}var Nf=new Set(["PageUp","PageDown"]),Ff=new Set(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"]);function zf(t){return t.ctrlKey||t.metaKey?.1:Nf.has(t.key)||t.shiftKey&&Ff.has(t.key)?10:1}function Rs(t,e="client"){const n=Pf(t)?t.touches[0]||t.changedTouches[0]:t;return{x:n[`${e}X`],y:n[`${e}Y`]}}var Zt=(t,e,n,r)=>{const i=typeof t=="function"?t():t;return i==null||i.addEventListener(e,n,r),()=>{i==null||i.removeEventListener(e,n,r)}};function Yl(t,e){const{type:n="HTMLInputElement",property:r="value"}=e,i=ae(t)[n].prototype;return Object.getOwnPropertyDescriptor(i,r)??{}}function Bf(t){if(t.localName==="input")return"HTMLInputElement";if(t.localName==="textarea")return"HTMLTextAreaElement";if(t.localName==="select")return"HTMLSelectElement"}function Jl(t,e,n="value"){var i;if(!t)return;const r=Bf(t);r&&((i=Yl(t,{type:r,property:n}).set)==null||i.call(t,e)),t.setAttribute(n,e)}function Ql(t,e){var r;if(!t)return;(r=Yl(t,{type:"HTMLInputElement",property:"checked"}).set)==null||r.call(t,e),e?t.setAttribute("checked",""):t.removeAttribute("checked")}function Mf(t,e){const{value:n,bubbles:r=!0}=e;if(!t)return;const i=ae(t);t instanceof i.HTMLInputElement&&(Jl(t,`${n}`),t.dispatchEvent(new i.Event("input",{bubbles:r})))}function tc(t,e){const{checked:n,bubbles:r=!0}=e;if(!t)return;const i=ae(t);t instanceof i.HTMLInputElement&&(Ql(t,n),t.dispatchEvent(new i.Event("click",{bubbles:r})))}function Vf(t){return Hf(t)?t.form:t.closest("form")}function Hf(t){return t.matches("textarea, input, select, button")}function Wf(t,e){if(!t)return;const n=Vf(t),r=i=>{i.defaultPrevented||e()};return n==null||n.addEventListener("reset",r,{passive:!0}),()=>n==null?void 0:n.removeEventListener("reset",r)}function Uf(t,e){const n=t==null?void 0:t.closest("fieldset");if(!n)return;e(n.disabled);const r=ae(n),i=new r.MutationObserver(()=>e(n.disabled));return i.observe(n,{attributes:!0,attributeFilter:["disabled"]}),()=>i.disconnect()}function Ps(t,e){if(!t)return;const{onFieldsetDisabledChange:n,onFormReset:r}=e,i=[Wf(t,r),Uf(t,n)];return()=>i.forEach(a=>a==null?void 0:a())}var ec=t=>re(t)&&t.tagName==="IFRAME",jf=t=>!Number.isNaN(parseInt(t.getAttribute("tabindex")||"0",10)),$f=t=>parseInt(t.getAttribute("tabindex")||"0",10)<0,Ds="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false']), details > summary:first-of-type",nc=(t,e=!1)=>{if(!t)return[];const n=Array.from(t.querySelectorAll(Ds));(e==!0||e=="if-empty"&&n.length===0)&&re(t)&&kn(t)&&n.unshift(t);const i=n.filter(kn);return i.forEach((a,s)=>{if(ec(a)&&a.contentDocument){const o=a.contentDocument.body;i.splice(s,1,...nc(o))}}),i};function kn(t){return!t||t.closest("[inert]")?!1:t.matches(Ds)&&hf(t)}function Ur(t,e){if(!t)return[];const n=Array.from(t.querySelectorAll(Ds)),r=n.filter(_n);return e&&_n(t)&&r.unshift(t),r.forEach((i,a)=>{if(ec(i)&&i.contentDocument){const s=i.contentDocument.body,o=Ur(s);r.splice(a,1,...o)}}),!r.length&&e?n:r}function _n(t){return t!=null&&t.tabIndex>0?!0:kn(t)&&!$f(t)}function qf(t,e){const n=Ur(t,e),r=n[0]||null,i=n[n.length-1]||null;return[r,i]}function Gf(t,e){const n=Ur(t),r=(t==null?void 0:t.ownerDocument)||document,i=e??r.activeElement;if(!i)return null;const a=n.indexOf(i);return n[a+1]||null}function hr(t){return t.tabIndex<0&&(/^(audio|video|details)$/.test(t.localName)||pf(t))&&!jf(t)?0:t.tabIndex}function So(t){const{root:e,getInitialEl:n,filter:r,enabled:i=!0}=t;if(!i)return;let a=null;if(a||(a=typeof n=="function"?n():n),a||(a=e==null?void 0:e.querySelector("[data-autofocus],[autofocus]")),!a){const s=Ur(e);a=r?s.filter(r)[0]:s[0]}return a||e||void 0}function Kf(t){const e=new Set;function n(r){const i=globalThis.requestAnimationFrame(r);e.add(()=>globalThis.cancelAnimationFrame(i))}return n(()=>n(t)),function(){e.forEach(i=>i())}}function Ee(t){let e;const n=globalThis.requestAnimationFrame(()=>{e=t()});return()=>{globalThis.cancelAnimationFrame(n),e==null||e()}}function Ya(t){const e=mf(t);return uf(e)?Ce(e).body:re(e)&&Xf(e)?e:Ya(e)}var Zf=/auto|scroll|overlay|hidden|clip/;function Xf(t){const e=ae(t),{overflow:n,overflowX:r,overflowY:i,display:a}=e.getComputedStyle(t);return Zf.test(n+i+r)&&!["inline","contents"].includes(a)}function Yf(t,e){const{left:n,top:r,width:i,height:a}=e.getBoundingClientRect(),s={x:t.x-n,y:t.y-r},o={x:ko(s.x/i),y:ko(s.y/a)};function c(u={}){const{dir:v="ltr",orientation:m="horizontal",inverted:h}=u,l=typeof h=="object"?h.x:h,p=typeof h=="object"?h.y:h;return m==="horizontal"?v==="rtl"||l?1-o.x:o.x:p?1-o.y:o.y}return{offset:s,percent:o,getPercentValue:c}}var tr="default",Ja="",li=new WeakMap;function Jf(t={}){const{target:e,doc:n}=t,r=n??document,i=r.documentElement;return $i()?(tr==="default"&&(Ja=i.style.webkitUserSelect,i.style.webkitUserSelect="none"),tr="disabled"):e&&(li.set(e,e.style.userSelect),e.style.userSelect="none"),()=>Qf({target:e,doc:r})}function Qf(t={}){const{target:e,doc:n}=t,i=(n??document).documentElement;if($i()){if(tr!=="disabled")return;tr="restoring",setTimeout(()=>{Kf(()=>{tr==="restoring"&&(i.style.webkitUserSelect==="none"&&(i.style.webkitUserSelect=Ja||""),Ja="",tr="default")})},300)}else if(e&&li.has(e)){const a=li.get(e);e.style.userSelect==="none"&&(e.style.userSelect=a??""),e.getAttribute("style")===""&&e.removeAttribute("style"),li.delete(e)}}function th(t={}){const{defer:e,target:n,...r}=t,i=e?Ee:s=>s(),a=[];return a.push(i(()=>{const s=typeof n=="function"?n():n;a.push(Jf({...r,target:s}))})),()=>{a.forEach(s=>s==null?void 0:s())}}function eh(t,e){const{onPointerMove:n,onPointerUp:r}=e,a=[Zt(t,"pointermove",s=>{const o=Rs(s),c=Math.sqrt(o.x**2+o.y**2),u=s.pointerType==="touch"?10:5;if(!(c<u)){if(s.pointerType==="mouse"&&s.button===0){r();return}n({point:o,event:s})}},!1),Zt(t,"pointerup",r,!1),Zt(t,"pointercancel",r,!1),Zt(t,"contextmenu",r,!1),th({doc:t})];return()=>{a.forEach(s=>s())}}function nh(t){const{pointerNode:e,keyboardNode:n=e,onPress:r,onPressStart:i,onPressEnd:a,isValidKey:s=k=>k.key==="Enter"}=t;if(!e)return Qn;const o=ae(e),c=Ce(e);let u=Qn,v=Qn,m=Qn;const h=k=>({point:Rs(k),event:k});function l(k){i==null||i(h(k))}function p(k){a==null||a(h(k))}const b=Zt(e,"pointerdown",k=>{v();const x=Zt(o,"pointerup",A=>{const P=we(A);Dr(e,P)?r==null||r(h(A)):a==null||a(h(A))},{passive:!r,once:!0}),O=Zt(o,"pointercancel",p,{passive:!a,once:!0});v=ma(x,O),c.activeElement===n&&k.pointerType==="mouse"&&k.preventDefault(),l(k)},{passive:!i}),y=Zt(n,"focus",w);u=ma(b,y);function w(){const k=A=>{if(!s(A))return;const P=M=>{if(!s(M))return;const z=new o.PointerEvent("pointerup"),E=h(z);r==null||r(E),a==null||a(E)};v(),v=Zt(n,"keyup",P);const I=new o.PointerEvent("pointerdown");l(I)},T=()=>{const A=new o.PointerEvent("pointercancel");p(A)},x=Zt(n,"keydown",k),O=Zt(n,"blur",T);m=ma(x,O)}return()=>{u(),v(),m()}}function rh(t,e={}){const{triggerElement:n,onFocus:r,onFocusEnter:i}=e,a=(t==null?void 0:t.ownerDocument)||document,s=a.body;function o(c){if(c.key!=="Tab")return;let u=null;const[v,m]=qf(t,!0),h=Gf(s,n),l=!v&&!m;c.shiftKey&&h===a.activeElement?(i==null||i(),u=m):c.shiftKey&&(a.activeElement===v||l)?u=n:!c.shiftKey&&a.activeElement===n?(i==null||i(),u=v):!c.shiftKey&&(a.activeElement===m||l)&&(u=h),u&&(c.preventDefault(),typeof r=="function"?r(u):u.focus())}return Zt(a,"keydown",o,!0)}function ih(t,e){const{defer:n,triggerElement:r,...i}=e,a=n?Ee:o=>o(),s=[];return s.push(a(()=>{const o=typeof t=="function"?t():t,c=typeof r=="function"?r():r;s.push(rh(o,{triggerElement:c,...i}))})),()=>{s.forEach(o=>o==null?void 0:o())}}function rc(t,e){return Array.from((t==null?void 0:t.querySelectorAll(e))??[])}function ic(t,e){const{onEntry:n,measure:r,box:i="border-box"}=e,a=(Array.isArray(t)?t:[t]).filter(re),s=ae(a[0]),o=u=>{const v=a.map(m=>r(m));n({rects:v,entries:u})};o([]);const c=new s.ResizeObserver(o);return a.forEach(u=>c.observe(u,{box:i})),()=>c.disconnect()}function Qa(t,e){if(!t)return Qn;const n=Object.keys(e).reduce((r,i)=>(r[i]=t.style.getPropertyValue(i),r),{});return Object.assign(t.style,e),()=>{Object.assign(t.style,n),t.style.length===0&&t.removeAttribute("style")}}function ah(t,e,n){if(!t)return Qn;const r=t.style.getPropertyValue(e);return t.style.setProperty(e,n),()=>{t.style.setProperty(e,r),t.style.length===0&&t.removeAttribute("style")}}var ac={border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"},sh=1e3/60;function oh(t,e){const n=t();if(re(n)&&n.isConnected)return e(n),()=>{};{const r=setInterval(()=>{const i=t();re(i)&&i.isConnected&&(e(i),clearInterval(r))},sh);return()=>clearInterval(r)}}function lh(t,e){const n=[];return t==null||t.forEach(r=>{const i=oh(r,e);n.push(i)}),()=>{n.forEach(r=>r())}}function ch(t){return t?Array.isArray(t)?t:[t]:[]}var uh=t=>t[0],dh=t=>t[t.length-1],To=t=>(t==null?void 0:t.constructor.name)==="Array",fh=(t,e)=>{if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!Gi(t[n],e[n]))return!1;return!0},Gi=(t,e)=>{if(Object.is(t,e))return!0;if(t==null&&e!=null||t!=null&&e==null)return!1;if(typeof(t==null?void 0:t.isEqual)=="function"&&typeof(e==null?void 0:e.isEqual)=="function")return t.isEqual(e);if(typeof t=="function"&&typeof e=="function")return t.toString()===e.toString();if(To(t)&&To(e))return fh(Array.from(t),Array.from(e));if(typeof t!="object"||typeof e!="object")return!1;const n=Object.keys(e??Object.create(null)),r=n.length;for(let i=0;i<r;i++)if(!Reflect.has(t,n[i]))return!1;for(let i=0;i<r;i++){const a=n[i];if(!Gi(t[a],e[a]))return!1}return!0},Cr=t=>typeof t=="string",Nn=t=>typeof t=="function",hh=t=>t==null,vh=Function.prototype.toString;vh.call(Object);var ph=(t,...e)=>(typeof t=="function"?t(...e):t)??void 0,gh=t=>t(),mh=()=>{},ts=(...t)=>(...e)=>{t.forEach(function(n){n==null||n(...e)})},{floor:bh,abs:_i,round:sc,min:yh,max:_h,pow:wh,sign:xh}=Math,es=t=>Number.isNaN(t),Lr=t=>es(t)?0:t,kh=(t,e,n)=>t===0?n:e[t-1],Eh=(t,e,n)=>t===e.length-1?n:e[t+1],Ch=(t,e,n)=>Lr(t)>=e&&Lr(t)<=n,Sh=(t,e,n)=>sc((Lr(t)-e)/n)*n+e,jr=(t,e,n)=>yh(_h(Lr(t),e),n),Ls=(t,e,n)=>(Lr(t)-e)/(n-e),oc=(t,e,n,r)=>jr(Sh(t*(n-e)+e,e,r),e,n),Io=(t,e)=>{let n=t,r=e.toString(),i=r.indexOf("."),a=i>=0?r.length-i:0;if(a>0){let s=wh(10,a);n=sc(n*s)/s}return n},Ns=(t,e,n,r)=>{const i=e!=null?Number(e):0,a=Number(n),s=(t-i)%r;let o=_i(s)*2>=r?t+xh(s)*(r-_i(s)):t-s;if(o=Io(o,r),!es(i)&&o<i)o=i;else if(!es(a)&&o>a){const c=bh((a-i)/r),u=i+c*r;o=c<=0||u<i?a:u}return Io(o,r)},mr=(t,e,n)=>t[e]===n?t:[...t.slice(0,e),n,...t.slice(e+1)];function lc(t,e){const n=kh(t,e.values,e.min),r=Eh(t,e.values,e.max);let i=e.values.slice();return function(s){let o=Ns(s,n,r,e.step);return i=mr(i,t,s),i[t]=o,i}}function Th(t,e){const n=e.values[t]+e.step;return lc(t,e)(n)}function Ih(t,e){const n=e.values[t]-e.step;return lc(t,e)(n)}var Ah=(t,e)=>{let n=t.findIndex(a=>e-a<0);if(n===0)return n;if(n===-1)return t.length-1;let r=t[n-1],i=t[n];return _i(r-e)<_i(i-e)?n-1:n},cc=(t,e,n,r)=>t.map((i,a)=>({min:a===0?e:t[a-1]+r,max:a===t.length-1?n:t[a+1]-r,value:i})),ns=(t,e)=>{const[n,r]=t,[i,a]=e;return s=>n===r||i===a?i:i+(a-i)/(r-n)*(s-n)},Ao=t=>t!=null?`${t}px`:void 0;function Fs(t){if(!Oh(t)||t===void 0)return t;const e=Reflect.ownKeys(t).filter(r=>typeof r=="string"),n={};for(const r of e){const i=t[r];i!==void 0&&(n[r]=Fs(i))}return n}var Oh=t=>t&&typeof t=="object"&&t.constructor===Object;function Rh(t,e){const n={};for(const r of e){const i=t[r];i!==void 0&&(n[r]=i)}return n}function rs(...t){t.length===1?t[0]:t[1],t.length===2&&t[0]}function Ph(t,e){if(t==null)throw new Error(e())}var Dh=(...t)=>t.map(e=>{var n;return(n=e==null?void 0:e.trim)==null?void 0:n.call(e)}).filter(Boolean).join(" "),Lh=/((?:--)?(?:\w+-?)+)\s*:\s*([^;]*)/g,Oo=t=>{const e={};let n;for(;n=Lh.exec(t);)e[n[1]]=n[2];return e},Nh=(t,e)=>{if(Cr(t)){if(Cr(e))return`${t};${e}`;t=Oo(t)}else Cr(e)&&(e=Oo(e));return Object.assign({},t??{},e??{})};function Fh(...t){let e={};for(let n of t){for(let r in e){if(r.startsWith("on")&&typeof e[r]=="function"&&typeof n[r]=="function"){e[r]=ts(n[r],e[r]);continue}if(r==="className"||r==="class"){e[r]=Dh(e[r],n[r]);continue}if(r==="style"){e[r]=Nh(e[r],n[r]);continue}e[r]=n[r]!==void 0?n[r]:e[r]}for(let r in n)e[r]===void 0&&(e[r]=n[r])}return e}function uc(){return{and:(...t)=>function(n){return t.every(r=>n.guard(r))},or:(...t)=>function(n){return t.some(r=>n.guard(r))},not:t=>function(n){return!n.guard(t)}}}var Jn=(t=>(t.NotStarted="Not Started",t.Started="Started",t.Stopped="Stopped",t))(Jn||{}),ya="__init__";function zh(t){const e=()=>{var o;return((o=t.getRootNode)==null?void 0:o.call(t))??document},n=()=>Ce(e()),r=()=>n().defaultView??window,i=()=>Xl(e());return{...t,getRootNode:e,getDoc:n,getWin:r,getActiveElement:i,isActiveElement:o=>o===i(),getById:o=>e().getElementById(o)}}function Bh(t){return new Proxy({},{get(e,n){return n==="style"?r=>t({style:r}).style:t}})}var lr=()=>t=>Array.from(new Set(t));const Ro={className:"class",defaultChecked:"checked",defaultValue:"value",htmlFor:"for",onBlur:"onfocusout",onChange:"oninput",onFocus:"onfocusin",onDoubleClick:"ondblclick"};function dc(t){let e="";for(let n in t){const r=t[n];r!=null&&(n.startsWith("--")||(n=n.replace(/[A-Z]/g,i=>`-${i.toLowerCase()}`)),e+=`${n}:${r};`)}return e}const Mh="viewBox,className,preserveAspectRatio,fillRule,clipPath,clipRule,strokeWidth,strokeLinecap,strokeLinejoin,strokeDasharray,strokeDashoffset,strokeMiterlimit".split(",");function Vh(t){return t in Ro?Ro[t]:Mh.includes(t)?t:t.toLowerCase()}function Hh(t,e){return t==="style"&&typeof e=="object"?dc(e):e}const Ki=Bh(t=>{const e={};for(const n in t)e[Vh(n)]=Hh(n,t[n]);return e}),Wh=/((?:--)?(?:\w+-?)+)\s*:\s*([^;]*)/g,Uh=t=>{const e={};let n;for(;n=Wh.exec(t);)e[n[1]]=n[2];return e};function jh(...t){const e=Fh(...t);return"style"in e&&(typeof e.style=="string"&&(e.style=Uh(e.style)),e.style=dc(e.style)),e}function _a(t,e={}){function n(r={}){const{container:i,disabled:a,getRootNode:s}=r;if(a)return;const o=(s==null?void 0:s().ownerDocument)??document;(i??o.body).appendChild(t)}return n(e),{destroy:()=>t.remove(),update:n}}function wi(t){const e=t().defaultValue??t().value,n=t().isEqual??Object.is;let r=mt(Xt(e));const i=ct(()=>t().value!==void 0);let a={current:_(r)},s={current:void 0};Du(()=>{const u=_(i)?t().value:_(r);a={current:u},s={current:u}});const o=u=>{var h,l;const v=Nn(u)?u(a.current):u,m=s.current;t().debug&&console.log(`[bindable > ${t().debug}] setValue`,{next:v,prev:m}),_(i)||et(r,v,!0),n(v,m)||(l=(h=t()).onChange)==null||l.call(h,v,m)};function c(){return _(i)?t().value:_(r)}return{initial:e,ref:a,get:c,set(u){(t().sync?Pl:gh)(()=>o(u))},invoke(u,v){var m,h;(h=(m=t()).onChange)==null||h.call(m,u,v)},hash(u){var v,m;return((m=(v=t()).hash)==null?void 0:m.call(v,u))??String(u)}}}wi.cleanup=t=>{Dl(()=>t())};wi.ref=t=>{let e=t;return{get:()=>e,set:n=>{e=n}}};function $h(t){const e=Xt({current:t});return{get(n){return e.current[n]},set(n,r){e.current[n]=r}}}const wa=t=>typeof t=="function"?t():t,qh=(t,e)=>{let n=[],r=!0;Vt(()=>{if(r){n=t.map(a=>wa(a)),r=!1;return}let i=!1;for(let a=0;a<t.length;a++)if(!Gi(n[a],wa(t[a]))){i=!0;break}i&&(n=t.map(a=>wa(a)),e())})};function xa(t){return Nn(t)?t():t}function Zi(t,e){var P,I,M;const n=ct(()=>{const{id:z,ids:E,getRootNode:R}=xa(e);return zh({id:z,ids:E,getRootNode:R})}),r=(...z)=>{t.debug&&console.log(...z)},i=ct(()=>{var z;return((z=t.props)==null?void 0:z.call(t,{props:Fs(xa(e)),scope:_(n)}))??xa(e)}),a=Gh(()=>_(i)),s=(P=t.context)==null?void 0:P.call(t,{prop:a,bindable:wi,get scope(){return _(n)},flush:Po,getContext(){return o},getComputed(){return T},getRefs(){return p}}),o={get(z){return s==null?void 0:s[z].get()},set(z,E){s==null||s[z].set(E)},initial(z){return s==null?void 0:s[z].initial},hash(z){const E=s==null?void 0:s[z].get();return s==null?void 0:s[z].hash(E)}};let c=new Map,u={current:null},v={current:null},m=Xt({current:{type:""}});const h=()=>({...m.current,current(){return m.current},previous(){return v.current}}),l=()=>({...x,hasTag(z){var R,f;const E=x.get();return!!((f=(R=t.states[E])==null?void 0:R.tags)!=null&&f.includes(z))},matches(...z){const E=x.get();return z.includes(E)}}),p=$h(((I=t.refs)==null?void 0:I.call(t,{prop:a,context:o}))??{}),d=()=>({state:l(),context:o,event:h(),prop:a,send:A,action:b,guard:y,track:qh,refs:p,computed:T,flush:Po,scope:_(n),choose:k}),b=z=>{const E=Nn(z)?z(d()):z;if(!E)return;const R=E.map(f=>{var j,V;const L=(V=(j=t.implementations)==null?void 0:j.actions)==null?void 0:V[f];return L||rs(`[zag-js] No implementation found for action "${JSON.stringify(f)}"`),L});for(const f of R)f==null||f(d())},y=z=>{var E,R;return Nn(z)?z(d()):(R=(E=t.implementations)==null?void 0:E.guards)==null?void 0:R[z](d())},w=z=>{const E=Nn(z)?z(d()):z;if(!E)return;const R=E.map(L=>{var V,Z;const j=(Z=(V=t.implementations)==null?void 0:V.effects)==null?void 0:Z[L];return j||rs(`[zag-js] No implementation found for effect "${JSON.stringify(L)}"`),j}),f=[];for(const L of R){const j=L==null?void 0:L(d());j&&f.push(j)}return()=>f.forEach(L=>L==null?void 0:L())},k=z=>ch(z).find(E=>{let R=!E.guard;return Cr(E.guard)?R=!!y(E.guard):Nn(E.guard)&&(R=E.guard(d())),R}),T=z=>{Ph(t.computed,()=>"[zag-js] No computed object found on machine");const E=t.computed[z];return E({context:o,event:h(),prop:a,refs:p,scope:_(n),computed:T})},x=wi(()=>({defaultValue:t.initialState({prop:a}),onChange(z,E){var f,L,j,V;if(E){const Z=c.get(E);Z==null||Z(),c.delete(E)}E&&b((f=t.states[E])==null?void 0:f.exit),b((L=u.current)==null?void 0:L.actions);const R=w((j=t.states[z])==null?void 0:j.effects);if(R&&c.set(z,R),E===ya){b(t.entry);const Z=w(t.effects);Z&&c.set(ya,Z)}b((V=t.states[z])==null?void 0:V.entry)}}));let O=Jn.NotStarted;Vu(()=>{const z=O===Jn.Started;O=Jn.Started,r(z?"rehydrating...":"initializing..."),x.invoke(x.initial,ya)}),Dl(()=>{r("unmounting..."),O=Jn.Stopped,c.forEach(z=>z==null?void 0:z()),c=new Map,u.current=null,b(t.exit)});const A=z=>{var V,Z;if(O!==Jn.Started)return;v.current=m.current,m.current=z;let E=x.get();const R=((V=t.states[E].on)==null?void 0:V[z.type])??((Z=t.on)==null?void 0:Z[z.type]),f=k(R);if(!f)return;u.current=f;const L=f.target??E,j=L!==E;j?x.set(L):f.reenter&&!j?x.invoke(E,E):b(f.actions)};return(M=t.watch)==null||M.call(t,d()),{get state(){return l()},send:A,context:o,prop:a,get scope(){return _(n)},refs:p,computed:T,get event(){return h()},getStatus:()=>O}}function Gh(t){return function(n){return t()[n]}}function Po(t){Pl(()=>{queueMicrotask(()=>t())})}function Xi(t){var e=Symbol(),n=function(i){return Lu(e,i)},r=function(){var i;return(i=Nu(e))!==null&&i!==void 0?i:t};return[n,r,e]}var xi;xi=Xi(),xi[0];xi[1];xi[2];const Kh=t=>t;function Zh(t,{delay:e=0,duration:n=400,easing:r=Kh}={}){const i=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:r,css:a=>`opacity: ${a*i}`}}me(["click"]);var ki;ki=Xi({parent:"none",value:"",expanded:!1}),ki[0];ki[1];ki[2];function Xh(t){return!(t.metaKey||!qi()&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}var Yh=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function Jh(t,e,n){const r=n?we(n):null,i=ae(r);return t=t||r instanceof i.HTMLInputElement&&!Yh.has(r==null?void 0:r.type)||r instanceof i.HTMLTextAreaElement||r instanceof i.HTMLElement&&r.isContentEditable,!(t&&e==="keyboard"&&n instanceof i.KeyboardEvent&&!Reflect.has(Qh,n.key))}var Un=null,is=new Set,Sr=new Map,Vn=!1,as=!1,Qh={Tab:!0,Escape:!0};function Yi(t,e){for(let n of is)n(t,e)}function Ei(t){Vn=!0,Xh(t)&&(Un="keyboard",Yi("keyboard",t))}function _e(t){Un="pointer",(t.type==="mousedown"||t.type==="pointerdown")&&(Vn=!0,Yi("pointer",t))}function fc(t){If(t)&&(Vn=!0,Un="virtual")}function hc(t){const e=we(t);e===ae(e)||e===Ce(e)||(!Vn&&!as&&(Un="virtual",Yi("virtual",t)),Vn=!1,as=!1)}function vc(){Vn=!1,as=!0}function tv(t){if(typeof window>"u"||Sr.get(ae(t)))return;const e=ae(t),n=Ce(t);let r=e.HTMLElement.prototype.focus;function i(){Un="virtual",Yi("virtual",null),Vn=!0,r.apply(this,arguments)}Object.defineProperty(e.HTMLElement.prototype,"focus",{configurable:!0,value:i}),n.addEventListener("keydown",Ei,!0),n.addEventListener("keyup",Ei,!0),n.addEventListener("click",fc,!0),e.addEventListener("focus",hc,!0),e.addEventListener("blur",vc,!1),typeof e.PointerEvent<"u"?(n.addEventListener("pointerdown",_e,!0),n.addEventListener("pointermove",_e,!0),n.addEventListener("pointerup",_e,!0)):(n.addEventListener("mousedown",_e,!0),n.addEventListener("mousemove",_e,!0),n.addEventListener("mouseup",_e,!0)),e.addEventListener("beforeunload",()=>{ev(t)},{once:!0}),Sr.set(e,{focus:r})}var ev=(t,e)=>{const n=ae(t),r=Ce(t);Sr.has(n)&&(n.HTMLElement.prototype.focus=Sr.get(n).focus,r.removeEventListener("keydown",Ei,!0),r.removeEventListener("keyup",Ei,!0),r.removeEventListener("click",fc,!0),n.removeEventListener("focus",hc,!0),n.removeEventListener("blur",vc,!1),typeof n.PointerEvent<"u"?(r.removeEventListener("pointerdown",_e,!0),r.removeEventListener("pointermove",_e,!0),r.removeEventListener("pointerup",_e,!0)):(r.removeEventListener("mousedown",_e,!0),r.removeEventListener("mousemove",_e,!0),r.removeEventListener("mouseup",_e,!0)),Sr.delete(n))};function Ci(){return Un==="keyboard"}function pc(t={}){const{isTextInput:e,autoFocus:n,onChange:r,root:i}=t;tv(i),r==null||r({isFocusVisible:n||Ci(),modality:Un});const a=(s,o)=>{Jh(!!e,s,o)&&(r==null||r({isFocusVisible:Ci(),modality:s}))};return is.add(a),()=>{is.delete(a)}}var nv=Mn("radio-group").parts("root","label","item","itemText","itemControl","indicator"),Kn=nv.build(),Si=t=>{var e;return((e=t.ids)==null?void 0:e.root)??`radio-group:${t.id}`},Do=t=>{var e;return((e=t.ids)==null?void 0:e.label)??`radio-group:${t.id}:label`},gc=(t,e)=>{var n,r;return((r=(n=t.ids)==null?void 0:n.item)==null?void 0:r.call(n,e))??`radio-group:${t.id}:radio:${e}`},ss=(t,e)=>{var n,r;return((r=(n=t.ids)==null?void 0:n.itemHiddenInput)==null?void 0:r.call(n,e))??`radio-group:${t.id}:radio:input:${e}`},rv=(t,e)=>{var n,r;return((r=(n=t.ids)==null?void 0:n.itemControl)==null?void 0:r.call(n,e))??`radio-group:${t.id}:radio:control:${e}`},iv=(t,e)=>{var n,r;return((r=(n=t.ids)==null?void 0:n.itemLabel)==null?void 0:r.call(n,e))??`radio-group:${t.id}:radio:label:${e}`},mc=t=>{var e;return((e=t.ids)==null?void 0:e.indicator)??`radio-group:${t.id}:indicator`},Ji=t=>t.getById(Si(t)),av=(t,e)=>t.getById(ss(t,e)),sv=t=>t.getById(mc(t)),ov=t=>{var e;return(e=Ji(t))==null?void 0:e.querySelector("input:not(:disabled)")},lv=t=>{var e;return(e=Ji(t))==null?void 0:e.querySelector("input:not(:disabled):checked")},Lo=t=>{const n=`input[type=radio][data-ownedby='${CSS.escape(Si(t))}']:not([disabled])`;return rc(Ji(t),n)},cv=(t,e)=>{if(e)return t.getById(gc(t,e))},uv=t=>({left:(t==null?void 0:t.offsetLeft)??0,top:(t==null?void 0:t.offsetTop)??0,width:(t==null?void 0:t.offsetWidth)??0,height:(t==null?void 0:t.offsetHeight)??0}),dv=t=>({width:`${t.width}px`,height:`${t.height}px`,left:`${t.left}px`,top:`${t.top}px`});function fv(t,e){const{context:n,send:r,computed:i,prop:a,scope:s}=t,o=i("isDisabled"),c=a("readOnly");function u(h){const l=n.get("focusedValue")===h.value,p=l&&Ci();return{value:h.value,invalid:!!h.invalid,disabled:!!h.disabled||o,checked:n.get("value")===h.value,focused:l,focusVisible:p,hovered:n.get("hoveredValue")===h.value,active:n.get("activeValue")===h.value}}function v(h){const l=u(h);return{"data-focus":kt(l.focused),"data-focus-visible":kt(l.focusVisible),"data-disabled":kt(l.disabled),"data-readonly":kt(c),"data-state":l.checked?"checked":"unchecked","data-hover":kt(l.hovered),"data-invalid":kt(l.invalid),"data-orientation":a("orientation"),"data-ssr":kt(n.get("ssr"))}}const m=()=>{const h=lv(s)??ov(s);h==null||h.focus()};return{focus:m,value:n.get("value"),setValue(h){r({type:"SET_VALUE",value:h,isTrusted:!1})},clearValue(){r({type:"SET_VALUE",value:null,isTrusted:!1})},getRootProps(){return e.element({...Kn.root.attrs,role:"radiogroup",id:Si(s),"aria-labelledby":Do(s),"data-orientation":a("orientation"),"data-disabled":kt(o),"aria-orientation":a("orientation"),dir:a("dir"),style:{position:"relative"}})},getLabelProps(){return e.element({...Kn.label.attrs,dir:a("dir"),"data-orientation":a("orientation"),"data-disabled":kt(o),id:Do(s),onClick:m})},getItemState:u,getItemProps(h){const l=u(h);return e.label({...Kn.item.attrs,dir:a("dir"),id:gc(s,h.value),htmlFor:ss(s,h.value),...v(h),onPointerMove(){l.disabled||l.hovered||r({type:"SET_HOVERED",value:h.value,hovered:!0})},onPointerLeave(){l.disabled||r({type:"SET_HOVERED",value:null})},onPointerDown(p){l.disabled||(l.focused&&p.pointerType==="mouse"&&p.preventDefault(),r({type:"SET_ACTIVE",value:h.value,active:!0}))},onPointerUp(){l.disabled||r({type:"SET_ACTIVE",value:null})},onClick(){var p;!l.disabled&&Os()&&((p=av(s,h.value))==null||p.focus())}})},getItemTextProps(h){return e.element({...Kn.itemText.attrs,dir:a("dir"),id:iv(s,h.value),...v(h)})},getItemControlProps(h){const l=u(h);return e.element({...Kn.itemControl.attrs,dir:a("dir"),id:rv(s,h.value),"data-active":kt(l.active),"aria-hidden":!0,...v(h)})},getItemHiddenInputProps(h){const l=u(h);return e.input({"data-ownedby":Si(s),id:ss(s,h.value),type:"radio",name:a("name")||a("id"),form:a("form"),value:h.value,onClick(p){if(c){p.preventDefault();return}p.currentTarget.checked&&r({type:"SET_VALUE",value:h.value,isTrusted:!0})},onBlur(){r({type:"SET_FOCUSED",value:null,focused:!1})},onFocus(){r({type:"SET_FOCUSED",value:h.value,focused:!0})},onKeyDown(p){p.defaultPrevented||p.key===" "&&r({type:"SET_ACTIVE",value:h.value,active:!0})},onKeyUp(p){p.defaultPrevented||p.key===" "&&r({type:"SET_ACTIVE",value:null})},disabled:l.disabled,defaultChecked:l.checked,style:ac})},getIndicatorProps(){const h=n.get("indicatorRect");return e.element({id:mc(s),...Kn.indicator.attrs,dir:a("dir"),hidden:n.get("value")==null,"data-disabled":kt(o),"data-orientation":a("orientation"),style:{"--transition-property":"left, top, width, height","--left":h==null?void 0:h.left,"--top":h==null?void 0:h.top,"--width":h==null?void 0:h.width,"--height":h==null?void 0:h.height,position:"absolute",willChange:"var(--transition-property)",transitionProperty:"var(--transition-property)",transitionDuration:n.get("canIndicatorTransition")?"var(--transition-duration, 150ms)":"0ms",transitionTimingFunction:"var(--transition-timing-function)",[a("orientation")==="horizontal"?"left":"top"]:a("orientation")==="horizontal"?"var(--left)":"var(--top)"}})}}}var{not:hv}=uc(),vv={props({props:t}){return{orientation:"vertical",...t}},initialState(){return"idle"},context({prop:t,bindable:e}){return{value:e(()=>({defaultValue:t("defaultValue"),value:t("value"),onChange(n){var r;(r=t("onValueChange"))==null||r({value:n})}})),activeValue:e(()=>({defaultValue:null})),focusedValue:e(()=>({defaultValue:null})),hoveredValue:e(()=>({defaultValue:null})),indicatorRect:e(()=>({defaultValue:{}})),canIndicatorTransition:e(()=>({defaultValue:!1})),fieldsetDisabled:e(()=>({defaultValue:!1})),ssr:e(()=>({defaultValue:!0}))}},refs(){return{indicatorCleanup:null}},computed:{isDisabled:({prop:t,context:e})=>!!t("disabled")||e.get("fieldsetDisabled")},entry:["syncIndicatorRect","syncSsr"],exit:["cleanupObserver"],effects:["trackFormControlState","trackFocusVisible"],watch({track:t,action:e,context:n}){t([()=>n.get("value")],()=>{e(["setIndicatorTransition","syncIndicatorRect","syncInputElements"])})},on:{SET_VALUE:[{guard:hv("isTrusted"),actions:["setValue","dispatchChangeEvent"]},{actions:["setValue"]}],SET_HOVERED:{actions:["setHovered"]},SET_ACTIVE:{actions:["setActive"]},SET_FOCUSED:{actions:["setFocused"]}},states:{idle:{}},implementations:{guards:{isTrusted:({event:t})=>!!t.isTrusted},effects:{trackFormControlState({context:t,scope:e}){return Ps(Ji(e),{onFieldsetDisabledChange(n){t.set("fieldsetDisabled",n)},onFormReset(){t.set("value",t.initial("value"))}})},trackFocusVisible({scope:t}){var e;return pc({root:(e=t.getRootNode)==null?void 0:e.call(t)})}},actions:{setValue({context:t,event:e}){t.set("value",e.value)},setHovered({context:t,event:e}){t.set("hoveredValue",e.value)},setActive({context:t,event:e}){t.set("activeValue",e.value)},setFocused({context:t,event:e}){t.set("focusedValue",e.value)},syncInputElements({context:t,scope:e}){Lo(e).forEach(r=>{r.checked=r.value===t.get("value")})},setIndicatorTransition({context:t}){t.set("canIndicatorTransition",Cr(t.get("value")))},cleanupObserver({refs:t}){var e;(e=t.get("indicatorCleanup"))==null||e()},syncSsr({context:t}){t.set("ssr",!1)},syncIndicatorRect({context:t,scope:e,refs:n}){var s;if((s=n.get("indicatorCleanup"))==null||s(),!sv(e))return;const r=t.get("value"),i=cv(e,r);if(r==null||!i){t.set("canIndicatorTransition",!1),t.set("indicatorRect",{});return}const a=ic([i],{measure(o){return uv(o)},onEntry({rects:o}){t.set("indicatorRect",dv(o[0]))}});n.set("indicatorCleanup",a)},dispatchChangeEvent({context:t,scope:e}){Lo(e).forEach(r=>{const i=r.value===t.get("value");i!==r.checked&&tc(r,{checked:i})})}}}};lr()(["dir","disabled","form","getRootNode","id","ids","name","onValueChange","orientation","readOnly","value","defaultValue"]);lr()(["value","disabled","invalid"]);var Ti,pv=(Ti=Xi({api:{},indicatorText:""}),Ti[0]),gv=Ti[1];Ti[2];var mv=ft("<div><div></div> <!></div>");function bv(t,e){const n=Li();bt(e,!0);const r=W(e,"base",3,"inline-flex items-stretch overflow-hidden"),i=W(e,"background",3,"preset-outlined-surface-200-800"),a=W(e,"border",3,""),s=W(e,"gap",3,"gap-2"),o=W(e,"padding",3,"p-2"),c=W(e,"rounded",3,"rounded-container"),u=W(e,"width",3,""),v=W(e,"classes",3,""),m=W(e,"orientVertical",3,"flex-col items-stretch"),h=W(e,"orientHorizontal",3,"flex-row"),l=W(e,"stateDisabled",3,"disabled"),p=W(e,"stateReadOnly",3,"pointer-events-none"),d=W(e,"indicatorBase",3,"top-[var(--top)] left-[var(--left)] w-[var(--width)] h-[var(--height)]"),b=W(e,"indicatorBg",3,"preset-filled"),y=W(e,"indicatorText",3,"text-surface-contrast-950 dark:text-surface-contrast-50"),w=W(e,"indicatorRounded",3,"rounded-base"),k=W(e,"indicatorClasses",3,""),T=W(e,"labelledby",3,""),x=Nt(e,["$$slots","$$events","$$legacy","base","background","border","gap","padding","rounded","width","classes","orientVertical","orientHorizontal","stateDisabled","stateReadOnly","indicatorBase","indicatorBg","indicatorText","indicatorRounded","indicatorClasses","labelledby","children"]),O=Zi(vv,()=>({id:n,orientation:e.orientation??"horizontal",...x})),A=ct(()=>fv(O,Ki));pv({get api(){return _(A)},get indicatorText(){return y()}});const P=ct(()=>O.prop("orientation")==="vertical"?m():h()),I=ct(()=>O.prop("disabled")?l():""),M=ct(()=>O.prop("readOnly")?p():"");var z=mv();$t(z,f=>({...f,class:`${r()??""} ${_(P)??""} ${i()??""} ${a()??""} ${o()??""} ${s()??""} ${c()??""} ${u()??""} ${_(I)??""} ${_(M)??""} ${v()??""}`,"aria-labelledby":T(),"data-testid":"segment"}),[()=>_(A).getRootProps()]);var E=K(z);$t(E,f=>({...f,class:`${d()??""} ${b()??""} ${w()??""} ${k()??""}`,"data-testid":"segment-indicator"}),[()=>_(A).getIndicatorProps()]);var R=X(E,2);At(R,()=>e.children??Rt),$(z),Q(t,z),yt()}var yv=ft("<label><span><!></span> <input/></label>");function _v(t,e){bt(e,!0);let n=W(e,"base",3,"btn cursor-pointer z-[1]"),r=W(e,"classes",3,""),i=W(e,"stateDisabled",3,"disabled"),a=W(e,"stateFocused",3,"focused"),s=W(e,"labelBase",3,"pointer-events-none transition-colors duration-100"),o=W(e,"labelClasses",3,""),c=Nt(e,["$$slots","$$events","$$legacy","base","classes","stateDisabled","stateFocused","labelBase","labelClasses","children"]);const u=gv(),v=ct(()=>u.api.getItemState(c)),m=ct(()=>_(v).disabled?i():""),h=ct(()=>_(v).checked?u.indicatorText:""),l=ct(()=>_(v).focused?a():"");var p=yv();$t(p,w=>({...w,class:`${n()??""} ${_(m)??""} ${_(l)??""} ${r()??""}`,"data-testid":"segment-item"}),[()=>u.api.getItemProps(c)]);var d=K(p);$t(d,w=>({...w,class:`${s()??""} ${_(h)??""} ${o()??""}`,"data-testid":"segment-item-label"}),[()=>u.api.getItemTextProps(c)]);var b=K(d);At(b,()=>e.children??Rt),$(d);var y=X(d,2);qt(y),$t(y,w=>({...w,"data-testid":"segment-item-input"}),[()=>u.api.getItemHiddenInputProps(c)]),$(p),Q(t,p),yt()}const No=Object.assign(bv,{Item:_v});var wv=Mn("slider").parts("root","label","thumb","valueText","track","range","control","markerGroup","marker","draggingIndicator"),Be=wv.build(),bc=t=>{var e;return((e=t.ids)==null?void 0:e.root)??`slider:${t.id}`},yc=(t,e)=>{var n,r;return((r=(n=t.ids)==null?void 0:n.thumb)==null?void 0:r.call(n,e))??`slider:${t.id}:thumb:${e}`},os=(t,e)=>{var n,r;return((r=(n=t.ids)==null?void 0:n.hiddenInput)==null?void 0:r.call(n,e))??`slider:${t.id}:input:${e}`},_c=t=>{var e;return((e=t.ids)==null?void 0:e.control)??`slider:${t.id}:control`},xv=t=>{var e;return((e=t.ids)==null?void 0:e.track)??`slider:${t.id}:track`},kv=t=>{var e;return((e=t.ids)==null?void 0:e.range)??`slider:${t.id}:range`},Fo=t=>{var e;return((e=t.ids)==null?void 0:e.label)??`slider:${t.id}:label`},Ev=t=>{var e;return((e=t.ids)==null?void 0:e.valueText)??`slider:${t.id}:value-text`},Cv=(t,e)=>{var n,r;return((r=(n=t.ids)==null?void 0:n.marker)==null?void 0:r.call(n,e))??`slider:${t.id}:marker:${e}`},Sv=t=>t.getById(bc(t)),Tv=(t,e)=>t.getById(yc(t,e)),wc=t=>rc(kc(t),"[role=slider]"),Iv=t=>wc(t)[0],xc=(t,e)=>t.getById(os(t,e)),kc=t=>t.getById(_c(t)),zo=(t,e)=>{const{prop:n,scope:r}=t,i=kc(r);if(!i)return;const s=Yf(e,i).getPercentValue({orientation:n("orientation"),dir:n("dir"),inverted:{y:!0}});return oc(s,n("min"),n("max"),n("step"))},Av=(t,e)=>{e.forEach((n,r)=>{const i=xc(t,r);i&&Mf(i,{value:n})})},Ov=t=>({left:(t==null?void 0:t.offsetLeft)??0,top:(t==null?void 0:t.offsetTop)??0,width:(t==null?void 0:t.offsetWidth)??0,height:(t==null?void 0:t.offsetHeight)??0});function Rv(t){const e=t[0],n=t[t.length-1];return[e,n]}function Pv(t){const{prop:e,computed:n}=t,r=n("valuePercent"),[i,a]=Rv(r);if(r.length===1){if(e("origin")==="center"){const s=r[0]<50,o=s?`${r[0]}%`:"50%",c=s?"50%":`${100-r[0]}%`;return{start:o,end:c}}return e("origin")==="end"?{start:`${a}%`,end:"0%"}:{start:"0%",end:`${100-a}%`}}return{start:`${i}%`,end:`${100-a}%`}}function Dv(t){const{computed:e}=t,n=e("isVertical"),r=e("isRtl");return n?{position:"absolute",bottom:"var(--slider-range-start)",top:"var(--slider-range-end)"}:{position:"absolute",[r?"right":"left"]:"var(--slider-range-start)",[r?"left":"right"]:"var(--slider-range-end)"}}function Lv(t,e){const{context:n,prop:r}=t,{height:i=0}=n.get("thumbSize")??{},a=ns([r("min"),r("max")],[-i/2,i/2]);return parseFloat(a(e).toFixed(2))}function Nv(t,e){const{computed:n,context:r,prop:i}=t,{width:a=0}=r.get("thumbSize")??{};if(n("isRtl")){const c=ns([i("max"),i("min")],[-a/2,a/2]);return-1*parseFloat(c(e).toFixed(2))}const o=ns([i("min"),i("max")],[-a/2,a/2]);return parseFloat(o(e).toFixed(2))}function Fv(t,e,n){const{computed:r,prop:i}=t;if(i("thumbAlignment")==="center")return`${e}%`;const a=r("isVertical")?Lv(t,n):Nv(t,n);return`calc(${e}% - ${a}px)`}function Ec(t,e){const{prop:n}=t,r=Ls(e,n("min"),n("max"))*100;return Fv(t,r,e)}function Cc(t){const{computed:e,prop:n}=t;let r="visible";return n("thumbAlignment")==="contain"&&!e("hasMeasuredThumbSize")&&(r="hidden"),r}function Bo(t,e){const{computed:n}=t,r=n("isVertical")?"bottom":"insetInlineStart";return{visibility:Cc(t),position:"absolute",transform:"var(--slider-thumb-transform)",[r]:`var(--slider-thumb-offset-${e})`}}function zv(){return{touchAction:"none",userSelect:"none",WebkitUserSelect:"none",position:"relative"}}function Bv(t){const{context:e,computed:n}=t,r=n("isVertical"),i=n("isRtl"),a=Pv(t),s=e.get("thumbSize");return{...e.get("value").reduce((c,u,v)=>{const m=Ec(t,u);return{...c,[`--slider-thumb-offset-${v}`]:m}},{}),"--slider-thumb-width":Ao(s==null?void 0:s.width),"--slider-thumb-height":Ao(s==null?void 0:s.height),"--slider-thumb-transform":r?"translateY(50%)":i?"translateX(50%)":"translateX(-50%)","--slider-range-start":a.start,"--slider-range-end":a.end}}function Mv(t,e){const{computed:n}=t,r=n("isHorizontal"),i=n("isRtl");return{visibility:Cc(t),position:"absolute",pointerEvents:"none",[r?"insetInlineStart":"bottom"]:Ec(t,e),translate:"var(--tx) var(--ty)","--tx":r?i?"50%":"-50%":"0%","--ty":r?"0%":"50%"}}function Vv(){return{userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none",position:"relative"}}function Hv(t,e){return e.map((n,r)=>ls(t,n,r))}function En(t,e){const{context:n,prop:r}=t,i=r("step")*r("minStepsBetweenThumbs");return cc(n.get("value"),r("min"),r("max"),i)[e]}function ls(t,e,n){const{prop:r}=t,i=En(t,n),a=Ns(e,r("min"),r("max"),r("step"));return jr(a,i.min,i.max)}function Wv(t,e,n){const{context:r,prop:i}=t,a=e??r.get("focusedIndex"),s=En(t,a),o=Ih(a,{...s,step:n??i("step"),values:r.get("value")});return o[a]=jr(o[a],s.min,s.max),o}function Uv(t,e,n){const{context:r,prop:i}=t,a=e??r.get("focusedIndex"),s=En(t,a),o=Th(a,{...s,step:n??i("step"),values:r.get("value")});return o[a]=jr(o[a],s.min,s.max),o}function jv(t,e){const{context:n}=t;return Ah(n.get("value"),e)}function $v(t,e){const{state:n,send:r,context:i,prop:a,computed:s,scope:o}=t,c=a("aria-label"),u=a("aria-labelledby"),v=i.get("value"),m=i.get("focusedIndex"),h=n.matches("focus"),l=n.matches("dragging"),p=s("isDisabled"),d=a("invalid"),b=s("isInteractive"),y=a("orientation")==="horizontal",w=a("orientation")==="vertical";function k(x){return Ls(x,a("min"),a("max"))}function T(x){return oc(x,a("min"),a("max"),a("step"))}return{value:v,dragging:l,focused:h,setValue(x){r({type:"SET_VALUE",value:x})},getThumbValue(x){return v[x]},setThumbValue(x,O){r({type:"SET_VALUE",index:x,value:O})},getValuePercent:k,getPercentValue:T,getThumbPercent(x){return k(v[x])},setThumbPercent(x,O){const A=T(O);r({type:"SET_VALUE",index:x,value:A})},getThumbMin(x){return En(t,x).min},getThumbMax(x){return En(t,x).max},increment(x){r({type:"INCREMENT",index:x})},decrement(x){r({type:"DECREMENT",index:x})},focus(){b&&r({type:"FOCUS",index:0})},getLabelProps(){return e.label({...Be.label.attrs,dir:a("dir"),"data-disabled":kt(p),"data-orientation":a("orientation"),"data-invalid":kt(d),"data-dragging":kt(l),"data-focus":kt(h),id:Fo(o),htmlFor:os(o,0),onClick(x){var O;b&&(x.preventDefault(),(O=Iv(o))==null||O.focus())},style:{userSelect:"none",WebkitUserSelect:"none"}})},getRootProps(){return e.element({...Be.root.attrs,"data-disabled":kt(p),"data-orientation":a("orientation"),"data-dragging":kt(l),"data-invalid":kt(d),"data-focus":kt(h),id:bc(o),dir:a("dir"),style:Bv(t)})},getValueTextProps(){return e.element({...Be.valueText.attrs,dir:a("dir"),"data-disabled":kt(p),"data-orientation":a("orientation"),"data-invalid":kt(d),"data-focus":kt(h),id:Ev(o)})},getTrackProps(){return e.element({...Be.track.attrs,dir:a("dir"),id:xv(o),"data-disabled":kt(p),"data-invalid":kt(d),"data-dragging":kt(l),"data-orientation":a("orientation"),"data-focus":kt(h),style:{position:"relative"}})},getThumbProps(x){var R;const{index:O=0,name:A}=x,P=v[O],I=En(t,O),M=(R=a("getAriaValueText"))==null?void 0:R({value:P,index:O}),z=Array.isArray(c)?c[O]:c,E=Array.isArray(u)?u[O]:u;return e.element({...Be.thumb.attrs,dir:a("dir"),"data-index":O,"data-name":A,id:yc(o,O),"data-disabled":kt(p),"data-orientation":a("orientation"),"data-focus":kt(h&&m===O),"data-dragging":kt(l&&m===O),draggable:!1,"aria-disabled":af(p),"aria-label":z,"aria-labelledby":E??Fo(o),"aria-orientation":a("orientation"),"aria-valuemax":I.max,"aria-valuemin":I.min,"aria-valuenow":v[O],"aria-valuetext":M,role:"slider",tabIndex:p?void 0:0,style:Bo(t,O),onPointerDown(f){b&&(r({type:"THUMB_POINTER_DOWN",index:O}),f.stopPropagation())},onBlur(){b&&r({type:"BLUR"})},onFocus(){b&&r({type:"FOCUS",index:O})},onKeyDown(f){if(f.defaultPrevented||!b)return;const L=zf(f)*a("step"),j={ArrowUp(){y||r({type:"ARROW_INC",step:L,src:"ArrowUp"})},ArrowDown(){y||r({type:"ARROW_DEC",step:L,src:"ArrowDown"})},ArrowLeft(){w||r({type:"ARROW_DEC",step:L,src:"ArrowLeft"})},ArrowRight(){w||r({type:"ARROW_INC",step:L,src:"ArrowRight"})},PageUp(){r({type:"ARROW_INC",step:L,src:"PageUp"})},PageDown(){r({type:"ARROW_DEC",step:L,src:"PageDown"})},Home(){r({type:"HOME"})},End(){r({type:"END"})}},V=Lf(f,{dir:a("dir"),orientation:a("orientation")}),Z=j[V];Z&&(Z(f),f.preventDefault(),f.stopPropagation())}})},getHiddenInputProps(x){const{index:O=0,name:A}=x;return e.input({name:A??(a("name")?a("name")+(v.length>1?"[]":""):void 0),form:a("form"),type:"text",hidden:!0,defaultValue:v[O],id:os(o,O)})},getRangeProps(){return e.element({id:kv(o),...Be.range.attrs,dir:a("dir"),"data-dragging":kt(l),"data-focus":kt(h),"data-invalid":kt(d),"data-disabled":kt(p),"data-orientation":a("orientation"),style:Dv(t)})},getControlProps(){return e.element({...Be.control.attrs,dir:a("dir"),id:_c(o),"data-dragging":kt(l),"data-disabled":kt(p),"data-orientation":a("orientation"),"data-invalid":kt(d),"data-focus":kt(h),style:zv(),onPointerDown(x){if(!b||!Af(x)||Rf(x))return;const O=Rs(x);r({type:"POINTER_DOWN",point:O}),x.preventDefault(),x.stopPropagation()}})},getMarkerGroupProps(){return e.element({...Be.markerGroup.attrs,role:"presentation",dir:a("dir"),"aria-hidden":!0,"data-orientation":a("orientation"),style:Vv()})},getMarkerProps(x){const O=Mv(t,x.value);let A;return x.value<uh(v)?A="under-value":x.value>dh(v)?A="over-value":A="at-value",e.element({...Be.marker.attrs,id:Cv(o,x.value),role:"presentation",dir:a("dir"),"data-orientation":a("orientation"),"data-value":x.value,"data-disabled":kt(p),"data-state":A,style:O})},getDraggingIndicatorProps(x){const{index:O=0}=x,A=O===m&&l;return e.element({...Be.draggingIndicator.attrs,role:"presentation",dir:a("dir"),hidden:!A,"data-orientation":a("orientation"),"data-state":A?"open":"closed",style:Bo(t,O)})}}}var qv=(t,e)=>(t==null?void 0:t.width)===(e==null?void 0:e.width)&&(t==null?void 0:t.height)===(e==null?void 0:e.height),Mo=(t,e,n,r,i)=>cc(t,e,n,i*r).map(s=>{const o=Ns(s.value,s.min,s.max,r),c=jr(o,s.min,s.max);if(!Ch(c,e,n))throw new Error("[zag-js/slider] The configured `min`, `max`, `step` or `minStepsBetweenThumbs` values are invalid");return c}),Gv={props({props:t}){const e=t.min??0,n=t.max??100,r=t.step??1,i=t.defaultValue??[e],a=t.minStepsBetweenThumbs??0;return{dir:"ltr",thumbAlignment:"contain",origin:"start",orientation:"horizontal",minStepsBetweenThumbs:a,...t,defaultValue:Mo(i,e,n,r,a),value:t.value?Mo(t.value,e,n,r,a):void 0,max:n,step:r,min:e}},initialState(){return"idle"},context({prop:t,bindable:e,getContext:n}){return{thumbSize:e(()=>({defaultValue:t("thumbSize")||null})),value:e(()=>({defaultValue:t("defaultValue"),value:t("value"),isEqual:Gi,hash(r){return r.join(",")},onChange(r){var i;(i=t("onValueChange"))==null||i({value:r})}})),focusedIndex:e(()=>({defaultValue:-1,onChange(r){var a;const i=n();(a=t("onFocusChange"))==null||a({focusedIndex:r,value:i.get("value")})}})),fieldsetDisabled:e(()=>({defaultValue:!1}))}},computed:{isHorizontal:({prop:t})=>t("orientation")==="horizontal",isVertical:({prop:t})=>t("orientation")==="vertical",isRtl:({prop:t})=>t("orientation")==="horizontal"&&t("dir")==="rtl",isDisabled:({context:t,prop:e})=>!!e("disabled")||t.get("fieldsetDisabled"),isInteractive:({prop:t,computed:e})=>!(t("readOnly")||e("isDisabled")),hasMeasuredThumbSize:({context:t})=>t.get("thumbSize")!=null,valuePercent({context:t,prop:e}){return t.get("value").map(n=>100*Ls(n,e("min"),e("max")))}},watch({track:t,action:e,context:n}){t([()=>n.hash("value")],()=>{e(["syncInputElements","dispatchChangeEvent"])})},effects:["trackFormControlState","trackThumbSize"],on:{SET_VALUE:[{guard:"hasIndex",actions:["setValueAtIndex"]},{actions:["setValue"]}],INCREMENT:{actions:["incrementThumbAtIndex"]},DECREMENT:{actions:["decrementThumbAtIndex"]}},states:{idle:{on:{POINTER_DOWN:{target:"dragging",actions:["setClosestThumbIndex","setPointerValue","focusActiveThumb"]},FOCUS:{target:"focus",actions:["setFocusedIndex"]},THUMB_POINTER_DOWN:{target:"dragging",actions:["setFocusedIndex","focusActiveThumb"]}}},focus:{entry:["focusActiveThumb"],on:{POINTER_DOWN:{target:"dragging",actions:["setClosestThumbIndex","setPointerValue","focusActiveThumb"]},THUMB_POINTER_DOWN:{target:"dragging",actions:["setFocusedIndex","focusActiveThumb"]},ARROW_DEC:{actions:["decrementThumbAtIndex","invokeOnChangeEnd"]},ARROW_INC:{actions:["incrementThumbAtIndex","invokeOnChangeEnd"]},HOME:{actions:["setFocusedThumbToMin","invokeOnChangeEnd"]},END:{actions:["setFocusedThumbToMax","invokeOnChangeEnd"]},BLUR:{target:"idle",actions:["clearFocusedIndex"]}}},dragging:{entry:["focusActiveThumb"],effects:["trackPointerMove"],on:{POINTER_UP:{target:"focus",actions:["invokeOnChangeEnd"]},POINTER_MOVE:{actions:["setPointerValue"]}}}},implementations:{guards:{hasIndex:({event:t})=>t.index!=null},effects:{trackFormControlState({context:t,scope:e}){return Ps(Sv(e),{onFieldsetDisabledChange(n){t.set("fieldsetDisabled",n)},onFormReset(){t.set("value",t.initial("value"))}})},trackPointerMove({scope:t,send:e}){return eh(t.getDoc(),{onPointerMove(n){e({type:"POINTER_MOVE",point:n.point})},onPointerUp(){e({type:"POINTER_UP"})}})},trackThumbSize({context:t,scope:e,prop:n}){if(!(n("thumbAlignment")!=="contain"||n("thumbSize")))return ic(wc(e),{box:"border-box",measure(r){return Ov(r)},onEntry({rects:r}){if(r.length===0)return;const i=Rh(r[0],["width","height"]);qv(t.get("thumbSize"),i)||t.set("thumbSize",i)}})}},actions:{dispatchChangeEvent({context:t,scope:e}){Av(e,t.get("value"))},syncInputElements({context:t,scope:e}){t.get("value").forEach((n,r)=>{const i=xc(e,r);Jl(i,n.toString())})},invokeOnChangeEnd({prop:t,context:e}){queueMicrotask(()=>{var n;(n=t("onValueChangeEnd"))==null||n({value:e.get("value")})})},setClosestThumbIndex(t){const{context:e,event:n}=t,r=zo(t,n.point);if(r==null)return;const i=jv(t,r);e.set("focusedIndex",i)},setFocusedIndex({context:t,event:e}){t.set("focusedIndex",e.index)},clearFocusedIndex({context:t}){t.set("focusedIndex",-1)},setPointerValue(t){queueMicrotask(()=>{const{context:e,event:n}=t,r=zo(t,n.point);if(r==null)return;const i=e.get("focusedIndex"),a=ls(t,r,i);e.set("value",s=>mr(s,i,a))})},focusActiveThumb({scope:t,context:e}){Ee(()=>{const n=Tv(t,e.get("focusedIndex"));n==null||n.focus({preventScroll:!0})})},decrementThumbAtIndex(t){const{context:e,event:n}=t,r=Wv(t,n.index,n.step);e.set("value",r)},incrementThumbAtIndex(t){const{context:e,event:n}=t,r=Uv(t,n.index,n.step);e.set("value",r)},setFocusedThumbToMin(t){const{context:e}=t,n=e.get("focusedIndex"),{min:r}=En(t,n);e.set("value",i=>mr(i,n,r))},setFocusedThumbToMax(t){const{context:e}=t,n=e.get("focusedIndex"),{max:r}=En(t,n);e.set("value",i=>mr(i,n,r))},setValueAtIndex(t){const{context:e,event:n}=t,r=ls(t,n.value,n.index);e.set("value",i=>mr(i,n.index,r))},setValue(t){const{context:e,event:n}=t,r=Hv(t,n.value);e.set("value",r)}}}};lr()(["aria-label","aria-labelledby","dir","disabled","form","getAriaValueText","getRootNode","id","ids","invalid","max","min","minStepsBetweenThumbs","name","onFocusChange","onValueChange","onValueChangeEnd","orientation","origin","readOnly","step","thumbAlignment","thumbAlignment","thumbSize","value","defaultValue"]);lr()(["index","name"]);var Kv=ft('<div><div data-testid="slider-thumb"></div> <input/></div>'),Zv=ft("<span><!></span>"),Xv=ft("<div></div>"),Yv=ft('<div><div><div><div></div></div> <div style="display: flex; align-items: center; transform: translateY(-100%);" data-testid="slider-thumb-wrapper"></div></div> <!></div>');function Sc(t,e){const n=Li();bt(e,!0);const r=W(e,"markers",19,()=>[]),i=W(e,"height",3,"h-1.5"),a=W(e,"base",3,"w-full bg-green"),s=W(e,"spaceY",3,""),o=W(e,"classes",3,""),c=W(e,"controlBase",3,""),u=W(e,"controlClasses",3,""),v=W(e,"trackBase",3,"overflow-hidden"),m=W(e,"trackBg",3,"bg-surface-200-800"),h=W(e,"trackRounded",3,"rounded-full"),l=W(e,"trackClasses",3,""),p=W(e,"meterBase",3,""),d=W(e,"meterBg",3,"bg-surface-950-50"),b=W(e,"meterRounded",3,"rounded-container"),y=W(e,"meterClasses",3,""),w=W(e,"thumbBase",3,"ring-inset transition-scale duration-100 ease-in-out"),k=W(e,"thumbSize",3,"size-8 md:size-5"),T=W(e,"thumbBg",3,"bg-surface-50-950"),x=W(e,"thumbRingSize",3,"ring-2"),O=W(e,"thumbRingColor",3,"ring-surface-950-50"),A=W(e,"thumbRounded",3,"rounded-full"),P=W(e,"thumbCursor",3,"hover:cursor-pointer"),I=W(e,"thumbClasses",3,""),M=W(e,"markersBase",3,""),z=W(e,"markersClasses",3,""),E=W(e,"markBase",3,""),R=W(e,"markText",3,"text-[10px]"),f=W(e,"markOpacity",3,"opacity-50"),L=W(e,"markClasses",3,""),j=W(e,"stateDisabled",3,"disabled"),V=W(e,"stateReadOnly",3,"cursor-not-allowed"),Z=Nt(e,["$$slots","$$events","$$legacy","markers","height","base","spaceY","classes","controlBase","controlClasses","trackBase","trackBg","trackRounded","trackClasses","meterBase","meterBg","meterRounded","meterClasses","thumbBase","thumbSize","thumbBg","thumbRingSize","thumbRingColor","thumbRounded","thumbCursor","thumbClasses","markersBase","markersClasses","markBase","markText","markOpacity","markClasses","stateDisabled","stateReadOnly","mark"]),U=Zi(Gv,()=>({id:n,...Z})),tt=ct(()=>$v(U,Ki)),N=ct(()=>U.prop("disabled")?j():""),B=ct(()=>U.prop("readOnly")?V():P());var ot=Yv();$t(ot,ht=>({...ht,class:`${a()??""} ${i()??""} ${s()??""} ${_(N)??""} ${o()??""}`,"data-testid":"slider"}),[()=>_(tt).getRootProps()]);var nt=K(ot);$t(nt,ht=>({...ht,class:`${c()??""} ${u()??""}`,"data-testid":"slider-control"}),[()=>_(tt).getControlProps()]);var J=K(nt);$t(J,ht=>({...ht,class:`${v()??""} ${m()??""} ${i()??""} ${h()??""} ${l()??""}`,"data-testid":"slider-track"}),[()=>_(tt).getTrackProps()]);var wt=K(J);$t(wt,ht=>({...ht,class:`${p()??""} ${i()??""} ${d()??""} ${b()??""} ${y()??""}`,"data-testid":"slider-meter"}),[()=>_(tt).getRangeProps()]),$(J);var St=X(J,2);pe(St,21,()=>_(tt).value,ve,(ht,Ct,Mt)=>{var Bt=Kv();$t(Bt,F=>({...F}),[()=>_(tt).getThumbProps({index:Mt})]);var g=K(Bt),q=X(g,2);qt(q),$t(q,F=>({...F,"data-testid":"slider-input"}),[()=>_(tt).getHiddenInputProps({index:Mt})]),$(Bt),Ot(()=>ne(g,1,`${w()??""} ${k()??""} ${T()??""} ${x()??""} ${O()??""} ${A()??""} ${_(B)??""} ${I()??""}`)),Q(ht,Bt)}),$(St),$(nt);var dt=X(nt,2);{var xt=ht=>{var Ct=Xv();$t(Ct,Mt=>({...Mt,class:`${M()??""} ${z()??""}`,"data-testid":"slider-markers"}),[()=>_(tt).getMarkerGroupProps()]),pe(Ct,21,r,ve,(Mt,Bt)=>{var g=Zv();$t(g,C=>({...C,class:`${E()??""} ${R()??""} ${f()??""} ${L()??""}`,"data-testid":"slider-mark"}),[()=>_(tt).getMarkerProps({value:_(Bt)})]);var q=K(g);{var F=C=>{var D=Et(),G=pt(D);At(G,()=>e.mark,()=>_(Bt)),Q(C,D)},S=C=>{var D=Hr();Ot(()=>ue(D,_(Bt))),Q(C,D)};Lt(q,C=>{e.mark?C(F):C(S,!1)})}$(g),Q(Mt,g)}),$(Ct),Q(ht,Ct)};Lt(dt,ht=>{r().length>0&&ht(xt)})}$(ot),Ot(()=>ne(St,1,Na(i()))),Q(t,ot),yt()}var Jv=Mn("switch").parts("root","label","control","thumb"),Jr=Jv.build(),Tc=t=>{var e;return((e=t.ids)==null?void 0:e.root)??`switch:${t.id}`},Vo=t=>{var e;return((e=t.ids)==null?void 0:e.label)??`switch:${t.id}:label`},Qv=t=>{var e;return((e=t.ids)==null?void 0:e.thumb)??`switch:${t.id}:thumb`},tp=t=>{var e;return((e=t.ids)==null?void 0:e.control)??`switch:${t.id}:control`},cs=t=>{var e;return((e=t.ids)==null?void 0:e.hiddenInput)??`switch:${t.id}:input`},ep=t=>t.getById(Tc(t)),er=t=>t.getById(cs(t));function np(t,e){const{context:n,send:r,prop:i,scope:a}=t,s=i("disabled"),o=i("readOnly"),c=!!n.get("checked"),u=!s&&n.get("focused"),v=!s&&n.get("focusVisible"),m={"data-active":kt(n.get("active")),"data-focus":kt(u),"data-focus-visible":kt(v),"data-readonly":kt(o),"data-hover":kt(n.get("hovered")),"data-disabled":kt(s),"data-state":c?"checked":"unchecked","data-invalid":kt(i("invalid"))};return{checked:c,disabled:s,focused:u,setChecked(h){r({type:"CHECKED.SET",checked:h,isTrusted:!1})},toggleChecked(){r({type:"CHECKED.TOGGLE",checked:c,isTrusted:!1})},getRootProps(){return e.label({...Jr.root.attrs,...m,dir:i("dir"),id:Tc(a),htmlFor:cs(a),onPointerMove(){s||r({type:"CONTEXT.SET",context:{hovered:!0}})},onPointerLeave(){s||r({type:"CONTEXT.SET",context:{hovered:!1}})},onClick(h){var p;if(s)return;we(h)===er(a)&&h.stopPropagation(),Os()&&((p=er(a))==null||p.focus())}})},getLabelProps(){return e.element({...Jr.label.attrs,...m,dir:i("dir"),id:Vo(a)})},getThumbProps(){return e.element({...Jr.thumb.attrs,...m,dir:i("dir"),id:Qv(a),"aria-hidden":!0})},getControlProps(){return e.element({...Jr.control.attrs,...m,dir:i("dir"),id:tp(a),"aria-hidden":!0})},getHiddenInputProps(){return e.input({id:cs(a),type:"checkbox",required:i("required"),defaultChecked:c,disabled:s,"aria-labelledby":Vo(a),"aria-invalid":i("invalid"),name:i("name"),form:i("form"),value:i("value"),style:ac,onFocus(){const h=Ci();r({type:"CONTEXT.SET",context:{focused:!0,focusVisible:h}})},onBlur(){r({type:"CONTEXT.SET",context:{focused:!1,focusVisible:!1}})},onClick(h){if(o){h.preventDefault();return}const l=h.currentTarget.checked;r({type:"CHECKED.SET",checked:l,isTrusted:!0})}})}}}var{not:Ho}=uc(),rp={props({props:t}){return{defaultChecked:!1,label:"switch",value:"on",...t}},initialState(){return"ready"},context({prop:t,bindable:e}){return{checked:e(()=>({defaultValue:t("defaultChecked"),value:t("checked"),onChange(n){var r;(r=t("onCheckedChange"))==null||r({checked:n})}})),fieldsetDisabled:e(()=>({defaultValue:!1})),focusVisible:e(()=>({defaultValue:!1})),active:e(()=>({defaultValue:!1})),focused:e(()=>({defaultValue:!1})),hovered:e(()=>({defaultValue:!1}))}},computed:{isDisabled:({context:t,prop:e})=>e("disabled")||t.get("fieldsetDisabled")},watch({track:t,prop:e,context:n,action:r}){t([()=>e("disabled")],()=>{r(["removeFocusIfNeeded"])}),t([()=>n.get("checked")],()=>{r(["syncInputElement"])})},effects:["trackFormControlState","trackPressEvent","trackFocusVisible"],on:{"CHECKED.TOGGLE":[{guard:Ho("isTrusted"),actions:["toggleChecked","dispatchChangeEvent"]},{actions:["toggleChecked"]}],"CHECKED.SET":[{guard:Ho("isTrusted"),actions:["setChecked","dispatchChangeEvent"]},{actions:["setChecked"]}],"CONTEXT.SET":{actions:["setContext"]}},states:{ready:{}},implementations:{guards:{isTrusted:({event:t})=>!!t.isTrusted},effects:{trackPressEvent({computed:t,scope:e,context:n}){if(!t("isDisabled"))return nh({pointerNode:ep(e),keyboardNode:er(e),isValidKey:r=>r.key===" ",onPress:()=>n.set("active",!1),onPressStart:()=>n.set("active",!0),onPressEnd:()=>n.set("active",!1)})},trackFocusVisible({computed:t,scope:e}){if(!t("isDisabled"))return pc({root:e.getRootNode()})},trackFormControlState({context:t,send:e,scope:n}){return Ps(er(n),{onFieldsetDisabledChange(r){t.set("fieldsetDisabled",r)},onFormReset(){const r=t.initial("checked");e({type:"CHECKED.SET",checked:!!r,src:"form-reset"})}})}},actions:{setContext({context:t,event:e}){for(const n in e.context)t.set(n,e.context[n])},syncInputElement({context:t,scope:e}){const n=er(e);n&&Ql(n,!!t.get("checked"))},removeFocusIfNeeded({context:t,prop:e}){e("disabled")&&t.set("focused",!1)},setChecked({context:t,event:e}){t.set("checked",e.checked)},toggleChecked({context:t}){t.set("checked",!t.get("checked"))},dispatchChangeEvent({context:t,scope:e}){const n=er(e);tc(n,{checked:t.get("checked")})}}}};lr()(["checked","defaultChecked","dir","disabled","form","getRootNode","id","ids","invalid","label","name","onCheckedChange","readOnly","required","value"]);var ip=ft('<span data-testid="switch-icon-inactive"><!></span>'),ap=ft('<span data-testid="switch-icon-active"><!></span>'),sp=ft("<span><!></span>"),op=ft("<label><input/> <span><span><!> <!></span></span> <!></label>");function Rn(t,e){const n=Li();bt(e,!0);const r=W(e,"compact",3,!1),i=W(e,"base",3,"inline-flex items-center gap-4"),a=W(e,"classes",3,""),s=W(e,"stateFocused",3,"data-[focus-visible]:focused"),o=W(e,"controlBase",3,"cursor-pointer transition duration-200"),c=W(e,"controlInactive",3,"preset-filled-surface-200-800"),u=W(e,"controlActive",3,"preset-filled-primary-500"),v=W(e,"controlDisabled",3,"opacity-50 cursor-not-allowed"),m=W(e,"controlWidth",3,"w-10"),h=W(e,"controlHeight",3,"h-6"),l=W(e,"controlPadding",3,"p-0.5"),p=W(e,"controlRounded",3,"rounded-full"),d=W(e,"controlHover",3,"hover:brightness-90 dark:hover:brightness-110"),b=W(e,"controlClasses",3,""),y=W(e,"thumbBase",3,"right-0 aspect-square h-full flex justify-center items-center text-right cursor-pointer"),w=W(e,"thumbInactive",3,"preset-filled-surface-50-950"),k=W(e,"thumbActive",3,"bg-surface-50 text-surface-contrast-50"),T=W(e,"thumbRounded",3,"rounded-full"),x=W(e,"thumbTranslateX",3,"translate-x-4 rtl:-translate-x-4"),O=W(e,"thumbTransition",3,"transition"),A=W(e,"thumbEase",3,"ease-in-out"),P=W(e,"thumbDuration",3,"duration-200"),I=W(e,"thumbClasses",3,""),M=W(e,"labelBase",3,""),z=W(e,"labelClasses",3,""),E=W(e,"iconInactiveBase",3,"pointer-events-none"),R=W(e,"iconActiveBase",3,"pointer-events-none"),f=Nt(e,["$$slots","$$events","$$legacy","compact","base","classes","stateFocused","controlBase","controlInactive","controlActive","controlDisabled","controlWidth","controlHeight","controlPadding","controlRounded","controlHover","controlClasses","thumbBase","thumbInactive","thumbActive","thumbRounded","thumbTranslateX","thumbTransition","thumbEase","thumbDuration","thumbClasses","labelBase","labelClasses","iconInactiveBase","iconActiveBase","children","inactiveChild","activeChild"]),L=Zi(rp,()=>({id:n,...f})),j=ct(()=>np(L,Ki)),V=ct(()=>r()?y():o()),Z=ct(()=>r()?"":h()),U=ct(()=>r()?"":l()),tt=ct(()=>r()?c():w()),N=ct(()=>r()?u():k()),B=ct(()=>r()?"":x()),ot=ct(()=>_(j).checked?u():c()),nt=ct(()=>_(j).checked?`${_(N)} ${_(B)}`:_(tt)),J=ct(()=>_(j).disabled?v():""),wt=ct(()=>_(j).focused?s():"");var St=op();$t(St,S=>({...S,class:`${i()??""} ${a()??""}`,"data-testid":"switch"}),[()=>_(j).getRootProps()]);var dt=K(St);qt(dt),$t(dt,S=>({...S,"data-testid":"switch-input"}),[()=>_(j).getHiddenInputProps()]);var xt=X(dt,2);$t(xt,S=>({...S,class:`${_(V)??""} ${_(ot)??""} ${_(wt)??""} ${m()??""} ${_(Z)??""} ${_(U)??""} ${p()??""} ${d()??""} ${_(J)??""} ${b()??""}`,"data-testid":"switch-control"}),[()=>_(j).getControlProps()]);var ht=K(xt);$t(ht,S=>({...S,class:`${y()??""} ${_(nt)??""} ${T()??""} ${O()??""} ${A()??""} ${P()??""} ${I()??""}`,"data-testid":"switch-thumb"}),[()=>_(j).getThumbProps()]);var Ct=K(ht);{var Mt=S=>{var C=ip(),D=K(C);At(D,()=>e.inactiveChild),$(C),Ot(()=>ne(C,1,Na(E()))),Q(S,C)};Lt(Ct,S=>{!_(j).checked&&e.inactiveChild&&S(Mt)})}var Bt=X(Ct,2);{var g=S=>{var C=ap(),D=K(C);At(D,()=>e.activeChild),$(C),Ot(()=>ne(C,1,Na(R()))),Q(S,C)};Lt(Bt,S=>{_(j).checked&&e.activeChild&&S(g)})}$(ht),$(xt);var q=X(xt,2);{var F=S=>{var C=sp();$t(C,G=>({...G,class:`${M()??""} ${z()??""}`,"data-testid":"switch-label"}),[()=>_(j).getLabelProps()]);var D=K(C);At(D,()=>e.children),$(C),Q(S,C)};Lt(q,S=>{e.children&&S(F)})}$(St),Q(t,St),yt()}var Ii;Ii=Xi({fluid:!1,api:{}}),Ii[0];Ii[1];Ii[2];function lp(t){const e={each(n){var r;for(let i=0;i<((r=t.frames)==null?void 0:r.length);i+=1){const a=t.frames[i];a&&n(a)}},addEventListener(n,r,i){return e.each(a=>{try{a.document.addEventListener(n,r,i)}catch{}}),()=>{try{e.removeEventListener(n,r,i)}catch{}}},removeEventListener(n,r,i){e.each(a=>{try{a.document.removeEventListener(n,r,i)}catch{}})}};return e}function cp(t){const e=t.frameElement!=null?t.parent:null;return{addEventListener:(n,r,i)=>{try{e==null||e.addEventListener(n,r,i)}catch{}return()=>{try{e==null||e.removeEventListener(n,r,i)}catch{}}},removeEventListener:(n,r,i)=>{try{e==null||e.removeEventListener(n,r,i)}catch{}}}}var Wo="pointerdown.outside",Uo="focus.outside";function up(t){for(const e of t)if(re(e)&&kn(e))return!0;return!1}var Ic=t=>"clientY"in t;function dp(t,e){if(!Ic(e)||!t)return!1;const n=t.getBoundingClientRect();return n.width===0||n.height===0?!1:n.top<=e.clientY&&e.clientY<=n.top+n.height&&n.left<=e.clientX&&e.clientX<=n.left+n.width}function fp(t,e){return t.y<=e.y&&e.y<=t.y+t.height&&t.x<=e.x&&e.x<=t.x+t.width}function jo(t,e){if(!e||!Ic(t))return!1;const n=e.scrollHeight>e.clientHeight,r=n&&t.clientX>e.offsetLeft+e.clientWidth,i=e.scrollWidth>e.clientWidth,a=i&&t.clientY>e.offsetTop+e.clientHeight,s={x:e.offsetLeft,y:e.offsetTop,width:e.clientWidth+(n?16:0),height:e.clientHeight+(i?16:0)},o={x:t.clientX,y:t.clientY};return fp(s,o)?r||a:!1}function hp(t,e){const{exclude:n,onFocusOutside:r,onPointerDownOutside:i,onInteractOutside:a,defer:s}=e;if(!t)return;const o=Ce(t),c=ae(t),u=lp(c),v=cp(c);function m(w,k){if(!re(k)||!k.isConnected||Dr(t,k)||dp(t,w))return!1;const T=o.querySelector(`[aria-controls="${t.id}"]`);if(T){const O=Ya(T);if(jo(w,O))return!1}const x=Ya(t);return jo(w,x)?!1:!(n!=null&&n(k))}const h=new Set,l=Pr(t==null?void 0:t.getRootNode());function p(w){function k(T){var P;const x=s&&!Eo()?Ee:I=>I(),O=T??w,A=((P=O==null?void 0:O.composedPath)==null?void 0:P.call(O))??[O==null?void 0:O.target];x(()=>{const I=l?A[0]:we(w);if(!(!t||!m(w,I))){if(i||a){const M=ts(i,a);t.addEventListener(Wo,M,{once:!0})}$o(t,Wo,{bubbles:!1,cancelable:!0,detail:{originalEvent:O,contextmenu:Of(O),focusable:up(A),target:I}})}})}w.pointerType==="touch"?(h.forEach(T=>T()),h.add(Zt(o,"click",k,{once:!0})),h.add(v.addEventListener("click",k,{once:!0})),h.add(u.addEventListener("click",k,{once:!0}))):k()}const d=new Set,b=setTimeout(()=>{d.add(Zt(o,"pointerdown",p,!0)),d.add(v.addEventListener("pointerdown",p,!0)),d.add(u.addEventListener("pointerdown",p,!0))},0);function y(w){(s?Ee:T=>T())(()=>{const T=we(w);if(!(!t||!m(w,T))){if(r||a){const x=ts(r,a);t.addEventListener(Uo,x,{once:!0})}$o(t,Uo,{bubbles:!1,cancelable:!0,detail:{originalEvent:w,contextmenu:!1,focusable:kn(T),target:T}})}})}return Eo()||(d.add(Zt(o,"focusin",y,!0)),d.add(v.addEventListener("focusin",y,!0)),d.add(u.addEventListener("focusin",y,!0))),()=>{clearTimeout(b),h.forEach(w=>w()),d.forEach(w=>w())}}function vp(t,e){const{defer:n}=e,r=n?Ee:a=>a(),i=[];return i.push(r(()=>{const a=typeof t=="function"?t():t;i.push(hp(a,e))})),()=>{i.forEach(a=>a==null?void 0:a())}}function $o(t,e,n){const r=t.ownerDocument.defaultView||window,i=new r.CustomEvent(e,n);return t.dispatchEvent(i)}function pp(t,e){const n=r=>{r.key==="Escape"&&(r.isComposing||e==null||e(r))};return Zt(Ce(t),"keydown",n,{capture:!0})}var Re={layers:[],branches:[],count(){return this.layers.length},pointerBlockingLayers(){return this.layers.filter(t=>t.pointerBlocking)},topMostPointerBlockingLayer(){return[...this.pointerBlockingLayers()].slice(-1)[0]},hasPointerBlockingLayer(){return this.pointerBlockingLayers().length>0},isBelowPointerBlockingLayer(t){var r;const e=this.indexOf(t),n=this.topMostPointerBlockingLayer()?this.indexOf((r=this.topMostPointerBlockingLayer())==null?void 0:r.node):-1;return e<n},isTopMost(t){const e=this.layers[this.count()-1];return(e==null?void 0:e.node)===t},getNestedLayers(t){return Array.from(this.layers).slice(this.indexOf(t)+1)},isInNestedLayer(t,e){return this.getNestedLayers(t).some(n=>Dr(n.node,e))},isInBranch(t){return Array.from(this.branches).some(e=>Dr(e,t))},add(t){const e=this.layers.push(t);t.node.style.setProperty("--layer-index",`${e}`)},addBranch(t){this.branches.push(t)},remove(t){const e=this.indexOf(t);e<0||(e<this.count()-1&&this.getNestedLayers(t).forEach(r=>r.dismiss()),this.layers.splice(e,1),t.style.removeProperty("--layer-index"))},removeBranch(t){const e=this.branches.indexOf(t);e>=0&&this.branches.splice(e,1)},indexOf(t){return this.layers.findIndex(e=>e.node===t)},dismiss(t){var e;(e=this.layers[this.indexOf(t)])==null||e.dismiss()},clear(){this.remove(this.layers[0].node)}},qo;function Go(){Re.layers.forEach(({node:t})=>{t.style.pointerEvents=Re.isBelowPointerBlockingLayer(t)?"none":"auto"})}function gp(t){t.style.pointerEvents=""}function mp(t,e){const n=Ce(t),r=[];if(Re.hasPointerBlockingLayer()&&!n.body.hasAttribute("data-inert")&&(qo=document.body.style.pointerEvents,queueMicrotask(()=>{n.body.style.pointerEvents="none",n.body.setAttribute("data-inert","")})),e){const i=lh(e,a=>{r.push(Qa(a,{pointerEvents:"auto"}))});r.push(i)}return()=>{Re.hasPointerBlockingLayer()||(queueMicrotask(()=>{n.body.style.pointerEvents=qo,n.body.removeAttribute("data-inert"),n.body.style.length===0&&n.body.removeAttribute("style")}),r.forEach(i=>i()))}}function bp(t,e){const{warnOnMissingNode:n=!0}=e;if(n&&!t){rs("[@zag-js/dismissable] node is `null` or `undefined`");return}if(!t)return;const{onDismiss:r,pointerBlocking:i,exclude:a,debug:s}=e,o={dismiss:r,node:t,pointerBlocking:i};Re.add(o),Go();function c(l){var d,b;const p=we(l.detail.originalEvent);Re.isBelowPointerBlockingLayer(t)||Re.isInBranch(p)||((d=e.onPointerDownOutside)==null||d.call(e,l),(b=e.onInteractOutside)==null||b.call(e,l),!l.defaultPrevented&&(s&&console.log("onPointerDownOutside:",l.detail.originalEvent),r==null||r()))}function u(l){var d,b;const p=we(l.detail.originalEvent);Re.isInBranch(p)||((d=e.onFocusOutside)==null||d.call(e,l),(b=e.onInteractOutside)==null||b.call(e,l),!l.defaultPrevented&&(s&&console.log("onFocusOutside:",l.detail.originalEvent),r==null||r()))}function v(l){var p;Re.isTopMost(t)&&((p=e.onEscapeKeyDown)==null||p.call(e,l),!l.defaultPrevented&&r&&(l.preventDefault(),r()))}function m(l){var y;if(!t)return!1;const p=typeof a=="function"?a():a,d=Array.isArray(p)?p:[p],b=(y=e.persistentElements)==null?void 0:y.map(w=>w()).filter(re);return b&&d.push(...b),d.some(w=>Dr(w,l))||Re.isInNestedLayer(t,l)}const h=[i?mp(t,e.persistentElements):void 0,pp(t,v),vp(t,{exclude:m,onFocusOutside:u,onPointerDownOutside:c,defer:e.defer})];return()=>{Re.remove(t),Go(),gp(t),h.forEach(l=>l==null?void 0:l())}}function yp(t,e){const{defer:n}=e,r=n?Ee:a=>a(),i=[];return i.push(r(()=>{const a=Nn(t)?t():t;i.push(bp(a,e))})),()=>{i.forEach(a=>a==null?void 0:a())}}const _p=["top","right","bottom","left"],Cn=Math.min,he=Math.max,Ai=Math.round,Qr=Math.floor,$e=t=>({x:t,y:t}),wp={left:"right",right:"left",bottom:"top",top:"bottom"},xp={start:"end",end:"start"};function us(t,e,n){return he(t,Cn(e,n))}function dn(t,e){return typeof t=="function"?t(e):t}function fn(t){return t.split("-")[0]}function cr(t){return t.split("-")[1]}function zs(t){return t==="x"?"y":"x"}function Bs(t){return t==="y"?"height":"width"}function Ue(t){return["top","bottom"].includes(fn(t))?"y":"x"}function Ms(t){return zs(Ue(t))}function kp(t,e,n){n===void 0&&(n=!1);const r=cr(t),i=Ms(t),a=Bs(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(s=Oi(s)),[s,Oi(s)]}function Ep(t){const e=Oi(t);return[ds(t),e,ds(e)]}function ds(t){return t.replace(/start|end/g,e=>xp[e])}function Cp(t,e,n){const r=["left","right"],i=["right","left"],a=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?a:s;default:return[]}}function Sp(t,e,n,r){const i=cr(t);let a=Cp(fn(t),n==="start",r);return i&&(a=a.map(s=>s+"-"+i),e&&(a=a.concat(a.map(ds)))),a}function Oi(t){return t.replace(/left|right|bottom|top/g,e=>wp[e])}function Tp(t){return{top:0,right:0,bottom:0,left:0,...t}}function Ac(t){return typeof t!="number"?Tp(t):{top:t,right:t,bottom:t,left:t}}function Ri(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function Ko(t,e,n){let{reference:r,floating:i}=t;const a=Ue(e),s=Ms(e),o=Bs(s),c=fn(e),u=a==="y",v=r.x+r.width/2-i.width/2,m=r.y+r.height/2-i.height/2,h=r[o]/2-i[o]/2;let l;switch(c){case"top":l={x:v,y:r.y-i.height};break;case"bottom":l={x:v,y:r.y+r.height};break;case"right":l={x:r.x+r.width,y:m};break;case"left":l={x:r.x-i.width,y:m};break;default:l={x:r.x,y:r.y}}switch(cr(e)){case"start":l[s]-=h*(n&&u?-1:1);break;case"end":l[s]+=h*(n&&u?-1:1);break}return l}const Ip=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:s}=n,o=a.filter(Boolean),c=await(s.isRTL==null?void 0:s.isRTL(e));let u=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:v,y:m}=Ko(u,r,c),h=r,l={},p=0;for(let d=0;d<o.length;d++){const{name:b,fn:y}=o[d],{x:w,y:k,data:T,reset:x}=await y({x:v,y:m,initialPlacement:r,placement:h,strategy:i,middlewareData:l,rects:u,platform:s,elements:{reference:t,floating:e}});v=w??v,m=k??m,l={...l,[b]:{...l[b],...T}},x&&p<=50&&(p++,typeof x=="object"&&(x.placement&&(h=x.placement),x.rects&&(u=x.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):x.rects),{x:v,y:m}=Ko(u,h,c)),d=-1)}return{x:v,y:m,placement:h,strategy:i,middlewareData:l}};async function Nr(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:a,rects:s,elements:o,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:v="viewport",elementContext:m="floating",altBoundary:h=!1,padding:l=0}=dn(e,t),p=Ac(l),b=o[h?m==="floating"?"reference":"floating":m],y=Ri(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(b)))==null||n?b:b.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(o.floating)),boundary:u,rootBoundary:v,strategy:c})),w=m==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,k=await(a.getOffsetParent==null?void 0:a.getOffsetParent(o.floating)),T=await(a.isElement==null?void 0:a.isElement(k))?await(a.getScale==null?void 0:a.getScale(k))||{x:1,y:1}:{x:1,y:1},x=Ri(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:w,offsetParent:k,strategy:c}):w);return{top:(y.top-x.top+p.top)/T.y,bottom:(x.bottom-y.bottom+p.bottom)/T.y,left:(y.left-x.left+p.left)/T.x,right:(x.right-y.right+p.right)/T.x}}const Ap=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:a,platform:s,elements:o,middlewareData:c}=e,{element:u,padding:v=0}=dn(t,e)||{};if(u==null)return{};const m=Ac(v),h={x:n,y:r},l=Ms(i),p=Bs(l),d=await s.getDimensions(u),b=l==="y",y=b?"top":"left",w=b?"bottom":"right",k=b?"clientHeight":"clientWidth",T=a.reference[p]+a.reference[l]-h[l]-a.floating[p],x=h[l]-a.reference[l],O=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u));let A=O?O[k]:0;(!A||!await(s.isElement==null?void 0:s.isElement(O)))&&(A=o.floating[k]||a.floating[p]);const P=T/2-x/2,I=A/2-d[p]/2-1,M=Cn(m[y],I),z=Cn(m[w],I),E=M,R=A-d[p]-z,f=A/2-d[p]/2+P,L=us(E,f,R),j=!c.arrow&&cr(i)!=null&&f!==L&&a.reference[p]/2-(f<E?M:z)-d[p]/2<0,V=j?f<E?f-E:f-R:0;return{[l]:h[l]+V,data:{[l]:L,centerOffset:f-L-V,...j&&{alignmentOffset:V}},reset:j}}}),Op=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:a,rects:s,initialPlacement:o,platform:c,elements:u}=e,{mainAxis:v=!0,crossAxis:m=!0,fallbackPlacements:h,fallbackStrategy:l="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:d=!0,...b}=dn(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const y=fn(i),w=Ue(o),k=fn(o)===o,T=await(c.isRTL==null?void 0:c.isRTL(u.floating)),x=h||(k||!d?[Oi(o)]:Ep(o)),O=p!=="none";!h&&O&&x.push(...Sp(o,d,p,T));const A=[o,...x],P=await Nr(e,b),I=[];let M=((r=a.flip)==null?void 0:r.overflows)||[];if(v&&I.push(P[y]),m){const f=kp(i,s,T);I.push(P[f[0]],P[f[1]])}if(M=[...M,{placement:i,overflows:I}],!I.every(f=>f<=0)){var z,E;const f=(((z=a.flip)==null?void 0:z.index)||0)+1,L=A[f];if(L&&(!(m==="alignment"?w!==Ue(L):!1)||M.every(Z=>Z.overflows[0]>0&&Ue(Z.placement)===w)))return{data:{index:f,overflows:M},reset:{placement:L}};let j=(E=M.filter(V=>V.overflows[0]<=0).sort((V,Z)=>V.overflows[1]-Z.overflows[1])[0])==null?void 0:E.placement;if(!j)switch(l){case"bestFit":{var R;const V=(R=M.filter(Z=>{if(O){const U=Ue(Z.placement);return U===w||U==="y"}return!0}).map(Z=>[Z.placement,Z.overflows.filter(U=>U>0).reduce((U,tt)=>U+tt,0)]).sort((Z,U)=>Z[1]-U[1])[0])==null?void 0:R[0];V&&(j=V);break}case"initialPlacement":j=o;break}if(i!==j)return{reset:{placement:j}}}return{}}}};function Zo(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Xo(t){return _p.some(e=>t[e]>=0)}const Rp=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=dn(t,e);switch(r){case"referenceHidden":{const a=await Nr(e,{...i,elementContext:"reference"}),s=Zo(a,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:Xo(s)}}}case"escaped":{const a=await Nr(e,{...i,altBoundary:!0}),s=Zo(a,n.floating);return{data:{escapedOffsets:s,escaped:Xo(s)}}}default:return{}}}}};async function Pp(t,e){const{placement:n,platform:r,elements:i}=t,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=fn(n),o=cr(n),c=Ue(n)==="y",u=["left","top"].includes(s)?-1:1,v=a&&c?-1:1,m=dn(e,t);let{mainAxis:h,crossAxis:l,alignmentAxis:p}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return o&&typeof p=="number"&&(l=o==="end"?p*-1:p),c?{x:l*v,y:h*u}:{x:h*u,y:l*v}}const Dp=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:a,placement:s,middlewareData:o}=e,c=await Pp(e,t);return s===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:a+c.y,data:{...c,placement:s}}}}},Lp=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:a=!0,crossAxis:s=!1,limiter:o={fn:b=>{let{x:y,y:w}=b;return{x:y,y:w}}},...c}=dn(t,e),u={x:n,y:r},v=await Nr(e,c),m=Ue(fn(i)),h=zs(m);let l=u[h],p=u[m];if(a){const b=h==="y"?"top":"left",y=h==="y"?"bottom":"right",w=l+v[b],k=l-v[y];l=us(w,l,k)}if(s){const b=m==="y"?"top":"left",y=m==="y"?"bottom":"right",w=p+v[b],k=p-v[y];p=us(w,p,k)}const d=o.fn({...e,[h]:l,[m]:p});return{...d,data:{x:d.x-n,y:d.y-r,enabled:{[h]:a,[m]:s}}}}}},Np=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:a,middlewareData:s}=e,{offset:o=0,mainAxis:c=!0,crossAxis:u=!0}=dn(t,e),v={x:n,y:r},m=Ue(i),h=zs(m);let l=v[h],p=v[m];const d=dn(o,e),b=typeof d=="number"?{mainAxis:d,crossAxis:0}:{mainAxis:0,crossAxis:0,...d};if(c){const k=h==="y"?"height":"width",T=a.reference[h]-a.floating[k]+b.mainAxis,x=a.reference[h]+a.reference[k]-b.mainAxis;l<T?l=T:l>x&&(l=x)}if(u){var y,w;const k=h==="y"?"width":"height",T=["top","left"].includes(fn(i)),x=a.reference[m]-a.floating[k]+(T&&((y=s.offset)==null?void 0:y[m])||0)+(T?0:b.crossAxis),O=a.reference[m]+a.reference[k]+(T?0:((w=s.offset)==null?void 0:w[m])||0)-(T?b.crossAxis:0);p<x?p=x:p>O&&(p=O)}return{[h]:l,[m]:p}}}},Fp=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:a,platform:s,elements:o}=e,{apply:c=()=>{},...u}=dn(t,e),v=await Nr(e,u),m=fn(i),h=cr(i),l=Ue(i)==="y",{width:p,height:d}=a.floating;let b,y;m==="top"||m==="bottom"?(b=m,y=h===(await(s.isRTL==null?void 0:s.isRTL(o.floating))?"start":"end")?"left":"right"):(y=m,b=h==="end"?"top":"bottom");const w=d-v.top-v.bottom,k=p-v.left-v.right,T=Cn(d-v[b],w),x=Cn(p-v[y],k),O=!e.middlewareData.shift;let A=T,P=x;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(P=k),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(A=w),O&&!h){const M=he(v.left,0),z=he(v.right,0),E=he(v.top,0),R=he(v.bottom,0);l?P=p-2*(M!==0||z!==0?M+z:he(v.left,v.right)):A=d-2*(E!==0||R!==0?E+R:he(v.top,v.bottom))}await c({...e,availableWidth:P,availableHeight:A});const I=await s.getDimensions(o.floating);return p!==I.width||d!==I.height?{reset:{rects:!0}}:{}}}};function Qi(){return typeof window<"u"}function ur(t){return Oc(t)?(t.nodeName||"").toLowerCase():"#document"}function ge(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ke(t){var e;return(e=(Oc(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Oc(t){return Qi()?t instanceof Node||t instanceof ge(t).Node:!1}function De(t){return Qi()?t instanceof Element||t instanceof ge(t).Element:!1}function Ge(t){return Qi()?t instanceof HTMLElement||t instanceof ge(t).HTMLElement:!1}function Yo(t){return!Qi()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ge(t).ShadowRoot}function $r(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=Le(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function zp(t){return["table","td","th"].includes(ur(t))}function ta(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Vs(t){const e=Hs(),n=De(t)?Le(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Bp(t){let e=Sn(t);for(;Ge(e)&&!or(e);){if(Vs(e))return e;if(ta(e))return null;e=Sn(e)}return null}function Hs(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function or(t){return["html","body","#document"].includes(ur(t))}function Le(t){return ge(t).getComputedStyle(t)}function ea(t){return De(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Sn(t){if(ur(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Yo(t)&&t.host||Ke(t);return Yo(e)?e.host:e}function Rc(t){const e=Sn(t);return or(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ge(e)&&$r(e)?e:Rc(e)}function Fr(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Rc(t),a=i===((r=t.ownerDocument)==null?void 0:r.body),s=ge(i);if(a){const o=fs(s);return e.concat(s,s.visualViewport||[],$r(i)?i:[],o&&n?Fr(o):[])}return e.concat(i,Fr(i,[],n))}function fs(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Pc(t){const e=Le(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Ge(t),a=i?t.offsetWidth:n,s=i?t.offsetHeight:r,o=Ai(n)!==a||Ai(r)!==s;return o&&(n=a,r=s),{width:n,height:r,$:o}}function Ws(t){return De(t)?t:t.contextElement}function rr(t){const e=Ws(t);if(!Ge(e))return $e(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:a}=Pc(e);let s=(a?Ai(n.width):n.width)/r,o=(a?Ai(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!o||!Number.isFinite(o))&&(o=1),{x:s,y:o}}const Mp=$e(0);function Dc(t){const e=ge(t);return!Hs()||!e.visualViewport?Mp:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Vp(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==ge(t)?!1:e}function Hn(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),a=Ws(t);let s=$e(1);e&&(r?De(r)&&(s=rr(r)):s=rr(t));const o=Vp(a,n,r)?Dc(a):$e(0);let c=(i.left+o.x)/s.x,u=(i.top+o.y)/s.y,v=i.width/s.x,m=i.height/s.y;if(a){const h=ge(a),l=r&&De(r)?ge(r):r;let p=h,d=fs(p);for(;d&&r&&l!==p;){const b=rr(d),y=d.getBoundingClientRect(),w=Le(d),k=y.left+(d.clientLeft+parseFloat(w.paddingLeft))*b.x,T=y.top+(d.clientTop+parseFloat(w.paddingTop))*b.y;c*=b.x,u*=b.y,v*=b.x,m*=b.y,c+=k,u+=T,p=ge(d),d=fs(p)}}return Ri({width:v,height:m,x:c,y:u})}function Us(t,e){const n=ea(t).scrollLeft;return e?e.left+n:Hn(Ke(t)).left+n}function Lc(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:Us(t,r)),a=r.top+e.scrollTop;return{x:i,y:a}}function Hp(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const a=i==="fixed",s=Ke(r),o=e?ta(e.floating):!1;if(r===s||o&&a)return n;let c={scrollLeft:0,scrollTop:0},u=$e(1);const v=$e(0),m=Ge(r);if((m||!m&&!a)&&((ur(r)!=="body"||$r(s))&&(c=ea(r)),Ge(r))){const l=Hn(r);u=rr(r),v.x=l.x+r.clientLeft,v.y=l.y+r.clientTop}const h=s&&!m&&!a?Lc(s,c,!0):$e(0);return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-c.scrollLeft*u.x+v.x+h.x,y:n.y*u.y-c.scrollTop*u.y+v.y+h.y}}function Wp(t){return Array.from(t.getClientRects())}function Up(t){const e=Ke(t),n=ea(t),r=t.ownerDocument.body,i=he(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=he(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+Us(t);const o=-n.scrollTop;return Le(r).direction==="rtl"&&(s+=he(e.clientWidth,r.clientWidth)-i),{width:i,height:a,x:s,y:o}}function jp(t,e){const n=ge(t),r=Ke(t),i=n.visualViewport;let a=r.clientWidth,s=r.clientHeight,o=0,c=0;if(i){a=i.width,s=i.height;const u=Hs();(!u||u&&e==="fixed")&&(o=i.offsetLeft,c=i.offsetTop)}return{width:a,height:s,x:o,y:c}}function $p(t,e){const n=Hn(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,a=Ge(t)?rr(t):$e(1),s=t.clientWidth*a.x,o=t.clientHeight*a.y,c=i*a.x,u=r*a.y;return{width:s,height:o,x:c,y:u}}function Jo(t,e,n){let r;if(e==="viewport")r=jp(t,n);else if(e==="document")r=Up(Ke(t));else if(De(e))r=$p(e,n);else{const i=Dc(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Ri(r)}function Nc(t,e){const n=Sn(t);return n===e||!De(n)||or(n)?!1:Le(n).position==="fixed"||Nc(n,e)}function qp(t,e){const n=e.get(t);if(n)return n;let r=Fr(t,[],!1).filter(o=>De(o)&&ur(o)!=="body"),i=null;const a=Le(t).position==="fixed";let s=a?Sn(t):t;for(;De(s)&&!or(s);){const o=Le(s),c=Vs(s);!c&&o.position==="fixed"&&(i=null),(a?!c&&!i:!c&&o.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||$r(s)&&!c&&Nc(t,s))?r=r.filter(v=>v!==s):i=o,s=Sn(s)}return e.set(t,r),r}function Gp(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const s=[...n==="clippingAncestors"?ta(e)?[]:qp(e,this._c):[].concat(n),r],o=s[0],c=s.reduce((u,v)=>{const m=Jo(e,v,i);return u.top=he(m.top,u.top),u.right=Cn(m.right,u.right),u.bottom=Cn(m.bottom,u.bottom),u.left=he(m.left,u.left),u},Jo(e,o,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Kp(t){const{width:e,height:n}=Pc(t);return{width:e,height:n}}function Zp(t,e,n){const r=Ge(e),i=Ke(e),a=n==="fixed",s=Hn(t,!0,a,e);let o={scrollLeft:0,scrollTop:0};const c=$e(0);function u(){c.x=Us(i)}if(r||!r&&!a)if((ur(e)!=="body"||$r(i))&&(o=ea(e)),r){const l=Hn(e,!0,a,e);c.x=l.x+e.clientLeft,c.y=l.y+e.clientTop}else i&&u();a&&!r&&i&&u();const v=i&&!r&&!a?Lc(i,o):$e(0),m=s.left+o.scrollLeft-c.x-v.x,h=s.top+o.scrollTop-c.y-v.y;return{x:m,y:h,width:s.width,height:s.height}}function ka(t){return Le(t).position==="static"}function Qo(t,e){if(!Ge(t)||Le(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Ke(t)===n&&(n=n.ownerDocument.body),n}function Fc(t,e){const n=ge(t);if(ta(t))return n;if(!Ge(t)){let i=Sn(t);for(;i&&!or(i);){if(De(i)&&!ka(i))return i;i=Sn(i)}return n}let r=Qo(t,e);for(;r&&zp(r)&&ka(r);)r=Qo(r,e);return r&&or(r)&&ka(r)&&!Vs(r)?n:r||Bp(t)||n}const Xp=async function(t){const e=this.getOffsetParent||Fc,n=this.getDimensions,r=await n(t.floating);return{reference:Zp(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Yp(t){return Le(t).direction==="rtl"}const Jp={convertOffsetParentRelativeRectToViewportRelativeRect:Hp,getDocumentElement:Ke,getClippingRect:Gp,getOffsetParent:Fc,getElementRects:Xp,getClientRects:Wp,getDimensions:Kp,getScale:rr,isElement:De,isRTL:Yp};function zc(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Qp(t,e){let n=null,r;const i=Ke(t);function a(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function s(o,c){o===void 0&&(o=!1),c===void 0&&(c=1),a();const u=t.getBoundingClientRect(),{left:v,top:m,width:h,height:l}=u;if(o||e(),!h||!l)return;const p=Qr(m),d=Qr(i.clientWidth-(v+h)),b=Qr(i.clientHeight-(m+l)),y=Qr(v),k={rootMargin:-p+"px "+-d+"px "+-b+"px "+-y+"px",threshold:he(0,Cn(1,c))||1};let T=!0;function x(O){const A=O[0].intersectionRatio;if(A!==c){if(!T)return s();A?s(!1,A):r=setTimeout(()=>{s(!1,1e-7)},1e3)}A===1&&!zc(u,t.getBoundingClientRect())&&s(),T=!1}try{n=new IntersectionObserver(x,{...k,root:i.ownerDocument})}catch{n=new IntersectionObserver(x,k)}n.observe(t)}return s(!0),a}function tg(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,u=Ws(t),v=i||a?[...u?Fr(u):[],...Fr(e)]:[];v.forEach(y=>{i&&y.addEventListener("scroll",n,{passive:!0}),a&&y.addEventListener("resize",n)});const m=u&&o?Qp(u,n):null;let h=-1,l=null;s&&(l=new ResizeObserver(y=>{let[w]=y;w&&w.target===u&&l&&(l.unobserve(e),cancelAnimationFrame(h),h=requestAnimationFrame(()=>{var k;(k=l)==null||k.observe(e)})),n()}),u&&!c&&l.observe(u),l.observe(e));let p,d=c?Hn(t):null;c&&b();function b(){const y=Hn(t);d&&!zc(d,y)&&n(),d=y,p=requestAnimationFrame(b)}return n(),()=>{var y;v.forEach(w=>{i&&w.removeEventListener("scroll",n),a&&w.removeEventListener("resize",n)}),m==null||m(),(y=l)==null||y.disconnect(),l=null,c&&cancelAnimationFrame(p)}}const eg=Dp,ng=Lp,rg=Op,ig=Fp,ag=Rp,sg=Ap,og=Np,lg=(t,e,n)=>{const r=new Map,i={platform:Jp,...n},a={...i.platform,_c:r};return Ip(t,e,{...i,platform:a})};function tl(t=0,e=0,n=0,r=0){if(typeof DOMRect=="function")return new DOMRect(t,e,n,r);const i={x:t,y:e,width:n,height:r,top:e,right:t+n,bottom:e+r,left:t};return{...i,toJSON:()=>i}}function cg(t){if(!t)return tl();const{x:e,y:n,width:r,height:i}=t;return tl(e,n,r,i)}function ug(t,e){return{contextElement:re(t)?t:void 0,getBoundingClientRect:()=>{const n=t,r=e==null?void 0:e(n);return r||!n?cg(r):n.getBoundingClientRect()}}}var vr=t=>({variable:t,reference:`var(${t})`}),en={arrowSize:vr("--arrow-size"),arrowSizeHalf:vr("--arrow-size-half"),arrowBg:vr("--arrow-background"),transformOrigin:vr("--transform-origin"),arrowOffset:vr("--arrow-offset")},dg=t=>({top:"bottom center","top-start":t?`${t.x}px bottom`:"left bottom","top-end":t?`${t.x}px bottom`:"right bottom",bottom:"top center","bottom-start":t?`${t.x}px top`:"top left","bottom-end":t?`${t.x}px top`:"top right",left:"right center","left-start":t?`right ${t.y}px`:"right top","left-end":t?`right ${t.y}px`:"right bottom",right:"left center","right-start":t?`left ${t.y}px`:"left top","right-end":t?`left ${t.y}px`:"left bottom"}),fg={name:"transformOrigin",fn({placement:t,elements:e,middlewareData:n}){const{arrow:r}=n,i=dg(r)[t],{floating:a}=e;return a.style.setProperty(en.transformOrigin.variable,i),{data:{transformOrigin:i}}}},hg={name:"rects",fn({rects:t}){return{data:t}}},vg=t=>{if(t)return{name:"shiftArrow",fn({placement:e,middlewareData:n}){if(!n.arrow)return{};const{x:r,y:i}=n.arrow,a=e.split("-")[0];return Object.assign(t.style,{left:r!=null?`${r}px`:"",top:i!=null?`${i}px`:"",[a]:`calc(100% + ${en.arrowOffset.reference})`}),{}}}};function pg(t){const[e,n]=t.split("-");return{side:e,align:n,hasAlign:n!=null}}var gg={strategy:"absolute",placement:"bottom",listeners:!0,gutter:8,flip:!0,slide:!0,overlap:!1,sameWidth:!1,fitViewport:!1,overflowPadding:8,arrowPadding:4};function el(t,e){const n=t.devicePixelRatio||1;return Math.round(e*n)/n}function Bc(t){return ph(t.boundary)}function mg(t,e){if(t)return sg({element:t,padding:e.arrowPadding})}function bg(t,e){if(!hh(e.offset??e.gutter))return eg(({placement:n})=>{var u,v;const r=((t==null?void 0:t.clientHeight)||0)/2,i=((u=e.offset)==null?void 0:u.mainAxis)??e.gutter,a=typeof i=="number"?i+r:i??r,{hasAlign:s}=pg(n),o=s?void 0:e.shift,c=((v=e.offset)==null?void 0:v.crossAxis)??o;return Fs({crossAxis:c,mainAxis:a,alignmentAxis:e.shift})})}function yg(t){if(t.flip)return rg({boundary:Bc(t),padding:t.overflowPadding,fallbackPlacements:t.flip===!0?void 0:t.flip})}function _g(t){if(!(!t.slide&&!t.overlap))return ng({boundary:Bc(t),mainAxis:t.slide,crossAxis:t.overlap,padding:t.overflowPadding,limiter:og()})}function wg(t){return ig({padding:t.overflowPadding,apply({elements:e,rects:n,availableHeight:r,availableWidth:i}){const a=e.floating,s=Math.round(n.reference.width);i=Math.floor(i),r=Math.floor(r),a.style.setProperty("--reference-width",`${s}px`),a.style.setProperty("--available-width",`${i}px`),a.style.setProperty("--available-height",`${r}px`)}})}function xg(t){var e;if(t.hideWhenDetached)return ag({strategy:"referenceHidden",boundary:((e=t.boundary)==null?void 0:e.call(t))??"clippingAncestors"})}function kg(t){return t?t===!0?{ancestorResize:!0,ancestorScroll:!0,elementResize:!0,layoutShift:!0}:t:{}}function Eg(t,e,n={}){const r=ug(t,n.getAnchorRect);if(!e||!r)return;const i=Object.assign({},gg,n),a=e.querySelector("[data-part=arrow]"),s=[bg(a,i),yg(i),_g(i),mg(a,i),vg(a),fg,wg(i),xg(i),hg],{placement:o,strategy:c,onComplete:u,onPositioned:v}=i,m=async()=>{var T;if(!r||!e)return;const d=await lg(r,e,{placement:o,middleware:s,strategy:c});u==null||u(d),v==null||v({placed:!0});const b=ae(e),y=el(b,d.x),w=el(b,d.y);e.style.setProperty("--x",`${y}px`),e.style.setProperty("--y",`${w}px`),i.hideWhenDetached&&(((T=d.middlewareData.hide)==null?void 0:T.referenceHidden)?(e.style.setProperty("visibility","hidden"),e.style.setProperty("pointer-events","none")):(e.style.removeProperty("visibility"),e.style.removeProperty("pointer-events")));const k=e.firstElementChild;if(k){const x=bf(k);e.style.setProperty("--z-index",x.zIndex)}},h=async()=>{n.updatePosition?(await n.updatePosition({updatePosition:m}),v==null||v({placed:!0})):await m()},l=kg(i.listeners),p=i.listeners?tg(r,e,h,l):mh;return h(),()=>{p==null||p(),v==null||v({placed:!1})}}function nl(t,e,n={}){const{defer:r,...i}=n,a=r?Ee:o=>o(),s=[];return s.push(a(()=>{const o=typeof t=="function"?t():t,c=typeof e=="function"?e():e;s.push(Eg(o,c,i))})),()=>{s.forEach(o=>o==null?void 0:o())}}var Cg={bottom:"rotate(45deg)",left:"rotate(135deg)",top:"rotate(225deg)",right:"rotate(315deg)"};function Sg(t={}){const{placement:e,sameWidth:n,fitViewport:r,strategy:i="absolute"}=t;return{arrow:{position:"absolute",width:en.arrowSize.reference,height:en.arrowSize.reference,[en.arrowSizeHalf.variable]:`calc(${en.arrowSize.reference} / 2)`,[en.arrowOffset.variable]:`calc(${en.arrowSizeHalf.reference} * -1)`},arrowTip:{transform:e?Cg[e.split("-")[0]]:void 0,background:en.arrowBg.reference,top:"0",left:"0",width:"100%",height:"100%",position:"absolute",zIndex:"inherit"},floating:{position:i,isolation:"isolate",minWidth:n?void 0:"max-content",width:n?"var(--reference-width)":void 0,maxWidth:r?"var(--available-width)":void 0,maxHeight:r?"var(--available-height)":void 0,pointerEvents:e?void 0:"none",top:"0px",left:"0px",transform:e?"translate3d(var(--x), var(--y), 0)":"translate3d(0, -100vh, 0)",zIndex:"var(--z-index)"}}}var Zn=new WeakMap,ti=new WeakMap,ei={},Ea=0,Mc=t=>t&&(t.host||Mc(t.parentNode)),Tg=(t,e)=>e.map(n=>{if(t.contains(n))return n;const r=Mc(n);return r&&t.contains(r)?r:(console.error("[zag-js > ariaHidden] target",n,"in not contained inside",t,". Doing nothing"),null)}).filter(n=>!!n),Ig=t=>t.localName==="next-route-announcer"||t.localName==="script"||t.hasAttribute("aria-live")?!0:t.matches("[data-live-announcer]"),Ag=(t,e)=>{const{parentNode:n,markerName:r,controlAttribute:i}=e,a=Tg(n,Array.isArray(t)?t:[t]);ei[r]||(ei[r]=new WeakMap);const s=ei[r],o=[],c=new Set,u=new Set(a),v=h=>{!h||c.has(h)||(c.add(h),v(h.parentNode))};a.forEach(v);const m=h=>{!h||u.has(h)||Array.prototype.forEach.call(h.children,l=>{if(c.has(l))m(l);else try{if(Ig(l))return;const d=l.getAttribute(i)==="true",b=(Zn.get(l)||0)+1,y=(s.get(l)||0)+1;Zn.set(l,b),s.set(l,y),o.push(l),b===1&&d&&ti.set(l,!0),y===1&&l.setAttribute(r,""),d||l.setAttribute(i,"true")}catch(p){console.error("[zag-js > ariaHidden] cannot operate on ",l,p)}})};return m(n),c.clear(),Ea++,()=>{o.forEach(h=>{const l=Zn.get(h)-1,p=s.get(h)-1;Zn.set(h,l),s.set(h,p),l||(ti.has(h)||h.removeAttribute(i),ti.delete(h)),p||h.removeAttribute(r)}),Ea--,Ea||(Zn=new WeakMap,Zn=new WeakMap,ti=new WeakMap,ei={})}},Og=t=>(Array.isArray(t)?t[0]:t).ownerDocument.body,Rg=(t,e=Og(t),n="data-aria-hidden")=>{if(e)return Ag(t,{parentNode:e,markerName:n,controlAttribute:"aria-hidden"})},Pg=t=>{const e=requestAnimationFrame(()=>t());return()=>cancelAnimationFrame(e)};function Dg(t,e={}){const{defer:n=!0}=e,r=n?Pg:a=>a(),i=[];return i.push(r(()=>{const s=(typeof t=="function"?t():t).filter(Boolean);s.length!==0&&i.push(Rg(s))})),()=>{i.forEach(a=>a==null?void 0:a())}}var Lg=Object.defineProperty,Ng=(t,e,n)=>e in t?Lg(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Gt=(t,e,n)=>Ng(t,typeof e!="symbol"?e+"":e,n),rl={activateTrap(t,e){if(t.length>0){const r=t[t.length-1];r!==e&&r.pause()}const n=t.indexOf(e);n===-1||t.splice(n,1),t.push(e)},deactivateTrap(t,e){const n=t.indexOf(e);n!==-1&&t.splice(n,1),t.length>0&&t[t.length-1].unpause()}},Fg=[],zg=class{constructor(t,e){Gt(this,"trapStack"),Gt(this,"config"),Gt(this,"doc"),Gt(this,"state",{containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0}),Gt(this,"listenerCleanups",[]),Gt(this,"handleFocus",r=>{const i=we(r),a=this.findContainerIndex(i,r)>=0;if(a||Is(i))a&&(this.state.mostRecentlyFocusedNode=i);else{r.stopImmediatePropagation();let s,o=!0;if(this.state.mostRecentlyFocusedNode)if(hr(this.state.mostRecentlyFocusedNode)>0){const c=this.findContainerIndex(this.state.mostRecentlyFocusedNode),{tabbableNodes:u}=this.state.containerGroups[c];if(u.length>0){const v=u.findIndex(m=>m===this.state.mostRecentlyFocusedNode);v>=0&&(this.config.isKeyForward(this.state.recentNavEvent)?v+1<u.length&&(s=u[v+1],o=!1):v-1>=0&&(s=u[v-1],o=!1))}}else this.state.containerGroups.some(c=>c.tabbableNodes.some(u=>hr(u)>0))||(o=!1);else o=!1;o&&(s=this.findNextNavNode({target:this.state.mostRecentlyFocusedNode,isBackward:this.config.isKeyBackward(this.state.recentNavEvent)})),s?this.tryFocus(s):this.tryFocus(this.state.mostRecentlyFocusedNode||this.getInitialFocusNode())}this.state.recentNavEvent=void 0}),Gt(this,"handlePointerDown",r=>{const i=we(r);if(!(this.findContainerIndex(i,r)>=0)){if(gr(this.config.clickOutsideDeactivates,r)){this.deactivate({returnFocus:this.config.returnFocusOnDeactivate});return}gr(this.config.allowOutsideClick,r)||r.preventDefault()}}),Gt(this,"handleClick",r=>{const i=we(r);this.findContainerIndex(i,r)>=0||gr(this.config.clickOutsideDeactivates,r)||gr(this.config.allowOutsideClick,r)||(r.preventDefault(),r.stopImmediatePropagation())}),Gt(this,"handleTabKey",r=>{if(this.config.isKeyForward(r)||this.config.isKeyBackward(r)){this.state.recentNavEvent=r;const i=this.config.isKeyBackward(r),a=this.findNextNavNode({event:r,isBackward:i});if(!a)return;pr(r)&&r.preventDefault(),this.tryFocus(a)}}),Gt(this,"handleEscapeKey",r=>{Bg(r)&&gr(this.config.escapeDeactivates,r)!==!1&&(r.preventDefault(),this.deactivate())}),Gt(this,"_mutationObserver"),Gt(this,"setupMutationObserver",()=>{const r=this.doc.defaultView||window;this._mutationObserver=new r.MutationObserver(i=>{i.some(s=>Array.from(s.removedNodes).some(c=>c===this.state.mostRecentlyFocusedNode))&&this.tryFocus(this.getInitialFocusNode())})}),Gt(this,"updateObservedNodes",()=>{var r;(r=this._mutationObserver)==null||r.disconnect(),this.state.active&&!this.state.paused&&this.state.containers.map(i=>{var a;(a=this._mutationObserver)==null||a.observe(i,{subtree:!0,childList:!0})})}),Gt(this,"getInitialFocusNode",()=>{let r=this.getNodeForOption("initialFocus",{hasFallback:!0});if(r===!1)return!1;if(r===void 0||r&&!kn(r))if(this.findContainerIndex(this.doc.activeElement)>=0)r=this.doc.activeElement;else{const i=this.state.tabbableGroups[0];r=i&&i.firstTabbableNode||this.getNodeForOption("fallbackFocus")}else r===null&&(r=this.getNodeForOption("fallbackFocus"));if(!r)throw new Error("Your focus-trap needs to have at least one focusable element");return r.isConnected||(r=this.getNodeForOption("fallbackFocus")),r}),Gt(this,"tryFocus",r=>{if(r!==!1&&r!==Xl(this.doc)){if(!r||!r.focus){this.tryFocus(this.getInitialFocusNode());return}r.focus({preventScroll:!!this.config.preventScroll}),this.state.mostRecentlyFocusedNode=r,Mg(r)&&r.select()}}),Gt(this,"deactivate",r=>{if(!this.state.active)return this;const i={onDeactivate:this.config.onDeactivate,onPostDeactivate:this.config.onPostDeactivate,checkCanReturnFocus:this.config.checkCanReturnFocus,...r};clearTimeout(this.state.delayInitialFocusTimer),this.state.delayInitialFocusTimer=void 0,this.removeListeners(),this.state.active=!1,this.state.paused=!1,this.updateObservedNodes(),rl.deactivateTrap(this.trapStack,this);const a=this.getOption(i,"onDeactivate"),s=this.getOption(i,"onPostDeactivate"),o=this.getOption(i,"checkCanReturnFocus"),c=this.getOption(i,"returnFocus","returnFocusOnDeactivate");a==null||a();const u=()=>{il(()=>{if(c){const v=this.getReturnFocusNode(this.state.nodeFocusedBeforeActivation);this.tryFocus(v)}s==null||s()})};if(c&&o){const v=this.getReturnFocusNode(this.state.nodeFocusedBeforeActivation);return o(v).then(u,u),this}return u(),this}),Gt(this,"pause",r=>{if(this.state.paused||!this.state.active)return this;const i=this.getOption(r,"onPause"),a=this.getOption(r,"onPostPause");return this.state.paused=!0,i==null||i(),this.removeListeners(),this.updateObservedNodes(),a==null||a(),this}),Gt(this,"unpause",r=>{if(!this.state.paused||!this.state.active)return this;const i=this.getOption(r,"onUnpause"),a=this.getOption(r,"onPostUnpause");return this.state.paused=!1,i==null||i(),this.updateTabbableNodes(),this.addListeners(),this.updateObservedNodes(),a==null||a(),this}),Gt(this,"updateContainerElements",r=>(this.state.containers=Array.isArray(r)?r.filter(Boolean):[r].filter(Boolean),this.state.active&&this.updateTabbableNodes(),this.updateObservedNodes(),this)),Gt(this,"getReturnFocusNode",r=>{const i=this.getNodeForOption("setReturnFocus",{params:[r]});return i||(i===!1?!1:r)}),Gt(this,"getOption",(r,i,a)=>r&&r[i]!==void 0?r[i]:this.config[a||i]),Gt(this,"getNodeForOption",(r,{hasFallback:i=!1,params:a=[]}={})=>{let s=this.config[r];if(typeof s=="function"&&(s=s(...a)),s===!0&&(s=void 0),!s){if(s===void 0||s===!1)return s;throw new Error(`\`${r}\` was specified but was not a node, or did not return a node`)}let o=s;if(typeof s=="string"){try{o=this.doc.querySelector(s)}catch(c){throw new Error(`\`${r}\` appears to be an invalid selector; error="${c.message}"`)}if(!o&&!i)throw new Error(`\`${r}\` as selector refers to no known node`)}return o}),Gt(this,"findNextNavNode",r=>{const{event:i,isBackward:a=!1}=r,s=r.target||we(i);this.updateTabbableNodes();let o=null;if(this.state.tabbableGroups.length>0){const c=this.findContainerIndex(s,i),u=c>=0?this.state.containerGroups[c]:void 0;if(c<0)a?o=this.state.tabbableGroups[this.state.tabbableGroups.length-1].lastTabbableNode:o=this.state.tabbableGroups[0].firstTabbableNode;else if(a){let v=this.state.tabbableGroups.findIndex(({firstTabbableNode:m})=>s===m);if(v<0&&((u==null?void 0:u.container)===s||kn(s)&&!_n(s)&&!(u!=null&&u.nextTabbableNode(s,!1)))&&(v=c),v>=0){const m=v===0?this.state.tabbableGroups.length-1:v-1,h=this.state.tabbableGroups[m];o=hr(s)>=0?h.lastTabbableNode:h.lastDomTabbableNode}else pr(i)||(o=u==null?void 0:u.nextTabbableNode(s,!1))}else{let v=this.state.tabbableGroups.findIndex(({lastTabbableNode:m})=>s===m);if(v<0&&((u==null?void 0:u.container)===s||kn(s)&&!_n(s)&&!(u!=null&&u.nextTabbableNode(s)))&&(v=c),v>=0){const m=v===this.state.tabbableGroups.length-1?0:v+1,h=this.state.tabbableGroups[m];o=hr(s)>=0?h.firstTabbableNode:h.firstDomTabbableNode}else pr(i)||(o=u==null?void 0:u.nextTabbableNode(s))}}else o=this.getNodeForOption("fallbackFocus");return o}),this.trapStack=e.trapStack||Fg;const n={returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward(r){return pr(r)&&!r.shiftKey},isKeyBackward(r){return pr(r)&&r.shiftKey},...e};this.doc=n.document||Ce(Array.isArray(t)?t[0]:t),this.config=n,this.updateContainerElements(t),this.setupMutationObserver()}get active(){return this.state.active}get paused(){return this.state.paused}findContainerIndex(t,e){const n=typeof(e==null?void 0:e.composedPath)=="function"?e.composedPath():void 0;return this.state.containerGroups.findIndex(({container:r,tabbableNodes:i})=>r.contains(t)||(n==null?void 0:n.includes(r))||i.find(a=>a===t))}updateTabbableNodes(){if(this.state.containerGroups=this.state.containers.map(t=>{const e=Ur(t),n=nc(t),r=e.length>0?e[0]:void 0,i=e.length>0?e[e.length-1]:void 0,a=n.find(u=>_n(u)),s=n.slice().reverse().find(u=>_n(u)),o=!!e.find(u=>hr(u)>0);function c(u,v=!0){const m=e.indexOf(u);return m<0?v?n.slice(n.indexOf(u)+1).find(h=>_n(h)):n.slice(0,n.indexOf(u)).reverse().find(h=>_n(h)):e[m+(v?1:-1)]}return{container:t,tabbableNodes:e,focusableNodes:n,posTabIndexesFound:o,firstTabbableNode:r,lastTabbableNode:i,firstDomTabbableNode:a,lastDomTabbableNode:s,nextTabbableNode:c}}),this.state.tabbableGroups=this.state.containerGroups.filter(t=>t.tabbableNodes.length>0),this.state.tabbableGroups.length<=0&&!this.getNodeForOption("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(this.state.containerGroups.find(t=>t.posTabIndexesFound)&&this.state.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")}addListeners(){if(this.state.active)return rl.activateTrap(this.trapStack,this),this.state.delayInitialFocusTimer=this.config.delayInitialFocus?il(()=>{this.tryFocus(this.getInitialFocusNode())}):this.tryFocus(this.getInitialFocusNode()),this.listenerCleanups.push(Zt(this.doc,"focusin",this.handleFocus,!0),Zt(this.doc,"mousedown",this.handlePointerDown,{capture:!0,passive:!1}),Zt(this.doc,"touchstart",this.handlePointerDown,{capture:!0,passive:!1}),Zt(this.doc,"click",this.handleClick,{capture:!0,passive:!1}),Zt(this.doc,"keydown",this.handleTabKey,{capture:!0,passive:!1}),Zt(this.doc,"keydown",this.handleEscapeKey)),this}removeListeners(){if(this.state.active)return this.listenerCleanups.forEach(t=>t()),this.listenerCleanups=[],this}activate(t){if(this.state.active)return this;const e=this.getOption(t,"onActivate"),n=this.getOption(t,"onPostActivate"),r=this.getOption(t,"checkCanFocusTrap");r||this.updateTabbableNodes(),this.state.active=!0,this.state.paused=!1,this.state.nodeFocusedBeforeActivation=this.doc.activeElement||null,e==null||e();const i=()=>{r&&this.updateTabbableNodes(),this.addListeners(),this.updateObservedNodes(),n==null||n()};return r?(r(this.state.containers.concat()).then(i,i),this):(i(),this)}},pr=t=>t.key==="Tab",gr=(t,...e)=>typeof t=="function"?t(...e):t,Bg=t=>!t.isComposing&&t.key==="Escape",il=t=>setTimeout(t,0),Mg=t=>t.localName==="input"&&"select"in t&&typeof t.select=="function";function Vg(t,e={}){let n;const r=Ee(()=>{const i=typeof t=="function"?t():t;if(i){n=new zg(i,{escapeDeactivates:!1,allowOutsideClick:!0,preventScroll:!0,returnFocusOnDeactivate:!0,delayInitialFocus:!1,fallbackFocus:i,...e,document:Ce(i)});try{n.activate()}catch{}}});return function(){n==null||n.deactivate(),r()}}var Ca="data-scroll-lock";function Hg(t){const e=t.getBoundingClientRect().left;return Math.round(e)+t.scrollLeft?"paddingLeft":"paddingRight"}function Wg(t){const e=t??document,n=e.defaultView??window,{documentElement:r,body:i}=e;if(i.hasAttribute(Ca))return;const s=n.innerWidth-r.clientWidth;i.setAttribute(Ca,"");const o=()=>ah(r,"--scrollbar-width",`${s}px`),c=Hg(r),u=()=>Qa(i,{overflow:"hidden",[c]:`${s}px`}),v=()=>{const{scrollX:h,scrollY:l,visualViewport:p}=n,d=(p==null?void 0:p.offsetLeft)??0,b=(p==null?void 0:p.offsetTop)??0,y=Qa(i,{position:"fixed",overflow:"hidden",top:`${-(l-Math.floor(b))}px`,left:`${-(h-Math.floor(d))}px`,right:"0",[c]:`${s}px`});return()=>{y==null||y(),n.scrollTo({left:h,top:l,behavior:"instant"})}},m=[o(),$i()?v():u()];return()=>{m.forEach(h=>h==null?void 0:h()),i.removeAttribute(Ca)}}var Ug=Mn("popover").parts("arrow","arrowTip","anchor","trigger","indicator","positioner","content","title","description","closeTrigger"),Me=Ug.build(),Vc=t=>{var e;return((e=t.ids)==null?void 0:e.anchor)??`popover:${t.id}:anchor`},Hc=t=>{var e;return((e=t.ids)==null?void 0:e.trigger)??`popover:${t.id}:trigger`},hs=t=>{var e;return((e=t.ids)==null?void 0:e.content)??`popover:${t.id}:content`},Wc=t=>{var e;return((e=t.ids)==null?void 0:e.positioner)??`popover:${t.id}:popper`},jg=t=>{var e;return((e=t.ids)==null?void 0:e.arrow)??`popover:${t.id}:arrow`},vs=t=>{var e;return((e=t.ids)==null?void 0:e.title)??`popover:${t.id}:title`},ps=t=>{var e;return((e=t.ids)==null?void 0:e.description)??`popover:${t.id}:desc`},$g=t=>{var e;return((e=t.ids)==null?void 0:e.closeTrigger)??`popover:${t.id}:close`},al=t=>t.getById(Vc(t)),Xn=t=>t.getById(Hc(t)),Yn=t=>t.getById(hs(t)),sl=t=>t.getById(Wc(t)),qg=t=>t.getById(vs(t)),Gg=t=>t.getById(ps(t));function Kg(t,e){const{state:n,context:r,send:i,computed:a,prop:s,scope:o}=t,c=n.matches("open"),u=r.get("currentPlacement"),v=a("currentPortalled"),m=r.get("renderedElements"),h=Sg({...s("positioning"),placement:u});return{portalled:v,open:c,setOpen(l){n.matches("open")!==l&&i({type:l?"OPEN":"CLOSE"})},reposition(l={}){i({type:"POSITIONING.SET",options:l})},getArrowProps(){return e.element({id:jg(o),...Me.arrow.attrs,dir:s("dir"),style:h.arrow})},getArrowTipProps(){return e.element({...Me.arrowTip.attrs,dir:s("dir"),style:h.arrowTip})},getAnchorProps(){return e.element({...Me.anchor.attrs,dir:s("dir"),id:Vc(o)})},getTriggerProps(){return e.button({...Me.trigger.attrs,dir:s("dir"),type:"button","data-placement":u,id:Hc(o),"aria-haspopup":"dialog","aria-expanded":c,"data-state":c?"open":"closed","aria-controls":hs(o),onPointerDown(l){Os()&&l.currentTarget.focus()},onClick(l){l.defaultPrevented||i({type:"TOGGLE"})},onBlur(l){i({type:"TRIGGER_BLUR",target:l.relatedTarget})}})},getIndicatorProps(){return e.element({...Me.indicator.attrs,dir:s("dir"),"data-state":c?"open":"closed"})},getPositionerProps(){return e.element({id:Wc(o),...Me.positioner.attrs,dir:s("dir"),style:h.floating})},getContentProps(){return e.element({...Me.content.attrs,dir:s("dir"),id:hs(o),tabIndex:-1,role:"dialog",hidden:!c,"data-state":c?"open":"closed","data-expanded":kt(c),"aria-labelledby":m.title?vs(o):void 0,"aria-describedby":m.description?ps(o):void 0,"data-placement":u})},getTitleProps(){return e.element({...Me.title.attrs,id:vs(o),dir:s("dir")})},getDescriptionProps(){return e.element({...Me.description.attrs,id:ps(o),dir:s("dir")})},getCloseTriggerProps(){return e.button({...Me.closeTrigger.attrs,dir:s("dir"),id:$g(o),type:"button","aria-label":"close",onClick(l){l.defaultPrevented||(l.stopPropagation(),i({type:"CLOSE"}))}})}}}var Zg={props({props:t}){return{closeOnInteractOutside:!0,closeOnEscape:!0,autoFocus:!0,modal:!1,portalled:!0,...t,positioning:{placement:"bottom",...t.positioning}}},initialState({prop:t}){return t("open")||t("defaultOpen")?"open":"closed"},context({bindable:t}){return{currentPlacement:t(()=>({defaultValue:void 0})),renderedElements:t(()=>({defaultValue:{title:!0,description:!0}}))}},computed:{currentPortalled:({prop:t})=>!!t("modal")||!!t("portalled")},watch({track:t,prop:e,action:n}){t([()=>e("open")],()=>{n(["toggleVisibility"])})},entry:["checkRenderedElements"],states:{closed:{on:{"CONTROLLED.OPEN":{target:"open",actions:["setInitialFocus"]},TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus"]}],OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus"]}]}},open:{effects:["trapFocus","preventScroll","hideContentBelow","trackPositioning","trackDismissableElement","proxyTabFocus"],on:{"CONTROLLED.CLOSE":{target:"closed",actions:["setFinalFocus"]},CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose","setFinalFocus"]}],TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"POSITIONING.SET":{actions:["reposition"]}}}},implementations:{guards:{isOpenControlled:({prop:t})=>t("open")!=null},effects:{trackPositioning({context:t,prop:e,scope:n}){t.set("currentPlacement",e("positioning").placement);const r=al(n)??Xn(n);return nl(r,()=>sl(n),{...e("positioning"),defer:!0,onComplete(a){t.set("currentPlacement",a.placement)}})},trackDismissableElement({send:t,prop:e,scope:n}){const r=()=>Yn(n);let i=!0;return yp(r,{pointerBlocking:e("modal"),exclude:Xn(n),defer:!0,onEscapeKeyDown(a){var s;(s=e("onEscapeKeyDown"))==null||s(a),!e("closeOnEscape")&&a.preventDefault()},onInteractOutside(a){var s;(s=e("onInteractOutside"))==null||s(a),!a.defaultPrevented&&(i=!(a.detail.focusable||a.detail.contextmenu),e("closeOnInteractOutside")||a.preventDefault())},onPointerDownOutside:e("onPointerDownOutside"),onFocusOutside:e("onFocusOutside"),persistentElements:e("persistentElements"),onDismiss(){t({type:"CLOSE",src:"interact-outside",restoreFocus:i})}})},proxyTabFocus({prop:t,scope:e}){return t("modal")||!t("portalled")?void 0:ih(()=>Yn(e),{triggerElement:Xn(e),defer:!0,onFocus(r){r.focus({preventScroll:!0})}})},hideContentBelow({prop:t,scope:e}){return t("modal")?Dg(()=>[Yn(e),Xn(e)],{defer:!0}):void 0},preventScroll({prop:t,scope:e}){if(t("modal"))return Wg(e.getDoc())},trapFocus({prop:t,scope:e}){return t("modal")?Vg(()=>Yn(e),{initialFocus:()=>So({root:Yn(e),getInitialEl:t("initialFocusEl"),enabled:t("autoFocus")})}):void 0}},actions:{reposition({event:t,prop:e,scope:n,context:r}){const i=al(n)??Xn(n);nl(i,()=>sl(n),{...e("positioning"),...t.options,defer:!0,listeners:!1,onComplete(s){r.set("currentPlacement",s.placement)}})},checkRenderedElements({context:t,scope:e}){Ee(()=>{Object.assign(t.get("renderedElements"),{title:!!qg(e),description:!!Gg(e)})})},setInitialFocus({prop:t,scope:e}){t("modal")||Ee(()=>{const n=So({root:Yn(e),getInitialEl:t("initialFocusEl"),enabled:t("autoFocus")});n==null||n.focus({preventScroll:!0})})},setFinalFocus({event:t,scope:e}){var r;const n=t.restoreFocus??((r=t.previousEvent)==null?void 0:r.restoreFocus);n!=null&&!n||Ee(()=>{const i=Xn(e);i==null||i.focus({preventScroll:!0})})},invokeOnOpen({prop:t}){var e;(e=t("onOpenChange"))==null||e({open:!0})},invokeOnClose({prop:t}){var e;(e=t("onOpenChange"))==null||e({open:!1})},toggleVisibility({event:t,send:e,prop:n}){e({type:n("open")?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:t})}}}};lr()(["autoFocus","closeOnEscape","closeOnInteractOutside","dir","getRootNode","id","ids","initialFocusEl","modal","onEscapeKeyDown","onFocusOutside","onInteractOutside","onOpenChange","onPointerDownOutside","defaultOpen","open","persistentElements","portalled","positioning"]);var Xg=ft("<button><!></button>"),Yg=ft("<div><div></div></div>"),Jg=ft("<div><!> <div><!></div></div>"),Qg=ft('<span data-testid="popover"><!> <div><!></div></span>');function na(t,e){const n=Li();bt(e,!0);const r=W(e,"arrow",3,!1),i=W(e,"zIndex",3,"auto"),a=W(e,"base",3,""),s=W(e,"classes",3,""),o=W(e,"triggerBase",3,""),c=W(e,"triggerBackground",3,""),u=W(e,"triggerClasses",3,""),v=W(e,"triggerAriaLabel",3,""),m=W(e,"positionerBase",3,""),h=W(e,"positionerClasses",3,""),l=W(e,"contentBase",3,""),p=W(e,"contentBackground",3,""),d=W(e,"contentClasses",3,""),b=W(e,"arrowBase",3,""),y=W(e,"arrowBackground",3,"!bg-surface-200 dark:!bg-surface-800"),w=W(e,"arrowClasses",3,""),k=Nt(e,["$$slots","$$events","$$legacy","arrow","zIndex","base","classes","triggerBase","triggerBackground","triggerClasses","triggerAriaLabel","positionerBase","positionerClasses","contentBase","contentBackground","contentClasses","arrowBase","arrowBackground","arrowClasses","trigger","content","onclick"]),T=Zi(Zg,()=>({id:n,...k})),x=ct(()=>Kg(T,Ki)),O=ct(()=>jh(_(x).getTriggerProps(),{onclick:e.onclick}));var A=Qg(),P=K(A);{var I=R=>{var f=Xg();$t(f,()=>({..._(O),class:`${o()??""} ${c()??""} ${u()??""}`,type:"button","aria-label":v()}));var L=K(f);At(L,()=>e.trigger),$(f),Q(R,f)};Lt(P,R=>{e.trigger&&R(I)})}var M=X(P,2);$t(M,R=>({...R,class:`${m()??""} ${h()??""}`}),[()=>_(x).getPositionerProps()]);var z=K(M);{var E=R=>{var f=Jg();$t(f,U=>({...U,style:`z-index: ${i()??""};`}),[()=>_(x).getContentProps()]);var L=K(f);{var j=U=>{var tt=Yg();$t(tt,B=>({...B}),[()=>_(x).getArrowProps()]);var N=K(tt);$t(N,B=>({...B,class:`${b()??""} ${y()??""} ${w()??""}`}),[()=>_(x).getArrowTipProps()]),$(tt),Q(U,tt)};Lt(L,U=>{r()&&U(j)})}var V=X(L,2),Z=K(V);At(Z,()=>e.content??Rt),$(V),$(f),Ot(()=>ne(V,1,`${l()??""} ${p()??""} ${d()??""}`)),Yu(3,f,()=>Zh,()=>({duration:100})),Q(R,f)};Lt(z,R=>{_(x).open&&R(E)})}$(M),qu(M,(R,f)=>_a==null?void 0:_a(R,f),()=>({disabled:!_(x).portalled})),$(A),Ot(()=>ne(A,1,`${a()??""} ${s()??""}`)),Q(t,A),yt()}function ni(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Sa={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var ol;function tm(){return ol||(ol=1,function(t,e){(function(n){t.exports=n()})(function(){return function n(r,i,a){function s(u,v){if(!i[u]){if(!r[u]){var m=typeof ni=="function"&&ni;if(!v&&m)return m(u,!0);if(o)return o(u,!0);var h=new Error("Cannot find module '"+u+"'");throw h.code="MODULE_NOT_FOUND",h}var l=i[u]={exports:{}};r[u][0].call(l.exports,function(p){var d=r[u][1][p];return s(d||p)},l,l.exports,n,r,i,a)}return i[u].exports}for(var o=typeof ni=="function"&&ni,c=0;c<a.length;c++)s(a[c]);return s}({1:[function(n,r,i){var a=n("./utils"),s=n("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(c){for(var u,v,m,h,l,p,d,b=[],y=0,w=c.length,k=w,T=a.getTypeOf(c)!=="string";y<c.length;)k=w-y,m=T?(u=c[y++],v=y<w?c[y++]:0,y<w?c[y++]:0):(u=c.charCodeAt(y++),v=y<w?c.charCodeAt(y++):0,y<w?c.charCodeAt(y++):0),h=u>>2,l=(3&u)<<4|v>>4,p=1<k?(15&v)<<2|m>>6:64,d=2<k?63&m:64,b.push(o.charAt(h)+o.charAt(l)+o.charAt(p)+o.charAt(d));return b.join("")},i.decode=function(c){var u,v,m,h,l,p,d=0,b=0,y="data:";if(c.substr(0,y.length)===y)throw new Error("Invalid base64 input, it looks like a data url.");var w,k=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===o.charAt(64)&&k--,c.charAt(c.length-2)===o.charAt(64)&&k--,k%1!=0)throw new Error("Invalid base64 input, bad content length.");for(w=s.uint8array?new Uint8Array(0|k):new Array(0|k);d<c.length;)u=o.indexOf(c.charAt(d++))<<2|(h=o.indexOf(c.charAt(d++)))>>4,v=(15&h)<<4|(l=o.indexOf(c.charAt(d++)))>>2,m=(3&l)<<6|(p=o.indexOf(c.charAt(d++))),w[b++]=u,l!==64&&(w[b++]=v),p!==64&&(w[b++]=m);return w}},{"./support":30,"./utils":32}],2:[function(n,r,i){var a=n("./external"),s=n("./stream/DataWorker"),o=n("./stream/Crc32Probe"),c=n("./stream/DataLengthProbe");function u(v,m,h,l,p){this.compressedSize=v,this.uncompressedSize=m,this.crc32=h,this.compression=l,this.compressedContent=p}u.prototype={getContentWorker:function(){var v=new s(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),m=this;return v.on("end",function(){if(this.streamInfo.data_length!==m.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),v},getCompressedWorker:function(){return new s(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},u.createWorkerFrom=function(v,m,h){return v.pipe(new o).pipe(new c("uncompressedSize")).pipe(m.compressWorker(h)).pipe(new c("compressedSize")).withStreamInfo("compression",m)},r.exports=u},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var a=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var a=n("./utils"),s=function(){for(var o,c=[],u=0;u<256;u++){o=u;for(var v=0;v<8;v++)o=1&o?3988292384^o>>>1:o>>>1;c[u]=o}return c}();r.exports=function(o,c){return o!==void 0&&o.length?a.getTypeOf(o)!=="string"?function(u,v,m,h){var l=s,p=h+m;u^=-1;for(var d=h;d<p;d++)u=u>>>8^l[255&(u^v[d])];return-1^u}(0|c,o,o.length,0):function(u,v,m,h){var l=s,p=h+m;u^=-1;for(var d=h;d<p;d++)u=u>>>8^l[255&(u^v.charCodeAt(d))];return-1^u}(0|c,o,o.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var a=null;a=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:a}},{lie:37}],7:[function(n,r,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=n("pako"),o=n("./utils"),c=n("./stream/GenericWorker"),u=a?"uint8array":"array";function v(m,h){c.call(this,"FlateWorker/"+m),this._pako=null,this._pakoAction=m,this._pakoOptions=h,this.meta={}}i.magic="\b\0",o.inherits(v,c),v.prototype.processChunk=function(m){this.meta=m.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(u,m.data),!1)},v.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},v.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},v.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var m=this;this._pako.onData=function(h){m.push({data:h,meta:m.meta})}},i.compressWorker=function(m){return new v("Deflate",m)},i.uncompressWorker=function(){return new v("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function a(l,p){var d,b="";for(d=0;d<p;d++)b+=String.fromCharCode(255&l),l>>>=8;return b}function s(l,p,d,b,y,w){var k,T,x=l.file,O=l.compression,A=w!==u.utf8encode,P=o.transformTo("string",w(x.name)),I=o.transformTo("string",u.utf8encode(x.name)),M=x.comment,z=o.transformTo("string",w(M)),E=o.transformTo("string",u.utf8encode(M)),R=I.length!==x.name.length,f=E.length!==M.length,L="",j="",V="",Z=x.dir,U=x.date,tt={crc32:0,compressedSize:0,uncompressedSize:0};p&&!d||(tt.crc32=l.crc32,tt.compressedSize=l.compressedSize,tt.uncompressedSize=l.uncompressedSize);var N=0;p&&(N|=8),A||!R&&!f||(N|=2048);var B=0,ot=0;Z&&(B|=16),y==="UNIX"?(ot=798,B|=function(J,wt){var St=J;return J||(St=wt?16893:33204),(65535&St)<<16}(x.unixPermissions,Z)):(ot=20,B|=function(J){return 63&(J||0)}(x.dosPermissions)),k=U.getUTCHours(),k<<=6,k|=U.getUTCMinutes(),k<<=5,k|=U.getUTCSeconds()/2,T=U.getUTCFullYear()-1980,T<<=4,T|=U.getUTCMonth()+1,T<<=5,T|=U.getUTCDate(),R&&(j=a(1,1)+a(v(P),4)+I,L+="up"+a(j.length,2)+j),f&&(V=a(1,1)+a(v(z),4)+E,L+="uc"+a(V.length,2)+V);var nt="";return nt+=`
\0`,nt+=a(N,2),nt+=O.magic,nt+=a(k,2),nt+=a(T,2),nt+=a(tt.crc32,4),nt+=a(tt.compressedSize,4),nt+=a(tt.uncompressedSize,4),nt+=a(P.length,2),nt+=a(L.length,2),{fileRecord:m.LOCAL_FILE_HEADER+nt+P+L,dirRecord:m.CENTRAL_FILE_HEADER+a(ot,2)+nt+a(z.length,2)+"\0\0\0\0"+a(B,4)+a(b,4)+P+L+z}}var o=n("../utils"),c=n("../stream/GenericWorker"),u=n("../utf8"),v=n("../crc32"),m=n("../signature");function h(l,p,d,b){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=p,this.zipPlatform=d,this.encodeFileName=b,this.streamFiles=l,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(h,c),h.prototype.push=function(l){var p=l.meta.percent||0,d=this.entriesCount,b=this._sources.length;this.accumulate?this.contentBuffer.push(l):(this.bytesWritten+=l.data.length,c.prototype.push.call(this,{data:l.data,meta:{currentFile:this.currentFile,percent:d?(p+100*(d-b-1))/d:100}}))},h.prototype.openedSource=function(l){this.currentSourceOffset=this.bytesWritten,this.currentFile=l.file.name;var p=this.streamFiles&&!l.file.dir;if(p){var d=s(l,p,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:d.fileRecord,meta:{percent:0}})}else this.accumulate=!0},h.prototype.closedSource=function(l){this.accumulate=!1;var p=this.streamFiles&&!l.file.dir,d=s(l,p,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(d.dirRecord),p)this.push({data:function(b){return m.DATA_DESCRIPTOR+a(b.crc32,4)+a(b.compressedSize,4)+a(b.uncompressedSize,4)}(l),meta:{percent:100}});else for(this.push({data:d.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},h.prototype.flush=function(){for(var l=this.bytesWritten,p=0;p<this.dirRecords.length;p++)this.push({data:this.dirRecords[p],meta:{percent:100}});var d=this.bytesWritten-l,b=function(y,w,k,T,x){var O=o.transformTo("string",x(T));return m.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(y,2)+a(y,2)+a(w,4)+a(k,4)+a(O.length,2)+O}(this.dirRecords.length,d,l,this.zipComment,this.encodeFileName);this.push({data:b,meta:{percent:100}})},h.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},h.prototype.registerPrevious=function(l){this._sources.push(l);var p=this;return l.on("data",function(d){p.processChunk(d)}),l.on("end",function(){p.closedSource(p.previous.streamInfo),p._sources.length?p.prepareNextSource():p.end()}),l.on("error",function(d){p.error(d)}),this},h.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},h.prototype.error=function(l){var p=this._sources;if(!c.prototype.error.call(this,l))return!1;for(var d=0;d<p.length;d++)try{p[d].error(l)}catch{}return!0},h.prototype.lock=function(){c.prototype.lock.call(this);for(var l=this._sources,p=0;p<l.length;p++)l[p].lock()},r.exports=h},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var a=n("../compressions"),s=n("./ZipFileWorker");i.generateWorker=function(o,c,u){var v=new s(c.streamFiles,u,c.platform,c.encodeFileName),m=0;try{o.forEach(function(h,l){m++;var p=function(w,k){var T=w||k,x=a[T];if(!x)throw new Error(T+" is not a valid compression method !");return x}(l.options.compression,c.compression),d=l.options.compressionOptions||c.compressionOptions||{},b=l.dir,y=l.date;l._compressWorker(p,d).withStreamInfo("file",{name:h,dir:b,date:y,comment:l.comment||"",unixPermissions:l.unixPermissions,dosPermissions:l.dosPermissions}).pipe(v)}),v.entriesCount=m}catch(h){v.error(h)}return v}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new a;for(var o in this)typeof this[o]!="function"&&(s[o]=this[o]);return s}}(a.prototype=n("./object")).loadAsync=n("./load"),a.support=n("./support"),a.defaults=n("./defaults"),a.version="3.10.1",a.loadAsync=function(s,o){return new a().loadAsync(s,o)},a.external=n("./external"),r.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var a=n("./utils"),s=n("./external"),o=n("./utf8"),c=n("./zipEntries"),u=n("./stream/Crc32Probe"),v=n("./nodejsUtils");function m(h){return new s.Promise(function(l,p){var d=h.decompressed.getContentWorker().pipe(new u);d.on("error",function(b){p(b)}).on("end",function(){d.streamInfo.crc32!==h.decompressed.crc32?p(new Error("Corrupted zip : CRC32 mismatch")):l()}).resume()})}r.exports=function(h,l){var p=this;return l=a.extend(l||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),v.isNode&&v.isStream(h)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",h,!0,l.optimizedBinaryString,l.base64).then(function(d){var b=new c(l);return b.load(d),b}).then(function(d){var b=[s.Promise.resolve(d)],y=d.files;if(l.checkCRC32)for(var w=0;w<y.length;w++)b.push(m(y[w]));return s.Promise.all(b)}).then(function(d){for(var b=d.shift(),y=b.files,w=0;w<y.length;w++){var k=y[w],T=k.fileNameStr,x=a.resolve(k.fileNameStr);p.file(x,k.decompressed,{binary:!0,optimizedBinaryString:!0,date:k.date,dir:k.dir,comment:k.fileCommentStr.length?k.fileCommentStr:null,unixPermissions:k.unixPermissions,dosPermissions:k.dosPermissions,createFolders:l.createFolders}),k.dir||(p.file(x).unsafeOriginalName=T)}return b.zipComment.length&&(p.comment=b.zipComment),p})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var a=n("../utils"),s=n("../stream/GenericWorker");function o(c,u){s.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(u)}a.inherits(o,s),o.prototype._bindStream=function(c){var u=this;(this._stream=c).pause(),c.on("data",function(v){u.push({data:v,meta:{percent:0}})}).on("error",function(v){u.isPaused?this.generatedError=v:u.error(v)}).on("end",function(){u.isPaused?u._upstreamEnded=!0:u.end()})},o.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var a=n("readable-stream").Readable;function s(o,c,u){a.call(this,c),this._helper=o;var v=this;o.on("data",function(m,h){v.push(m)||v._helper.pause(),u&&u(h)}).on("error",function(m){v.emit("error",m)}).on("end",function(){v.push(null)})}n("../utils").inherits(s,a),s.prototype._read=function(){this._helper.resume()},r.exports=s},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,s);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,s)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var s=new Buffer(a);return s.fill(0),s},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(n,r,i){function a(x,O,A){var P,I=o.getTypeOf(O),M=o.extend(A||{},v);M.date=M.date||new Date,M.compression!==null&&(M.compression=M.compression.toUpperCase()),typeof M.unixPermissions=="string"&&(M.unixPermissions=parseInt(M.unixPermissions,8)),M.unixPermissions&&16384&M.unixPermissions&&(M.dir=!0),M.dosPermissions&&16&M.dosPermissions&&(M.dir=!0),M.dir&&(x=y(x)),M.createFolders&&(P=b(x))&&w.call(this,P,!0);var z=I==="string"&&M.binary===!1&&M.base64===!1;A&&A.binary!==void 0||(M.binary=!z),(O instanceof m&&O.uncompressedSize===0||M.dir||!O||O.length===0)&&(M.base64=!1,M.binary=!0,O="",M.compression="STORE",I="string");var E=null;E=O instanceof m||O instanceof c?O:p.isNode&&p.isStream(O)?new d(x,O):o.prepareContent(x,O,M.binary,M.optimizedBinaryString,M.base64);var R=new h(x,E,M);this.files[x]=R}var s=n("./utf8"),o=n("./utils"),c=n("./stream/GenericWorker"),u=n("./stream/StreamHelper"),v=n("./defaults"),m=n("./compressedObject"),h=n("./zipObject"),l=n("./generate"),p=n("./nodejsUtils"),d=n("./nodejs/NodejsStreamInputAdapter"),b=function(x){x.slice(-1)==="/"&&(x=x.substring(0,x.length-1));var O=x.lastIndexOf("/");return 0<O?x.substring(0,O):""},y=function(x){return x.slice(-1)!=="/"&&(x+="/"),x},w=function(x,O){return O=O!==void 0?O:v.createFolders,x=y(x),this.files[x]||a.call(this,x,null,{dir:!0,createFolders:O}),this.files[x]};function k(x){return Object.prototype.toString.call(x)==="[object RegExp]"}var T={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(x){var O,A,P;for(O in this.files)P=this.files[O],(A=O.slice(this.root.length,O.length))&&O.slice(0,this.root.length)===this.root&&x(A,P)},filter:function(x){var O=[];return this.forEach(function(A,P){x(A,P)&&O.push(P)}),O},file:function(x,O,A){if(arguments.length!==1)return x=this.root+x,a.call(this,x,O,A),this;if(k(x)){var P=x;return this.filter(function(M,z){return!z.dir&&P.test(M)})}var I=this.files[this.root+x];return I&&!I.dir?I:null},folder:function(x){if(!x)return this;if(k(x))return this.filter(function(I,M){return M.dir&&x.test(I)});var O=this.root+x,A=w.call(this,O),P=this.clone();return P.root=A.name,P},remove:function(x){x=this.root+x;var O=this.files[x];if(O||(x.slice(-1)!=="/"&&(x+="/"),O=this.files[x]),O&&!O.dir)delete this.files[x];else for(var A=this.filter(function(I,M){return M.name.slice(0,x.length)===x}),P=0;P<A.length;P++)delete this.files[A[P].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(x){var O,A={};try{if((A=o.extend(x||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=A.type.toLowerCase(),A.compression=A.compression.toUpperCase(),A.type==="binarystring"&&(A.type="string"),!A.type)throw new Error("No output type specified.");o.checkSupport(A.type),A.platform!=="darwin"&&A.platform!=="freebsd"&&A.platform!=="linux"&&A.platform!=="sunos"||(A.platform="UNIX"),A.platform==="win32"&&(A.platform="DOS");var P=A.comment||this.comment||"";O=l.generateWorker(this,A,P)}catch(I){(O=new c("error")).error(I)}return new u(O,A.type||"string",A.mimeType)},generateAsync:function(x,O){return this.generateInternalStream(x).accumulate(O)},generateNodeStream:function(x,O){return(x=x||{}).type||(x.type="nodebuffer"),this.generateInternalStream(x).toNodejsStream(O)}};r.exports=T},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var a=n("./DataReader");function s(o){a.call(this,o);for(var c=0;c<this.data.length;c++)o[c]=255&o[c]}n("../utils").inherits(s,a),s.prototype.byteAt=function(o){return this.data[this.zero+o]},s.prototype.lastIndexOfSignature=function(o){for(var c=o.charCodeAt(0),u=o.charCodeAt(1),v=o.charCodeAt(2),m=o.charCodeAt(3),h=this.length-4;0<=h;--h)if(this.data[h]===c&&this.data[h+1]===u&&this.data[h+2]===v&&this.data[h+3]===m)return h-this.zero;return-1},s.prototype.readAndCheckSignature=function(o){var c=o.charCodeAt(0),u=o.charCodeAt(1),v=o.charCodeAt(2),m=o.charCodeAt(3),h=this.readData(4);return c===h[0]&&u===h[1]&&v===h[2]&&m===h[3]},s.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},r.exports=s},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var a=n("../utils");function s(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var c,u=0;for(this.checkOffset(o),c=this.index+o-1;c>=this.index;c--)u=(u<<8)+this.byteAt(c);return this.index+=o,u},readString:function(o){return a.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},r.exports=s},{"../utils":32}],19:[function(n,r,i){var a=n("./Uint8ArrayReader");function s(o){a.call(this,o)}n("../utils").inherits(s,a),s.prototype.readData=function(o){this.checkOffset(o);var c=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},r.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var a=n("./DataReader");function s(o){a.call(this,o)}n("../utils").inherits(s,a),s.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},s.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},s.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},s.prototype.readData=function(o){this.checkOffset(o);var c=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},r.exports=s},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var a=n("./ArrayReader");function s(o){a.call(this,o)}n("../utils").inherits(s,a),s.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},r.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var a=n("../utils"),s=n("../support"),o=n("./ArrayReader"),c=n("./StringReader"),u=n("./NodeBufferReader"),v=n("./Uint8ArrayReader");r.exports=function(m){var h=a.getTypeOf(m);return a.checkSupport(h),h!=="string"||s.uint8array?h==="nodebuffer"?new u(m):s.uint8array?new v(a.transformTo("uint8array",m)):new o(a.transformTo("array",m)):new c(m)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var a=n("./GenericWorker"),s=n("../utils");function o(c){a.call(this,"ConvertWorker to "+c),this.destType=c}s.inherits(o,a),o.prototype.processChunk=function(c){this.push({data:s.transformTo(this.destType,c.data),meta:c.meta})},r.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var a=n("./GenericWorker"),s=n("../crc32");function o(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(o,a),o.prototype.processChunk=function(c){this.streamInfo.crc32=s(c.data,this.streamInfo.crc32||0),this.push(c)},r.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var a=n("../utils"),s=n("./GenericWorker");function o(c){s.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}a.inherits(o,s),o.prototype.processChunk=function(c){if(c){var u=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=u+c.data.length}s.prototype.processChunk.call(this,c)},r.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var a=n("../utils"),s=n("./GenericWorker");function o(c){s.call(this,"DataWorker");var u=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(v){u.dataIsReady=!0,u.data=v,u.max=v&&v.length||0,u.type=a.getTypeOf(v),u.isPaused||u._tickAndRepeat()},function(v){u.error(v)})}a.inherits(o,s),o.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,u=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,u);break;case"uint8array":c=this.data.subarray(this.index,u);break;case"array":case"nodebuffer":c=this.data.slice(this.index,u)}return this.index=u,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function a(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,o){return this._listeners[s].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,o){if(this._listeners[s])for(var c=0;c<this._listeners[s].length;c++)this._listeners[s][c].call(this,o)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var o=this;return s.on("data",function(c){o.processChunk(c)}),s.on("end",function(){o.end()}),s.on("error",function(c){o.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,o){return this.extraStreamInfo[s]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},r.exports=a},{}],29:[function(n,r,i){var a=n("../utils"),s=n("./ConvertWorker"),o=n("./GenericWorker"),c=n("../base64"),u=n("../support"),v=n("../external"),m=null;if(u.nodestream)try{m=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function h(p,d){return new v.Promise(function(b,y){var w=[],k=p._internalType,T=p._outputType,x=p._mimeType;p.on("data",function(O,A){w.push(O),d&&d(A)}).on("error",function(O){w=[],y(O)}).on("end",function(){try{var O=function(A,P,I){switch(A){case"blob":return a.newBlob(a.transformTo("arraybuffer",P),I);case"base64":return c.encode(P);default:return a.transformTo(A,P)}}(T,function(A,P){var I,M=0,z=null,E=0;for(I=0;I<P.length;I++)E+=P[I].length;switch(A){case"string":return P.join("");case"array":return Array.prototype.concat.apply([],P);case"uint8array":for(z=new Uint8Array(E),I=0;I<P.length;I++)z.set(P[I],M),M+=P[I].length;return z;case"nodebuffer":return Buffer.concat(P);default:throw new Error("concat : unsupported type '"+A+"'")}}(k,w),x);b(O)}catch(A){y(A)}w=[]}).resume()})}function l(p,d,b){var y=d;switch(d){case"blob":case"arraybuffer":y="uint8array";break;case"base64":y="string"}try{this._internalType=y,this._outputType=d,this._mimeType=b,a.checkSupport(y),this._worker=p.pipe(new s(y)),p.lock()}catch(w){this._worker=new o("error"),this._worker.error(w)}}l.prototype={accumulate:function(p){return h(this,p)},on:function(p,d){var b=this;return p==="data"?this._worker.on(p,function(y){d.call(b,y.data,y.meta)}):this._worker.on(p,function(){a.delay(d,arguments,b)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(p){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new m(this,{objectMode:this._outputType!=="nodebuffer"},p)}},r.exports=l},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var a=new ArrayBuffer(0);try{i.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(a),i.blob=s.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var a=n("./utils"),s=n("./support"),o=n("./nodejsUtils"),c=n("./stream/GenericWorker"),u=new Array(256),v=0;v<256;v++)u[v]=252<=v?6:248<=v?5:240<=v?4:224<=v?3:192<=v?2:1;u[254]=u[254]=1;function m(){c.call(this,"utf-8 decode"),this.leftOver=null}function h(){c.call(this,"utf-8 encode")}i.utf8encode=function(l){return s.nodebuffer?o.newBufferFrom(l,"utf-8"):function(p){var d,b,y,w,k,T=p.length,x=0;for(w=0;w<T;w++)(64512&(b=p.charCodeAt(w)))==55296&&w+1<T&&(64512&(y=p.charCodeAt(w+1)))==56320&&(b=65536+(b-55296<<10)+(y-56320),w++),x+=b<128?1:b<2048?2:b<65536?3:4;for(d=s.uint8array?new Uint8Array(x):new Array(x),w=k=0;k<x;w++)(64512&(b=p.charCodeAt(w)))==55296&&w+1<T&&(64512&(y=p.charCodeAt(w+1)))==56320&&(b=65536+(b-55296<<10)+(y-56320),w++),b<128?d[k++]=b:(b<2048?d[k++]=192|b>>>6:(b<65536?d[k++]=224|b>>>12:(d[k++]=240|b>>>18,d[k++]=128|b>>>12&63),d[k++]=128|b>>>6&63),d[k++]=128|63&b);return d}(l)},i.utf8decode=function(l){return s.nodebuffer?a.transformTo("nodebuffer",l).toString("utf-8"):function(p){var d,b,y,w,k=p.length,T=new Array(2*k);for(d=b=0;d<k;)if((y=p[d++])<128)T[b++]=y;else if(4<(w=u[y]))T[b++]=65533,d+=w-1;else{for(y&=w===2?31:w===3?15:7;1<w&&d<k;)y=y<<6|63&p[d++],w--;1<w?T[b++]=65533:y<65536?T[b++]=y:(y-=65536,T[b++]=55296|y>>10&1023,T[b++]=56320|1023&y)}return T.length!==b&&(T.subarray?T=T.subarray(0,b):T.length=b),a.applyFromCharCode(T)}(l=a.transformTo(s.uint8array?"uint8array":"array",l))},a.inherits(m,c),m.prototype.processChunk=function(l){var p=a.transformTo(s.uint8array?"uint8array":"array",l.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var d=p;(p=new Uint8Array(d.length+this.leftOver.length)).set(this.leftOver,0),p.set(d,this.leftOver.length)}else p=this.leftOver.concat(p);this.leftOver=null}var b=function(w,k){var T;for((k=k||w.length)>w.length&&(k=w.length),T=k-1;0<=T&&(192&w[T])==128;)T--;return T<0||T===0?k:T+u[w[T]]>k?T:k}(p),y=p;b!==p.length&&(s.uint8array?(y=p.subarray(0,b),this.leftOver=p.subarray(b,p.length)):(y=p.slice(0,b),this.leftOver=p.slice(b,p.length))),this.push({data:i.utf8decode(y),meta:l.meta})},m.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=m,a.inherits(h,c),h.prototype.processChunk=function(l){this.push({data:i.utf8encode(l.data),meta:l.meta})},i.Utf8EncodeWorker=h},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var a=n("./support"),s=n("./base64"),o=n("./nodejsUtils"),c=n("./external");function u(d){return d}function v(d,b){for(var y=0;y<d.length;++y)b[y]=255&d.charCodeAt(y);return b}n("setimmediate"),i.newBlob=function(d,b){i.checkSupport("blob");try{return new Blob([d],{type:b})}catch{try{var y=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return y.append(d),y.getBlob(b)}catch{throw new Error("Bug : can't construct the Blob.")}}};var m={stringifyByChunk:function(d,b,y){var w=[],k=0,T=d.length;if(T<=y)return String.fromCharCode.apply(null,d);for(;k<T;)b==="array"||b==="nodebuffer"?w.push(String.fromCharCode.apply(null,d.slice(k,Math.min(k+y,T)))):w.push(String.fromCharCode.apply(null,d.subarray(k,Math.min(k+y,T)))),k+=y;return w.join("")},stringifyByChar:function(d){for(var b="",y=0;y<d.length;y++)b+=String.fromCharCode(d[y]);return b},applyCanBeUsed:{uint8array:function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}}()}};function h(d){var b=65536,y=i.getTypeOf(d),w=!0;if(y==="uint8array"?w=m.applyCanBeUsed.uint8array:y==="nodebuffer"&&(w=m.applyCanBeUsed.nodebuffer),w)for(;1<b;)try{return m.stringifyByChunk(d,y,b)}catch{b=Math.floor(b/2)}return m.stringifyByChar(d)}function l(d,b){for(var y=0;y<d.length;y++)b[y]=d[y];return b}i.applyFromCharCode=h;var p={};p.string={string:u,array:function(d){return v(d,new Array(d.length))},arraybuffer:function(d){return p.string.uint8array(d).buffer},uint8array:function(d){return v(d,new Uint8Array(d.length))},nodebuffer:function(d){return v(d,o.allocBuffer(d.length))}},p.array={string:h,array:u,arraybuffer:function(d){return new Uint8Array(d).buffer},uint8array:function(d){return new Uint8Array(d)},nodebuffer:function(d){return o.newBufferFrom(d)}},p.arraybuffer={string:function(d){return h(new Uint8Array(d))},array:function(d){return l(new Uint8Array(d),new Array(d.byteLength))},arraybuffer:u,uint8array:function(d){return new Uint8Array(d)},nodebuffer:function(d){return o.newBufferFrom(new Uint8Array(d))}},p.uint8array={string:h,array:function(d){return l(d,new Array(d.length))},arraybuffer:function(d){return d.buffer},uint8array:u,nodebuffer:function(d){return o.newBufferFrom(d)}},p.nodebuffer={string:h,array:function(d){return l(d,new Array(d.length))},arraybuffer:function(d){return p.nodebuffer.uint8array(d).buffer},uint8array:function(d){return l(d,new Uint8Array(d.length))},nodebuffer:u},i.transformTo=function(d,b){if(b=b||"",!d)return b;i.checkSupport(d);var y=i.getTypeOf(b);return p[y][d](b)},i.resolve=function(d){for(var b=d.split("/"),y=[],w=0;w<b.length;w++){var k=b[w];k==="."||k===""&&w!==0&&w!==b.length-1||(k===".."?y.pop():y.push(k))}return y.join("/")},i.getTypeOf=function(d){return typeof d=="string"?"string":Object.prototype.toString.call(d)==="[object Array]"?"array":a.nodebuffer&&o.isBuffer(d)?"nodebuffer":a.uint8array&&d instanceof Uint8Array?"uint8array":a.arraybuffer&&d instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(d){if(!a[d.toLowerCase()])throw new Error(d+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(d){var b,y,w="";for(y=0;y<(d||"").length;y++)w+="\\x"+((b=d.charCodeAt(y))<16?"0":"")+b.toString(16).toUpperCase();return w},i.delay=function(d,b,y){setImmediate(function(){d.apply(y||null,b||[])})},i.inherits=function(d,b){function y(){}y.prototype=b.prototype,d.prototype=new y},i.extend=function(){var d,b,y={};for(d=0;d<arguments.length;d++)for(b in arguments[d])Object.prototype.hasOwnProperty.call(arguments[d],b)&&y[b]===void 0&&(y[b]=arguments[d][b]);return y},i.prepareContent=function(d,b,y,w,k){return c.Promise.resolve(b).then(function(T){return a.blob&&(T instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(T))!==-1)&&typeof FileReader<"u"?new c.Promise(function(x,O){var A=new FileReader;A.onload=function(P){x(P.target.result)},A.onerror=function(P){O(P.target.error)},A.readAsArrayBuffer(T)}):T}).then(function(T){var x=i.getTypeOf(T);return x?(x==="arraybuffer"?T=i.transformTo("uint8array",T):x==="string"&&(k?T=s.decode(T):y&&w!==!0&&(T=function(O){return v(O,a.uint8array?new Uint8Array(O.length):new Array(O.length))}(T))),T):c.Promise.reject(new Error("Can't read the data of '"+d+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var a=n("./reader/readerFor"),s=n("./utils"),o=n("./signature"),c=n("./zipEntry"),u=n("./support");function v(m){this.files=[],this.loadOptions=m}v.prototype={checkSignature:function(m){if(!this.reader.readAndCheckSignature(m)){this.reader.index-=4;var h=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(h)+", expected "+s.pretty(m)+")")}},isSignature:function(m,h){var l=this.reader.index;this.reader.setIndex(m);var p=this.reader.readString(4)===h;return this.reader.setIndex(l),p},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var m=this.reader.readData(this.zipCommentLength),h=u.uint8array?"uint8array":"array",l=s.transformTo(h,m);this.zipComment=this.loadOptions.decodeFileName(l)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var m,h,l,p=this.zip64EndOfCentralSize-44;0<p;)m=this.reader.readInt(2),h=this.reader.readInt(4),l=this.reader.readData(h),this.zip64ExtensibleData[m]={id:m,length:h,value:l}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var m,h;for(m=0;m<this.files.length;m++)h=this.files[m],this.reader.setIndex(h.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),h.readLocalPart(this.reader),h.handleUTF8(),h.processAttributes()},readCentralDir:function(){var m;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(m=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(m);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var m=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(m<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(m);var h=m;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(m=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(m),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var l=this.centralDirOffset+this.centralDirSize;this.zip64&&(l+=20,l+=12+this.zip64EndOfCentralSize);var p=h-l;if(0<p)this.isSignature(h,o.CENTRAL_FILE_HEADER)||(this.reader.zero=p);else if(p<0)throw new Error("Corrupted zip: missing "+Math.abs(p)+" bytes.")},prepareReader:function(m){this.reader=a(m)},load:function(m){this.prepareReader(m),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=v},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var a=n("./reader/readerFor"),s=n("./utils"),o=n("./compressedObject"),c=n("./crc32"),u=n("./utf8"),v=n("./compressions"),m=n("./support");function h(l,p){this.options=l,this.loadOptions=p}h.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(l){var p,d;if(l.skip(22),this.fileNameLength=l.readInt(2),d=l.readInt(2),this.fileName=l.readData(this.fileNameLength),l.skip(d),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((p=function(b){for(var y in v)if(Object.prototype.hasOwnProperty.call(v,y)&&v[y].magic===b)return v[y];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,p,l.readData(this.compressedSize))},readCentralPart:function(l){this.versionMadeBy=l.readInt(2),l.skip(2),this.bitFlag=l.readInt(2),this.compressionMethod=l.readString(2),this.date=l.readDate(),this.crc32=l.readInt(4),this.compressedSize=l.readInt(4),this.uncompressedSize=l.readInt(4);var p=l.readInt(2);if(this.extraFieldsLength=l.readInt(2),this.fileCommentLength=l.readInt(2),this.diskNumberStart=l.readInt(2),this.internalFileAttributes=l.readInt(2),this.externalFileAttributes=l.readInt(4),this.localHeaderOffset=l.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");l.skip(p),this.readExtraFields(l),this.parseZIP64ExtraField(l),this.fileComment=l.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var l=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),l==0&&(this.dosPermissions=63&this.externalFileAttributes),l==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var l=a(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=l.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=l.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=l.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=l.readInt(4))}},readExtraFields:function(l){var p,d,b,y=l.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});l.index+4<y;)p=l.readInt(2),d=l.readInt(2),b=l.readData(d),this.extraFields[p]={id:p,length:d,value:b};l.setIndex(y)},handleUTF8:function(){var l=m.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=u.utf8decode(this.fileName),this.fileCommentStr=u.utf8decode(this.fileComment);else{var p=this.findExtraFieldUnicodePath();if(p!==null)this.fileNameStr=p;else{var d=s.transformTo(l,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(d)}var b=this.findExtraFieldUnicodeComment();if(b!==null)this.fileCommentStr=b;else{var y=s.transformTo(l,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(y)}}},findExtraFieldUnicodePath:function(){var l=this.extraFields[28789];if(l){var p=a(l.value);return p.readInt(1)!==1||c(this.fileName)!==p.readInt(4)?null:u.utf8decode(p.readData(l.length-5))}return null},findExtraFieldUnicodeComment:function(){var l=this.extraFields[25461];if(l){var p=a(l.value);return p.readInt(1)!==1||c(this.fileComment)!==p.readInt(4)?null:u.utf8decode(p.readData(l.length-5))}return null}},r.exports=h},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function a(p,d,b){this.name=p,this.dir=b.dir,this.date=b.date,this.comment=b.comment,this.unixPermissions=b.unixPermissions,this.dosPermissions=b.dosPermissions,this._data=d,this._dataBinary=b.binary,this.options={compression:b.compression,compressionOptions:b.compressionOptions}}var s=n("./stream/StreamHelper"),o=n("./stream/DataWorker"),c=n("./utf8"),u=n("./compressedObject"),v=n("./stream/GenericWorker");a.prototype={internalStream:function(p){var d=null,b="string";try{if(!p)throw new Error("No output type specified.");var y=(b=p.toLowerCase())==="string"||b==="text";b!=="binarystring"&&b!=="text"||(b="string"),d=this._decompressWorker();var w=!this._dataBinary;w&&!y&&(d=d.pipe(new c.Utf8EncodeWorker)),!w&&y&&(d=d.pipe(new c.Utf8DecodeWorker))}catch(k){(d=new v("error")).error(k)}return new s(d,b,"")},async:function(p,d){return this.internalStream(p).accumulate(d)},nodeStream:function(p,d){return this.internalStream(p||"nodebuffer").toNodejsStream(d)},_compressWorker:function(p,d){if(this._data instanceof u&&this._data.compression.magic===p.magic)return this._data.getCompressedWorker();var b=this._decompressWorker();return this._dataBinary||(b=b.pipe(new c.Utf8EncodeWorker)),u.createWorkerFrom(b,p,d)},_decompressWorker:function(){return this._data instanceof u?this._data.getContentWorker():this._data instanceof v?this._data:new o(this._data)}};for(var m=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],h=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},l=0;l<m.length;l++)a.prototype[m[l]]=h;r.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(a){var s,o,c=a.MutationObserver||a.WebKitMutationObserver;if(c){var u=0,v=new c(p),m=a.document.createTextNode("");v.observe(m,{characterData:!0}),s=function(){m.data=u=++u%2}}else if(a.setImmediate||a.MessageChannel===void 0)s="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var d=a.document.createElement("script");d.onreadystatechange=function(){p(),d.onreadystatechange=null,d.parentNode.removeChild(d),d=null},a.document.documentElement.appendChild(d)}:function(){setTimeout(p,0)};else{var h=new a.MessageChannel;h.port1.onmessage=p,s=function(){h.port2.postMessage(0)}}var l=[];function p(){var d,b;o=!0;for(var y=l.length;y;){for(b=l,l=[],d=-1;++d<y;)b[d]();y=l.length}o=!1}r.exports=function(d){l.push(d)!==1||o||s()}}).call(this,typeof Yr<"u"?Yr:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var a=n("immediate");function s(){}var o={},c=["REJECTED"],u=["FULFILLED"],v=["PENDING"];function m(y){if(typeof y!="function")throw new TypeError("resolver must be a function");this.state=v,this.queue=[],this.outcome=void 0,y!==s&&d(this,y)}function h(y,w,k){this.promise=y,typeof w=="function"&&(this.onFulfilled=w,this.callFulfilled=this.otherCallFulfilled),typeof k=="function"&&(this.onRejected=k,this.callRejected=this.otherCallRejected)}function l(y,w,k){a(function(){var T;try{T=w(k)}catch(x){return o.reject(y,x)}T===y?o.reject(y,new TypeError("Cannot resolve promise with itself")):o.resolve(y,T)})}function p(y){var w=y&&y.then;if(y&&(typeof y=="object"||typeof y=="function")&&typeof w=="function")return function(){w.apply(y,arguments)}}function d(y,w){var k=!1;function T(A){k||(k=!0,o.reject(y,A))}function x(A){k||(k=!0,o.resolve(y,A))}var O=b(function(){w(x,T)});O.status==="error"&&T(O.value)}function b(y,w){var k={};try{k.value=y(w),k.status="success"}catch(T){k.status="error",k.value=T}return k}(r.exports=m).prototype.finally=function(y){if(typeof y!="function")return this;var w=this.constructor;return this.then(function(k){return w.resolve(y()).then(function(){return k})},function(k){return w.resolve(y()).then(function(){throw k})})},m.prototype.catch=function(y){return this.then(null,y)},m.prototype.then=function(y,w){if(typeof y!="function"&&this.state===u||typeof w!="function"&&this.state===c)return this;var k=new this.constructor(s);return this.state!==v?l(k,this.state===u?y:w,this.outcome):this.queue.push(new h(k,y,w)),k},h.prototype.callFulfilled=function(y){o.resolve(this.promise,y)},h.prototype.otherCallFulfilled=function(y){l(this.promise,this.onFulfilled,y)},h.prototype.callRejected=function(y){o.reject(this.promise,y)},h.prototype.otherCallRejected=function(y){l(this.promise,this.onRejected,y)},o.resolve=function(y,w){var k=b(p,w);if(k.status==="error")return o.reject(y,k.value);var T=k.value;if(T)d(y,T);else{y.state=u,y.outcome=w;for(var x=-1,O=y.queue.length;++x<O;)y.queue[x].callFulfilled(w)}return y},o.reject=function(y,w){y.state=c,y.outcome=w;for(var k=-1,T=y.queue.length;++k<T;)y.queue[k].callRejected(w);return y},m.resolve=function(y){return y instanceof this?y:o.resolve(new this(s),y)},m.reject=function(y){var w=new this(s);return o.reject(w,y)},m.all=function(y){var w=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=y.length,T=!1;if(!k)return this.resolve([]);for(var x=new Array(k),O=0,A=-1,P=new this(s);++A<k;)I(y[A],A);return P;function I(M,z){w.resolve(M).then(function(E){x[z]=E,++O!==k||T||(T=!0,o.resolve(P,x))},function(E){T||(T=!0,o.reject(P,E))})}},m.race=function(y){var w=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=y.length,T=!1;if(!k)return this.resolve([]);for(var x=-1,O=new this(s);++x<k;)A=y[x],w.resolve(A).then(function(P){T||(T=!0,o.resolve(O,P))},function(P){T||(T=!0,o.reject(O,P))});var A;return O}},{immediate:36}],38:[function(n,r,i){var a={};(0,n("./lib/utils/common").assign)(a,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var a=n("./zlib/deflate"),s=n("./utils/common"),o=n("./utils/strings"),c=n("./zlib/messages"),u=n("./zlib/zstream"),v=Object.prototype.toString,m=0,h=-1,l=0,p=8;function d(y){if(!(this instanceof d))return new d(y);this.options=s.assign({level:h,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:l,to:""},y||{});var w=this.options;w.raw&&0<w.windowBits?w.windowBits=-w.windowBits:w.gzip&&0<w.windowBits&&w.windowBits<16&&(w.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new u,this.strm.avail_out=0;var k=a.deflateInit2(this.strm,w.level,w.method,w.windowBits,w.memLevel,w.strategy);if(k!==m)throw new Error(c[k]);if(w.header&&a.deflateSetHeader(this.strm,w.header),w.dictionary){var T;if(T=typeof w.dictionary=="string"?o.string2buf(w.dictionary):v.call(w.dictionary)==="[object ArrayBuffer]"?new Uint8Array(w.dictionary):w.dictionary,(k=a.deflateSetDictionary(this.strm,T))!==m)throw new Error(c[k]);this._dict_set=!0}}function b(y,w){var k=new d(w);if(k.push(y,!0),k.err)throw k.msg||c[k.err];return k.result}d.prototype.push=function(y,w){var k,T,x=this.strm,O=this.options.chunkSize;if(this.ended)return!1;T=w===~~w?w:w===!0?4:0,typeof y=="string"?x.input=o.string2buf(y):v.call(y)==="[object ArrayBuffer]"?x.input=new Uint8Array(y):x.input=y,x.next_in=0,x.avail_in=x.input.length;do{if(x.avail_out===0&&(x.output=new s.Buf8(O),x.next_out=0,x.avail_out=O),(k=a.deflate(x,T))!==1&&k!==m)return this.onEnd(k),!(this.ended=!0);x.avail_out!==0&&(x.avail_in!==0||T!==4&&T!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(s.shrinkBuf(x.output,x.next_out))):this.onData(s.shrinkBuf(x.output,x.next_out)))}while((0<x.avail_in||x.avail_out===0)&&k!==1);return T===4?(k=a.deflateEnd(this.strm),this.onEnd(k),this.ended=!0,k===m):T!==2||(this.onEnd(m),!(x.avail_out=0))},d.prototype.onData=function(y){this.chunks.push(y)},d.prototype.onEnd=function(y){y===m&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=y,this.msg=this.strm.msg},i.Deflate=d,i.deflate=b,i.deflateRaw=function(y,w){return(w=w||{}).raw=!0,b(y,w)},i.gzip=function(y,w){return(w=w||{}).gzip=!0,b(y,w)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var a=n("./zlib/inflate"),s=n("./utils/common"),o=n("./utils/strings"),c=n("./zlib/constants"),u=n("./zlib/messages"),v=n("./zlib/zstream"),m=n("./zlib/gzheader"),h=Object.prototype.toString;function l(d){if(!(this instanceof l))return new l(d);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},d||{});var b=this.options;b.raw&&0<=b.windowBits&&b.windowBits<16&&(b.windowBits=-b.windowBits,b.windowBits===0&&(b.windowBits=-15)),!(0<=b.windowBits&&b.windowBits<16)||d&&d.windowBits||(b.windowBits+=32),15<b.windowBits&&b.windowBits<48&&(15&b.windowBits)==0&&(b.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new v,this.strm.avail_out=0;var y=a.inflateInit2(this.strm,b.windowBits);if(y!==c.Z_OK)throw new Error(u[y]);this.header=new m,a.inflateGetHeader(this.strm,this.header)}function p(d,b){var y=new l(b);if(y.push(d,!0),y.err)throw y.msg||u[y.err];return y.result}l.prototype.push=function(d,b){var y,w,k,T,x,O,A=this.strm,P=this.options.chunkSize,I=this.options.dictionary,M=!1;if(this.ended)return!1;w=b===~~b?b:b===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof d=="string"?A.input=o.binstring2buf(d):h.call(d)==="[object ArrayBuffer]"?A.input=new Uint8Array(d):A.input=d,A.next_in=0,A.avail_in=A.input.length;do{if(A.avail_out===0&&(A.output=new s.Buf8(P),A.next_out=0,A.avail_out=P),(y=a.inflate(A,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&I&&(O=typeof I=="string"?o.string2buf(I):h.call(I)==="[object ArrayBuffer]"?new Uint8Array(I):I,y=a.inflateSetDictionary(this.strm,O)),y===c.Z_BUF_ERROR&&M===!0&&(y=c.Z_OK,M=!1),y!==c.Z_STREAM_END&&y!==c.Z_OK)return this.onEnd(y),!(this.ended=!0);A.next_out&&(A.avail_out!==0&&y!==c.Z_STREAM_END&&(A.avail_in!==0||w!==c.Z_FINISH&&w!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(k=o.utf8border(A.output,A.next_out),T=A.next_out-k,x=o.buf2string(A.output,k),A.next_out=T,A.avail_out=P-T,T&&s.arraySet(A.output,A.output,k,T,0),this.onData(x)):this.onData(s.shrinkBuf(A.output,A.next_out)))),A.avail_in===0&&A.avail_out===0&&(M=!0)}while((0<A.avail_in||A.avail_out===0)&&y!==c.Z_STREAM_END);return y===c.Z_STREAM_END&&(w=c.Z_FINISH),w===c.Z_FINISH?(y=a.inflateEnd(this.strm),this.onEnd(y),this.ended=!0,y===c.Z_OK):w!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(A.avail_out=0))},l.prototype.onData=function(d){this.chunks.push(d)},l.prototype.onEnd=function(d){d===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=d,this.msg=this.strm.msg},i.Inflate=l,i.inflate=p,i.inflateRaw=function(d,b){return(b=b||{}).raw=!0,p(d,b)},i.ungzip=p},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(c){for(var u=Array.prototype.slice.call(arguments,1);u.length;){var v=u.shift();if(v){if(typeof v!="object")throw new TypeError(v+"must be non-object");for(var m in v)v.hasOwnProperty(m)&&(c[m]=v[m])}}return c},i.shrinkBuf=function(c,u){return c.length===u?c:c.subarray?c.subarray(0,u):(c.length=u,c)};var s={arraySet:function(c,u,v,m,h){if(u.subarray&&c.subarray)c.set(u.subarray(v,v+m),h);else for(var l=0;l<m;l++)c[h+l]=u[v+l]},flattenChunks:function(c){var u,v,m,h,l,p;for(u=m=0,v=c.length;u<v;u++)m+=c[u].length;for(p=new Uint8Array(m),u=h=0,v=c.length;u<v;u++)l=c[u],p.set(l,h),h+=l.length;return p}},o={arraySet:function(c,u,v,m,h){for(var l=0;l<m;l++)c[h+l]=u[v+l]},flattenChunks:function(c){return[].concat.apply([],c)}};i.setTyped=function(c){c?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,s)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,o))},i.setTyped(a)},{}],42:[function(n,r,i){var a=n("./common"),s=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var c=new a.Buf8(256),u=0;u<256;u++)c[u]=252<=u?6:248<=u?5:240<=u?4:224<=u?3:192<=u?2:1;function v(m,h){if(h<65537&&(m.subarray&&o||!m.subarray&&s))return String.fromCharCode.apply(null,a.shrinkBuf(m,h));for(var l="",p=0;p<h;p++)l+=String.fromCharCode(m[p]);return l}c[254]=c[254]=1,i.string2buf=function(m){var h,l,p,d,b,y=m.length,w=0;for(d=0;d<y;d++)(64512&(l=m.charCodeAt(d)))==55296&&d+1<y&&(64512&(p=m.charCodeAt(d+1)))==56320&&(l=65536+(l-55296<<10)+(p-56320),d++),w+=l<128?1:l<2048?2:l<65536?3:4;for(h=new a.Buf8(w),d=b=0;b<w;d++)(64512&(l=m.charCodeAt(d)))==55296&&d+1<y&&(64512&(p=m.charCodeAt(d+1)))==56320&&(l=65536+(l-55296<<10)+(p-56320),d++),l<128?h[b++]=l:(l<2048?h[b++]=192|l>>>6:(l<65536?h[b++]=224|l>>>12:(h[b++]=240|l>>>18,h[b++]=128|l>>>12&63),h[b++]=128|l>>>6&63),h[b++]=128|63&l);return h},i.buf2binstring=function(m){return v(m,m.length)},i.binstring2buf=function(m){for(var h=new a.Buf8(m.length),l=0,p=h.length;l<p;l++)h[l]=m.charCodeAt(l);return h},i.buf2string=function(m,h){var l,p,d,b,y=h||m.length,w=new Array(2*y);for(l=p=0;l<y;)if((d=m[l++])<128)w[p++]=d;else if(4<(b=c[d]))w[p++]=65533,l+=b-1;else{for(d&=b===2?31:b===3?15:7;1<b&&l<y;)d=d<<6|63&m[l++],b--;1<b?w[p++]=65533:d<65536?w[p++]=d:(d-=65536,w[p++]=55296|d>>10&1023,w[p++]=56320|1023&d)}return v(w,p)},i.utf8border=function(m,h){var l;for((h=h||m.length)>m.length&&(h=m.length),l=h-1;0<=l&&(192&m[l])==128;)l--;return l<0||l===0?h:l+c[m[l]]>h?l:h}},{"./common":41}],43:[function(n,r,i){r.exports=function(a,s,o,c){for(var u=65535&a|0,v=a>>>16&65535|0,m=0;o!==0;){for(o-=m=2e3<o?2e3:o;v=v+(u=u+s[c++]|0)|0,--m;);u%=65521,v%=65521}return u|v<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var a=function(){for(var s,o=[],c=0;c<256;c++){s=c;for(var u=0;u<8;u++)s=1&s?3988292384^s>>>1:s>>>1;o[c]=s}return o}();r.exports=function(s,o,c,u){var v=a,m=u+c;s^=-1;for(var h=u;h<m;h++)s=s>>>8^v[255&(s^o[h])];return-1^s}},{}],46:[function(n,r,i){var a,s=n("../utils/common"),o=n("./trees"),c=n("./adler32"),u=n("./crc32"),v=n("./messages"),m=0,h=4,l=0,p=-2,d=-1,b=4,y=2,w=8,k=9,T=286,x=30,O=19,A=2*T+1,P=15,I=3,M=258,z=M+I+1,E=42,R=113,f=1,L=2,j=3,V=4;function Z(g,q){return g.msg=v[q],q}function U(g){return(g<<1)-(4<g?9:0)}function tt(g){for(var q=g.length;0<=--q;)g[q]=0}function N(g){var q=g.state,F=q.pending;F>g.avail_out&&(F=g.avail_out),F!==0&&(s.arraySet(g.output,q.pending_buf,q.pending_out,F,g.next_out),g.next_out+=F,q.pending_out+=F,g.total_out+=F,g.avail_out-=F,q.pending-=F,q.pending===0&&(q.pending_out=0))}function B(g,q){o._tr_flush_block(g,0<=g.block_start?g.block_start:-1,g.strstart-g.block_start,q),g.block_start=g.strstart,N(g.strm)}function ot(g,q){g.pending_buf[g.pending++]=q}function nt(g,q){g.pending_buf[g.pending++]=q>>>8&255,g.pending_buf[g.pending++]=255&q}function J(g,q){var F,S,C=g.max_chain_length,D=g.strstart,G=g.prev_length,Y=g.nice_match,H=g.strstart>g.w_size-z?g.strstart-(g.w_size-z):0,it=g.window,lt=g.w_mask,at=g.prev,ut=g.strstart+M,Ft=it[D+G-1],It=it[D+G];g.prev_length>=g.good_match&&(C>>=2),Y>g.lookahead&&(Y=g.lookahead);do if(it[(F=q)+G]===It&&it[F+G-1]===Ft&&it[F]===it[D]&&it[++F]===it[D+1]){D+=2,F++;do;while(it[++D]===it[++F]&&it[++D]===it[++F]&&it[++D]===it[++F]&&it[++D]===it[++F]&&it[++D]===it[++F]&&it[++D]===it[++F]&&it[++D]===it[++F]&&it[++D]===it[++F]&&D<ut);if(S=M-(ut-D),D=ut-M,G<S){if(g.match_start=q,Y<=(G=S))break;Ft=it[D+G-1],It=it[D+G]}}while((q=at[q&lt])>H&&--C!=0);return G<=g.lookahead?G:g.lookahead}function wt(g){var q,F,S,C,D,G,Y,H,it,lt,at=g.w_size;do{if(C=g.window_size-g.lookahead-g.strstart,g.strstart>=at+(at-z)){for(s.arraySet(g.window,g.window,at,at,0),g.match_start-=at,g.strstart-=at,g.block_start-=at,q=F=g.hash_size;S=g.head[--q],g.head[q]=at<=S?S-at:0,--F;);for(q=F=at;S=g.prev[--q],g.prev[q]=at<=S?S-at:0,--F;);C+=at}if(g.strm.avail_in===0)break;if(G=g.strm,Y=g.window,H=g.strstart+g.lookahead,it=C,lt=void 0,lt=G.avail_in,it<lt&&(lt=it),F=lt===0?0:(G.avail_in-=lt,s.arraySet(Y,G.input,G.next_in,lt,H),G.state.wrap===1?G.adler=c(G.adler,Y,lt,H):G.state.wrap===2&&(G.adler=u(G.adler,Y,lt,H)),G.next_in+=lt,G.total_in+=lt,lt),g.lookahead+=F,g.lookahead+g.insert>=I)for(D=g.strstart-g.insert,g.ins_h=g.window[D],g.ins_h=(g.ins_h<<g.hash_shift^g.window[D+1])&g.hash_mask;g.insert&&(g.ins_h=(g.ins_h<<g.hash_shift^g.window[D+I-1])&g.hash_mask,g.prev[D&g.w_mask]=g.head[g.ins_h],g.head[g.ins_h]=D,D++,g.insert--,!(g.lookahead+g.insert<I)););}while(g.lookahead<z&&g.strm.avail_in!==0)}function St(g,q){for(var F,S;;){if(g.lookahead<z){if(wt(g),g.lookahead<z&&q===m)return f;if(g.lookahead===0)break}if(F=0,g.lookahead>=I&&(g.ins_h=(g.ins_h<<g.hash_shift^g.window[g.strstart+I-1])&g.hash_mask,F=g.prev[g.strstart&g.w_mask]=g.head[g.ins_h],g.head[g.ins_h]=g.strstart),F!==0&&g.strstart-F<=g.w_size-z&&(g.match_length=J(g,F)),g.match_length>=I)if(S=o._tr_tally(g,g.strstart-g.match_start,g.match_length-I),g.lookahead-=g.match_length,g.match_length<=g.max_lazy_match&&g.lookahead>=I){for(g.match_length--;g.strstart++,g.ins_h=(g.ins_h<<g.hash_shift^g.window[g.strstart+I-1])&g.hash_mask,F=g.prev[g.strstart&g.w_mask]=g.head[g.ins_h],g.head[g.ins_h]=g.strstart,--g.match_length!=0;);g.strstart++}else g.strstart+=g.match_length,g.match_length=0,g.ins_h=g.window[g.strstart],g.ins_h=(g.ins_h<<g.hash_shift^g.window[g.strstart+1])&g.hash_mask;else S=o._tr_tally(g,0,g.window[g.strstart]),g.lookahead--,g.strstart++;if(S&&(B(g,!1),g.strm.avail_out===0))return f}return g.insert=g.strstart<I-1?g.strstart:I-1,q===h?(B(g,!0),g.strm.avail_out===0?j:V):g.last_lit&&(B(g,!1),g.strm.avail_out===0)?f:L}function dt(g,q){for(var F,S,C;;){if(g.lookahead<z){if(wt(g),g.lookahead<z&&q===m)return f;if(g.lookahead===0)break}if(F=0,g.lookahead>=I&&(g.ins_h=(g.ins_h<<g.hash_shift^g.window[g.strstart+I-1])&g.hash_mask,F=g.prev[g.strstart&g.w_mask]=g.head[g.ins_h],g.head[g.ins_h]=g.strstart),g.prev_length=g.match_length,g.prev_match=g.match_start,g.match_length=I-1,F!==0&&g.prev_length<g.max_lazy_match&&g.strstart-F<=g.w_size-z&&(g.match_length=J(g,F),g.match_length<=5&&(g.strategy===1||g.match_length===I&&4096<g.strstart-g.match_start)&&(g.match_length=I-1)),g.prev_length>=I&&g.match_length<=g.prev_length){for(C=g.strstart+g.lookahead-I,S=o._tr_tally(g,g.strstart-1-g.prev_match,g.prev_length-I),g.lookahead-=g.prev_length-1,g.prev_length-=2;++g.strstart<=C&&(g.ins_h=(g.ins_h<<g.hash_shift^g.window[g.strstart+I-1])&g.hash_mask,F=g.prev[g.strstart&g.w_mask]=g.head[g.ins_h],g.head[g.ins_h]=g.strstart),--g.prev_length!=0;);if(g.match_available=0,g.match_length=I-1,g.strstart++,S&&(B(g,!1),g.strm.avail_out===0))return f}else if(g.match_available){if((S=o._tr_tally(g,0,g.window[g.strstart-1]))&&B(g,!1),g.strstart++,g.lookahead--,g.strm.avail_out===0)return f}else g.match_available=1,g.strstart++,g.lookahead--}return g.match_available&&(S=o._tr_tally(g,0,g.window[g.strstart-1]),g.match_available=0),g.insert=g.strstart<I-1?g.strstart:I-1,q===h?(B(g,!0),g.strm.avail_out===0?j:V):g.last_lit&&(B(g,!1),g.strm.avail_out===0)?f:L}function xt(g,q,F,S,C){this.good_length=g,this.max_lazy=q,this.nice_length=F,this.max_chain=S,this.func=C}function ht(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=w,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*A),this.dyn_dtree=new s.Buf16(2*(2*x+1)),this.bl_tree=new s.Buf16(2*(2*O+1)),tt(this.dyn_ltree),tt(this.dyn_dtree),tt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(P+1),this.heap=new s.Buf16(2*T+1),tt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*T+1),tt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ct(g){var q;return g&&g.state?(g.total_in=g.total_out=0,g.data_type=y,(q=g.state).pending=0,q.pending_out=0,q.wrap<0&&(q.wrap=-q.wrap),q.status=q.wrap?E:R,g.adler=q.wrap===2?0:1,q.last_flush=m,o._tr_init(q),l):Z(g,p)}function Mt(g){var q=Ct(g);return q===l&&function(F){F.window_size=2*F.w_size,tt(F.head),F.max_lazy_match=a[F.level].max_lazy,F.good_match=a[F.level].good_length,F.nice_match=a[F.level].nice_length,F.max_chain_length=a[F.level].max_chain,F.strstart=0,F.block_start=0,F.lookahead=0,F.insert=0,F.match_length=F.prev_length=I-1,F.match_available=0,F.ins_h=0}(g.state),q}function Bt(g,q,F,S,C,D){if(!g)return p;var G=1;if(q===d&&(q=6),S<0?(G=0,S=-S):15<S&&(G=2,S-=16),C<1||k<C||F!==w||S<8||15<S||q<0||9<q||D<0||b<D)return Z(g,p);S===8&&(S=9);var Y=new ht;return(g.state=Y).strm=g,Y.wrap=G,Y.gzhead=null,Y.w_bits=S,Y.w_size=1<<Y.w_bits,Y.w_mask=Y.w_size-1,Y.hash_bits=C+7,Y.hash_size=1<<Y.hash_bits,Y.hash_mask=Y.hash_size-1,Y.hash_shift=~~((Y.hash_bits+I-1)/I),Y.window=new s.Buf8(2*Y.w_size),Y.head=new s.Buf16(Y.hash_size),Y.prev=new s.Buf16(Y.w_size),Y.lit_bufsize=1<<C+6,Y.pending_buf_size=4*Y.lit_bufsize,Y.pending_buf=new s.Buf8(Y.pending_buf_size),Y.d_buf=1*Y.lit_bufsize,Y.l_buf=3*Y.lit_bufsize,Y.level=q,Y.strategy=D,Y.method=F,Mt(g)}a=[new xt(0,0,0,0,function(g,q){var F=65535;for(F>g.pending_buf_size-5&&(F=g.pending_buf_size-5);;){if(g.lookahead<=1){if(wt(g),g.lookahead===0&&q===m)return f;if(g.lookahead===0)break}g.strstart+=g.lookahead,g.lookahead=0;var S=g.block_start+F;if((g.strstart===0||g.strstart>=S)&&(g.lookahead=g.strstart-S,g.strstart=S,B(g,!1),g.strm.avail_out===0)||g.strstart-g.block_start>=g.w_size-z&&(B(g,!1),g.strm.avail_out===0))return f}return g.insert=0,q===h?(B(g,!0),g.strm.avail_out===0?j:V):(g.strstart>g.block_start&&(B(g,!1),g.strm.avail_out),f)}),new xt(4,4,8,4,St),new xt(4,5,16,8,St),new xt(4,6,32,32,St),new xt(4,4,16,16,dt),new xt(8,16,32,32,dt),new xt(8,16,128,128,dt),new xt(8,32,128,256,dt),new xt(32,128,258,1024,dt),new xt(32,258,258,4096,dt)],i.deflateInit=function(g,q){return Bt(g,q,w,15,8,0)},i.deflateInit2=Bt,i.deflateReset=Mt,i.deflateResetKeep=Ct,i.deflateSetHeader=function(g,q){return g&&g.state?g.state.wrap!==2?p:(g.state.gzhead=q,l):p},i.deflate=function(g,q){var F,S,C,D;if(!g||!g.state||5<q||q<0)return g?Z(g,p):p;if(S=g.state,!g.output||!g.input&&g.avail_in!==0||S.status===666&&q!==h)return Z(g,g.avail_out===0?-5:p);if(S.strm=g,F=S.last_flush,S.last_flush=q,S.status===E)if(S.wrap===2)g.adler=0,ot(S,31),ot(S,139),ot(S,8),S.gzhead?(ot(S,(S.gzhead.text?1:0)+(S.gzhead.hcrc?2:0)+(S.gzhead.extra?4:0)+(S.gzhead.name?8:0)+(S.gzhead.comment?16:0)),ot(S,255&S.gzhead.time),ot(S,S.gzhead.time>>8&255),ot(S,S.gzhead.time>>16&255),ot(S,S.gzhead.time>>24&255),ot(S,S.level===9?2:2<=S.strategy||S.level<2?4:0),ot(S,255&S.gzhead.os),S.gzhead.extra&&S.gzhead.extra.length&&(ot(S,255&S.gzhead.extra.length),ot(S,S.gzhead.extra.length>>8&255)),S.gzhead.hcrc&&(g.adler=u(g.adler,S.pending_buf,S.pending,0)),S.gzindex=0,S.status=69):(ot(S,0),ot(S,0),ot(S,0),ot(S,0),ot(S,0),ot(S,S.level===9?2:2<=S.strategy||S.level<2?4:0),ot(S,3),S.status=R);else{var G=w+(S.w_bits-8<<4)<<8;G|=(2<=S.strategy||S.level<2?0:S.level<6?1:S.level===6?2:3)<<6,S.strstart!==0&&(G|=32),G+=31-G%31,S.status=R,nt(S,G),S.strstart!==0&&(nt(S,g.adler>>>16),nt(S,65535&g.adler)),g.adler=1}if(S.status===69)if(S.gzhead.extra){for(C=S.pending;S.gzindex<(65535&S.gzhead.extra.length)&&(S.pending!==S.pending_buf_size||(S.gzhead.hcrc&&S.pending>C&&(g.adler=u(g.adler,S.pending_buf,S.pending-C,C)),N(g),C=S.pending,S.pending!==S.pending_buf_size));)ot(S,255&S.gzhead.extra[S.gzindex]),S.gzindex++;S.gzhead.hcrc&&S.pending>C&&(g.adler=u(g.adler,S.pending_buf,S.pending-C,C)),S.gzindex===S.gzhead.extra.length&&(S.gzindex=0,S.status=73)}else S.status=73;if(S.status===73)if(S.gzhead.name){C=S.pending;do{if(S.pending===S.pending_buf_size&&(S.gzhead.hcrc&&S.pending>C&&(g.adler=u(g.adler,S.pending_buf,S.pending-C,C)),N(g),C=S.pending,S.pending===S.pending_buf_size)){D=1;break}D=S.gzindex<S.gzhead.name.length?255&S.gzhead.name.charCodeAt(S.gzindex++):0,ot(S,D)}while(D!==0);S.gzhead.hcrc&&S.pending>C&&(g.adler=u(g.adler,S.pending_buf,S.pending-C,C)),D===0&&(S.gzindex=0,S.status=91)}else S.status=91;if(S.status===91)if(S.gzhead.comment){C=S.pending;do{if(S.pending===S.pending_buf_size&&(S.gzhead.hcrc&&S.pending>C&&(g.adler=u(g.adler,S.pending_buf,S.pending-C,C)),N(g),C=S.pending,S.pending===S.pending_buf_size)){D=1;break}D=S.gzindex<S.gzhead.comment.length?255&S.gzhead.comment.charCodeAt(S.gzindex++):0,ot(S,D)}while(D!==0);S.gzhead.hcrc&&S.pending>C&&(g.adler=u(g.adler,S.pending_buf,S.pending-C,C)),D===0&&(S.status=103)}else S.status=103;if(S.status===103&&(S.gzhead.hcrc?(S.pending+2>S.pending_buf_size&&N(g),S.pending+2<=S.pending_buf_size&&(ot(S,255&g.adler),ot(S,g.adler>>8&255),g.adler=0,S.status=R)):S.status=R),S.pending!==0){if(N(g),g.avail_out===0)return S.last_flush=-1,l}else if(g.avail_in===0&&U(q)<=U(F)&&q!==h)return Z(g,-5);if(S.status===666&&g.avail_in!==0)return Z(g,-5);if(g.avail_in!==0||S.lookahead!==0||q!==m&&S.status!==666){var Y=S.strategy===2?function(H,it){for(var lt;;){if(H.lookahead===0&&(wt(H),H.lookahead===0)){if(it===m)return f;break}if(H.match_length=0,lt=o._tr_tally(H,0,H.window[H.strstart]),H.lookahead--,H.strstart++,lt&&(B(H,!1),H.strm.avail_out===0))return f}return H.insert=0,it===h?(B(H,!0),H.strm.avail_out===0?j:V):H.last_lit&&(B(H,!1),H.strm.avail_out===0)?f:L}(S,q):S.strategy===3?function(H,it){for(var lt,at,ut,Ft,It=H.window;;){if(H.lookahead<=M){if(wt(H),H.lookahead<=M&&it===m)return f;if(H.lookahead===0)break}if(H.match_length=0,H.lookahead>=I&&0<H.strstart&&(at=It[ut=H.strstart-1])===It[++ut]&&at===It[++ut]&&at===It[++ut]){Ft=H.strstart+M;do;while(at===It[++ut]&&at===It[++ut]&&at===It[++ut]&&at===It[++ut]&&at===It[++ut]&&at===It[++ut]&&at===It[++ut]&&at===It[++ut]&&ut<Ft);H.match_length=M-(Ft-ut),H.match_length>H.lookahead&&(H.match_length=H.lookahead)}if(H.match_length>=I?(lt=o._tr_tally(H,1,H.match_length-I),H.lookahead-=H.match_length,H.strstart+=H.match_length,H.match_length=0):(lt=o._tr_tally(H,0,H.window[H.strstart]),H.lookahead--,H.strstart++),lt&&(B(H,!1),H.strm.avail_out===0))return f}return H.insert=0,it===h?(B(H,!0),H.strm.avail_out===0?j:V):H.last_lit&&(B(H,!1),H.strm.avail_out===0)?f:L}(S,q):a[S.level].func(S,q);if(Y!==j&&Y!==V||(S.status=666),Y===f||Y===j)return g.avail_out===0&&(S.last_flush=-1),l;if(Y===L&&(q===1?o._tr_align(S):q!==5&&(o._tr_stored_block(S,0,0,!1),q===3&&(tt(S.head),S.lookahead===0&&(S.strstart=0,S.block_start=0,S.insert=0))),N(g),g.avail_out===0))return S.last_flush=-1,l}return q!==h?l:S.wrap<=0?1:(S.wrap===2?(ot(S,255&g.adler),ot(S,g.adler>>8&255),ot(S,g.adler>>16&255),ot(S,g.adler>>24&255),ot(S,255&g.total_in),ot(S,g.total_in>>8&255),ot(S,g.total_in>>16&255),ot(S,g.total_in>>24&255)):(nt(S,g.adler>>>16),nt(S,65535&g.adler)),N(g),0<S.wrap&&(S.wrap=-S.wrap),S.pending!==0?l:1)},i.deflateEnd=function(g){var q;return g&&g.state?(q=g.state.status)!==E&&q!==69&&q!==73&&q!==91&&q!==103&&q!==R&&q!==666?Z(g,p):(g.state=null,q===R?Z(g,-3):l):p},i.deflateSetDictionary=function(g,q){var F,S,C,D,G,Y,H,it,lt=q.length;if(!g||!g.state||(D=(F=g.state).wrap)===2||D===1&&F.status!==E||F.lookahead)return p;for(D===1&&(g.adler=c(g.adler,q,lt,0)),F.wrap=0,lt>=F.w_size&&(D===0&&(tt(F.head),F.strstart=0,F.block_start=0,F.insert=0),it=new s.Buf8(F.w_size),s.arraySet(it,q,lt-F.w_size,F.w_size,0),q=it,lt=F.w_size),G=g.avail_in,Y=g.next_in,H=g.input,g.avail_in=lt,g.next_in=0,g.input=q,wt(F);F.lookahead>=I;){for(S=F.strstart,C=F.lookahead-(I-1);F.ins_h=(F.ins_h<<F.hash_shift^F.window[S+I-1])&F.hash_mask,F.prev[S&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=S,S++,--C;);F.strstart=S,F.lookahead=I-1,wt(F)}return F.strstart+=F.lookahead,F.block_start=F.strstart,F.insert=F.lookahead,F.lookahead=0,F.match_length=F.prev_length=I-1,F.match_available=0,g.next_in=Y,g.input=H,g.avail_in=G,F.wrap=D,l},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(a,s){var o,c,u,v,m,h,l,p,d,b,y,w,k,T,x,O,A,P,I,M,z,E,R,f,L;o=a.state,c=a.next_in,f=a.input,u=c+(a.avail_in-5),v=a.next_out,L=a.output,m=v-(s-a.avail_out),h=v+(a.avail_out-257),l=o.dmax,p=o.wsize,d=o.whave,b=o.wnext,y=o.window,w=o.hold,k=o.bits,T=o.lencode,x=o.distcode,O=(1<<o.lenbits)-1,A=(1<<o.distbits)-1;t:do{k<15&&(w+=f[c++]<<k,k+=8,w+=f[c++]<<k,k+=8),P=T[w&O];e:for(;;){if(w>>>=I=P>>>24,k-=I,(I=P>>>16&255)===0)L[v++]=65535&P;else{if(!(16&I)){if((64&I)==0){P=T[(65535&P)+(w&(1<<I)-1)];continue e}if(32&I){o.mode=12;break t}a.msg="invalid literal/length code",o.mode=30;break t}M=65535&P,(I&=15)&&(k<I&&(w+=f[c++]<<k,k+=8),M+=w&(1<<I)-1,w>>>=I,k-=I),k<15&&(w+=f[c++]<<k,k+=8,w+=f[c++]<<k,k+=8),P=x[w&A];n:for(;;){if(w>>>=I=P>>>24,k-=I,!(16&(I=P>>>16&255))){if((64&I)==0){P=x[(65535&P)+(w&(1<<I)-1)];continue n}a.msg="invalid distance code",o.mode=30;break t}if(z=65535&P,k<(I&=15)&&(w+=f[c++]<<k,(k+=8)<I&&(w+=f[c++]<<k,k+=8)),l<(z+=w&(1<<I)-1)){a.msg="invalid distance too far back",o.mode=30;break t}if(w>>>=I,k-=I,(I=v-m)<z){if(d<(I=z-I)&&o.sane){a.msg="invalid distance too far back",o.mode=30;break t}if(R=y,(E=0)===b){if(E+=p-I,I<M){for(M-=I;L[v++]=y[E++],--I;);E=v-z,R=L}}else if(b<I){if(E+=p+b-I,(I-=b)<M){for(M-=I;L[v++]=y[E++],--I;);if(E=0,b<M){for(M-=I=b;L[v++]=y[E++],--I;);E=v-z,R=L}}}else if(E+=b-I,I<M){for(M-=I;L[v++]=y[E++],--I;);E=v-z,R=L}for(;2<M;)L[v++]=R[E++],L[v++]=R[E++],L[v++]=R[E++],M-=3;M&&(L[v++]=R[E++],1<M&&(L[v++]=R[E++]))}else{for(E=v-z;L[v++]=L[E++],L[v++]=L[E++],L[v++]=L[E++],2<(M-=3););M&&(L[v++]=L[E++],1<M&&(L[v++]=L[E++]))}break}}break}}while(c<u&&v<h);c-=M=k>>3,w&=(1<<(k-=M<<3))-1,a.next_in=c,a.next_out=v,a.avail_in=c<u?u-c+5:5-(c-u),a.avail_out=v<h?h-v+257:257-(v-h),o.hold=w,o.bits=k}},{}],49:[function(n,r,i){var a=n("../utils/common"),s=n("./adler32"),o=n("./crc32"),c=n("./inffast"),u=n("./inftrees"),v=1,m=2,h=0,l=-2,p=1,d=852,b=592;function y(E){return(E>>>24&255)+(E>>>8&65280)+((65280&E)<<8)+((255&E)<<24)}function w(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function k(E){var R;return E&&E.state?(R=E.state,E.total_in=E.total_out=R.total=0,E.msg="",R.wrap&&(E.adler=1&R.wrap),R.mode=p,R.last=0,R.havedict=0,R.dmax=32768,R.head=null,R.hold=0,R.bits=0,R.lencode=R.lendyn=new a.Buf32(d),R.distcode=R.distdyn=new a.Buf32(b),R.sane=1,R.back=-1,h):l}function T(E){var R;return E&&E.state?((R=E.state).wsize=0,R.whave=0,R.wnext=0,k(E)):l}function x(E,R){var f,L;return E&&E.state?(L=E.state,R<0?(f=0,R=-R):(f=1+(R>>4),R<48&&(R&=15)),R&&(R<8||15<R)?l:(L.window!==null&&L.wbits!==R&&(L.window=null),L.wrap=f,L.wbits=R,T(E))):l}function O(E,R){var f,L;return E?(L=new w,(E.state=L).window=null,(f=x(E,R))!==h&&(E.state=null),f):l}var A,P,I=!0;function M(E){if(I){var R;for(A=new a.Buf32(512),P=new a.Buf32(32),R=0;R<144;)E.lens[R++]=8;for(;R<256;)E.lens[R++]=9;for(;R<280;)E.lens[R++]=7;for(;R<288;)E.lens[R++]=8;for(u(v,E.lens,0,288,A,0,E.work,{bits:9}),R=0;R<32;)E.lens[R++]=5;u(m,E.lens,0,32,P,0,E.work,{bits:5}),I=!1}E.lencode=A,E.lenbits=9,E.distcode=P,E.distbits=5}function z(E,R,f,L){var j,V=E.state;return V.window===null&&(V.wsize=1<<V.wbits,V.wnext=0,V.whave=0,V.window=new a.Buf8(V.wsize)),L>=V.wsize?(a.arraySet(V.window,R,f-V.wsize,V.wsize,0),V.wnext=0,V.whave=V.wsize):(L<(j=V.wsize-V.wnext)&&(j=L),a.arraySet(V.window,R,f-L,j,V.wnext),(L-=j)?(a.arraySet(V.window,R,f-L,L,0),V.wnext=L,V.whave=V.wsize):(V.wnext+=j,V.wnext===V.wsize&&(V.wnext=0),V.whave<V.wsize&&(V.whave+=j))),0}i.inflateReset=T,i.inflateReset2=x,i.inflateResetKeep=k,i.inflateInit=function(E){return O(E,15)},i.inflateInit2=O,i.inflate=function(E,R){var f,L,j,V,Z,U,tt,N,B,ot,nt,J,wt,St,dt,xt,ht,Ct,Mt,Bt,g,q,F,S,C=0,D=new a.Buf8(4),G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!E||!E.state||!E.output||!E.input&&E.avail_in!==0)return l;(f=E.state).mode===12&&(f.mode=13),Z=E.next_out,j=E.output,tt=E.avail_out,V=E.next_in,L=E.input,U=E.avail_in,N=f.hold,B=f.bits,ot=U,nt=tt,q=h;t:for(;;)switch(f.mode){case p:if(f.wrap===0){f.mode=13;break}for(;B<16;){if(U===0)break t;U--,N+=L[V++]<<B,B+=8}if(2&f.wrap&&N===35615){D[f.check=0]=255&N,D[1]=N>>>8&255,f.check=o(f.check,D,2,0),B=N=0,f.mode=2;break}if(f.flags=0,f.head&&(f.head.done=!1),!(1&f.wrap)||(((255&N)<<8)+(N>>8))%31){E.msg="incorrect header check",f.mode=30;break}if((15&N)!=8){E.msg="unknown compression method",f.mode=30;break}if(B-=4,g=8+(15&(N>>>=4)),f.wbits===0)f.wbits=g;else if(g>f.wbits){E.msg="invalid window size",f.mode=30;break}f.dmax=1<<g,E.adler=f.check=1,f.mode=512&N?10:12,B=N=0;break;case 2:for(;B<16;){if(U===0)break t;U--,N+=L[V++]<<B,B+=8}if(f.flags=N,(255&f.flags)!=8){E.msg="unknown compression method",f.mode=30;break}if(57344&f.flags){E.msg="unknown header flags set",f.mode=30;break}f.head&&(f.head.text=N>>8&1),512&f.flags&&(D[0]=255&N,D[1]=N>>>8&255,f.check=o(f.check,D,2,0)),B=N=0,f.mode=3;case 3:for(;B<32;){if(U===0)break t;U--,N+=L[V++]<<B,B+=8}f.head&&(f.head.time=N),512&f.flags&&(D[0]=255&N,D[1]=N>>>8&255,D[2]=N>>>16&255,D[3]=N>>>24&255,f.check=o(f.check,D,4,0)),B=N=0,f.mode=4;case 4:for(;B<16;){if(U===0)break t;U--,N+=L[V++]<<B,B+=8}f.head&&(f.head.xflags=255&N,f.head.os=N>>8),512&f.flags&&(D[0]=255&N,D[1]=N>>>8&255,f.check=o(f.check,D,2,0)),B=N=0,f.mode=5;case 5:if(1024&f.flags){for(;B<16;){if(U===0)break t;U--,N+=L[V++]<<B,B+=8}f.length=N,f.head&&(f.head.extra_len=N),512&f.flags&&(D[0]=255&N,D[1]=N>>>8&255,f.check=o(f.check,D,2,0)),B=N=0}else f.head&&(f.head.extra=null);f.mode=6;case 6:if(1024&f.flags&&(U<(J=f.length)&&(J=U),J&&(f.head&&(g=f.head.extra_len-f.length,f.head.extra||(f.head.extra=new Array(f.head.extra_len)),a.arraySet(f.head.extra,L,V,J,g)),512&f.flags&&(f.check=o(f.check,L,J,V)),U-=J,V+=J,f.length-=J),f.length))break t;f.length=0,f.mode=7;case 7:if(2048&f.flags){if(U===0)break t;for(J=0;g=L[V+J++],f.head&&g&&f.length<65536&&(f.head.name+=String.fromCharCode(g)),g&&J<U;);if(512&f.flags&&(f.check=o(f.check,L,J,V)),U-=J,V+=J,g)break t}else f.head&&(f.head.name=null);f.length=0,f.mode=8;case 8:if(4096&f.flags){if(U===0)break t;for(J=0;g=L[V+J++],f.head&&g&&f.length<65536&&(f.head.comment+=String.fromCharCode(g)),g&&J<U;);if(512&f.flags&&(f.check=o(f.check,L,J,V)),U-=J,V+=J,g)break t}else f.head&&(f.head.comment=null);f.mode=9;case 9:if(512&f.flags){for(;B<16;){if(U===0)break t;U--,N+=L[V++]<<B,B+=8}if(N!==(65535&f.check)){E.msg="header crc mismatch",f.mode=30;break}B=N=0}f.head&&(f.head.hcrc=f.flags>>9&1,f.head.done=!0),E.adler=f.check=0,f.mode=12;break;case 10:for(;B<32;){if(U===0)break t;U--,N+=L[V++]<<B,B+=8}E.adler=f.check=y(N),B=N=0,f.mode=11;case 11:if(f.havedict===0)return E.next_out=Z,E.avail_out=tt,E.next_in=V,E.avail_in=U,f.hold=N,f.bits=B,2;E.adler=f.check=1,f.mode=12;case 12:if(R===5||R===6)break t;case 13:if(f.last){N>>>=7&B,B-=7&B,f.mode=27;break}for(;B<3;){if(U===0)break t;U--,N+=L[V++]<<B,B+=8}switch(f.last=1&N,B-=1,3&(N>>>=1)){case 0:f.mode=14;break;case 1:if(M(f),f.mode=20,R!==6)break;N>>>=2,B-=2;break t;case 2:f.mode=17;break;case 3:E.msg="invalid block type",f.mode=30}N>>>=2,B-=2;break;case 14:for(N>>>=7&B,B-=7&B;B<32;){if(U===0)break t;U--,N+=L[V++]<<B,B+=8}if((65535&N)!=(N>>>16^65535)){E.msg="invalid stored block lengths",f.mode=30;break}if(f.length=65535&N,B=N=0,f.mode=15,R===6)break t;case 15:f.mode=16;case 16:if(J=f.length){if(U<J&&(J=U),tt<J&&(J=tt),J===0)break t;a.arraySet(j,L,V,J,Z),U-=J,V+=J,tt-=J,Z+=J,f.length-=J;break}f.mode=12;break;case 17:for(;B<14;){if(U===0)break t;U--,N+=L[V++]<<B,B+=8}if(f.nlen=257+(31&N),N>>>=5,B-=5,f.ndist=1+(31&N),N>>>=5,B-=5,f.ncode=4+(15&N),N>>>=4,B-=4,286<f.nlen||30<f.ndist){E.msg="too many length or distance symbols",f.mode=30;break}f.have=0,f.mode=18;case 18:for(;f.have<f.ncode;){for(;B<3;){if(U===0)break t;U--,N+=L[V++]<<B,B+=8}f.lens[G[f.have++]]=7&N,N>>>=3,B-=3}for(;f.have<19;)f.lens[G[f.have++]]=0;if(f.lencode=f.lendyn,f.lenbits=7,F={bits:f.lenbits},q=u(0,f.lens,0,19,f.lencode,0,f.work,F),f.lenbits=F.bits,q){E.msg="invalid code lengths set",f.mode=30;break}f.have=0,f.mode=19;case 19:for(;f.have<f.nlen+f.ndist;){for(;xt=(C=f.lencode[N&(1<<f.lenbits)-1])>>>16&255,ht=65535&C,!((dt=C>>>24)<=B);){if(U===0)break t;U--,N+=L[V++]<<B,B+=8}if(ht<16)N>>>=dt,B-=dt,f.lens[f.have++]=ht;else{if(ht===16){for(S=dt+2;B<S;){if(U===0)break t;U--,N+=L[V++]<<B,B+=8}if(N>>>=dt,B-=dt,f.have===0){E.msg="invalid bit length repeat",f.mode=30;break}g=f.lens[f.have-1],J=3+(3&N),N>>>=2,B-=2}else if(ht===17){for(S=dt+3;B<S;){if(U===0)break t;U--,N+=L[V++]<<B,B+=8}B-=dt,g=0,J=3+(7&(N>>>=dt)),N>>>=3,B-=3}else{for(S=dt+7;B<S;){if(U===0)break t;U--,N+=L[V++]<<B,B+=8}B-=dt,g=0,J=11+(127&(N>>>=dt)),N>>>=7,B-=7}if(f.have+J>f.nlen+f.ndist){E.msg="invalid bit length repeat",f.mode=30;break}for(;J--;)f.lens[f.have++]=g}}if(f.mode===30)break;if(f.lens[256]===0){E.msg="invalid code -- missing end-of-block",f.mode=30;break}if(f.lenbits=9,F={bits:f.lenbits},q=u(v,f.lens,0,f.nlen,f.lencode,0,f.work,F),f.lenbits=F.bits,q){E.msg="invalid literal/lengths set",f.mode=30;break}if(f.distbits=6,f.distcode=f.distdyn,F={bits:f.distbits},q=u(m,f.lens,f.nlen,f.ndist,f.distcode,0,f.work,F),f.distbits=F.bits,q){E.msg="invalid distances set",f.mode=30;break}if(f.mode=20,R===6)break t;case 20:f.mode=21;case 21:if(6<=U&&258<=tt){E.next_out=Z,E.avail_out=tt,E.next_in=V,E.avail_in=U,f.hold=N,f.bits=B,c(E,nt),Z=E.next_out,j=E.output,tt=E.avail_out,V=E.next_in,L=E.input,U=E.avail_in,N=f.hold,B=f.bits,f.mode===12&&(f.back=-1);break}for(f.back=0;xt=(C=f.lencode[N&(1<<f.lenbits)-1])>>>16&255,ht=65535&C,!((dt=C>>>24)<=B);){if(U===0)break t;U--,N+=L[V++]<<B,B+=8}if(xt&&(240&xt)==0){for(Ct=dt,Mt=xt,Bt=ht;xt=(C=f.lencode[Bt+((N&(1<<Ct+Mt)-1)>>Ct)])>>>16&255,ht=65535&C,!(Ct+(dt=C>>>24)<=B);){if(U===0)break t;U--,N+=L[V++]<<B,B+=8}N>>>=Ct,B-=Ct,f.back+=Ct}if(N>>>=dt,B-=dt,f.back+=dt,f.length=ht,xt===0){f.mode=26;break}if(32&xt){f.back=-1,f.mode=12;break}if(64&xt){E.msg="invalid literal/length code",f.mode=30;break}f.extra=15&xt,f.mode=22;case 22:if(f.extra){for(S=f.extra;B<S;){if(U===0)break t;U--,N+=L[V++]<<B,B+=8}f.length+=N&(1<<f.extra)-1,N>>>=f.extra,B-=f.extra,f.back+=f.extra}f.was=f.length,f.mode=23;case 23:for(;xt=(C=f.distcode[N&(1<<f.distbits)-1])>>>16&255,ht=65535&C,!((dt=C>>>24)<=B);){if(U===0)break t;U--,N+=L[V++]<<B,B+=8}if((240&xt)==0){for(Ct=dt,Mt=xt,Bt=ht;xt=(C=f.distcode[Bt+((N&(1<<Ct+Mt)-1)>>Ct)])>>>16&255,ht=65535&C,!(Ct+(dt=C>>>24)<=B);){if(U===0)break t;U--,N+=L[V++]<<B,B+=8}N>>>=Ct,B-=Ct,f.back+=Ct}if(N>>>=dt,B-=dt,f.back+=dt,64&xt){E.msg="invalid distance code",f.mode=30;break}f.offset=ht,f.extra=15&xt,f.mode=24;case 24:if(f.extra){for(S=f.extra;B<S;){if(U===0)break t;U--,N+=L[V++]<<B,B+=8}f.offset+=N&(1<<f.extra)-1,N>>>=f.extra,B-=f.extra,f.back+=f.extra}if(f.offset>f.dmax){E.msg="invalid distance too far back",f.mode=30;break}f.mode=25;case 25:if(tt===0)break t;if(J=nt-tt,f.offset>J){if((J=f.offset-J)>f.whave&&f.sane){E.msg="invalid distance too far back",f.mode=30;break}wt=J>f.wnext?(J-=f.wnext,f.wsize-J):f.wnext-J,J>f.length&&(J=f.length),St=f.window}else St=j,wt=Z-f.offset,J=f.length;for(tt<J&&(J=tt),tt-=J,f.length-=J;j[Z++]=St[wt++],--J;);f.length===0&&(f.mode=21);break;case 26:if(tt===0)break t;j[Z++]=f.length,tt--,f.mode=21;break;case 27:if(f.wrap){for(;B<32;){if(U===0)break t;U--,N|=L[V++]<<B,B+=8}if(nt-=tt,E.total_out+=nt,f.total+=nt,nt&&(E.adler=f.check=f.flags?o(f.check,j,nt,Z-nt):s(f.check,j,nt,Z-nt)),nt=tt,(f.flags?N:y(N))!==f.check){E.msg="incorrect data check",f.mode=30;break}B=N=0}f.mode=28;case 28:if(f.wrap&&f.flags){for(;B<32;){if(U===0)break t;U--,N+=L[V++]<<B,B+=8}if(N!==(4294967295&f.total)){E.msg="incorrect length check",f.mode=30;break}B=N=0}f.mode=29;case 29:q=1;break t;case 30:q=-3;break t;case 31:return-4;case 32:default:return l}return E.next_out=Z,E.avail_out=tt,E.next_in=V,E.avail_in=U,f.hold=N,f.bits=B,(f.wsize||nt!==E.avail_out&&f.mode<30&&(f.mode<27||R!==4))&&z(E,E.output,E.next_out,nt-E.avail_out)?(f.mode=31,-4):(ot-=E.avail_in,nt-=E.avail_out,E.total_in+=ot,E.total_out+=nt,f.total+=nt,f.wrap&&nt&&(E.adler=f.check=f.flags?o(f.check,j,nt,E.next_out-nt):s(f.check,j,nt,E.next_out-nt)),E.data_type=f.bits+(f.last?64:0)+(f.mode===12?128:0)+(f.mode===20||f.mode===15?256:0),(ot==0&&nt===0||R===4)&&q===h&&(q=-5),q)},i.inflateEnd=function(E){if(!E||!E.state)return l;var R=E.state;return R.window&&(R.window=null),E.state=null,h},i.inflateGetHeader=function(E,R){var f;return E&&E.state?(2&(f=E.state).wrap)==0?l:((f.head=R).done=!1,h):l},i.inflateSetDictionary=function(E,R){var f,L=R.length;return E&&E.state?(f=E.state).wrap!==0&&f.mode!==11?l:f.mode===11&&s(1,R,L,0)!==f.check?-3:z(E,R,L,L)?(f.mode=31,-4):(f.havedict=1,h):l},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var a=n("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],u=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(v,m,h,l,p,d,b,y){var w,k,T,x,O,A,P,I,M,z=y.bits,E=0,R=0,f=0,L=0,j=0,V=0,Z=0,U=0,tt=0,N=0,B=null,ot=0,nt=new a.Buf16(16),J=new a.Buf16(16),wt=null,St=0;for(E=0;E<=15;E++)nt[E]=0;for(R=0;R<l;R++)nt[m[h+R]]++;for(j=z,L=15;1<=L&&nt[L]===0;L--);if(L<j&&(j=L),L===0)return p[d++]=20971520,p[d++]=20971520,y.bits=1,0;for(f=1;f<L&&nt[f]===0;f++);for(j<f&&(j=f),E=U=1;E<=15;E++)if(U<<=1,(U-=nt[E])<0)return-1;if(0<U&&(v===0||L!==1))return-1;for(J[1]=0,E=1;E<15;E++)J[E+1]=J[E]+nt[E];for(R=0;R<l;R++)m[h+R]!==0&&(b[J[m[h+R]]++]=R);if(A=v===0?(B=wt=b,19):v===1?(B=s,ot-=257,wt=o,St-=257,256):(B=c,wt=u,-1),E=f,O=d,Z=R=N=0,T=-1,x=(tt=1<<(V=j))-1,v===1&&852<tt||v===2&&592<tt)return 1;for(;;){for(P=E-Z,M=b[R]<A?(I=0,b[R]):b[R]>A?(I=wt[St+b[R]],B[ot+b[R]]):(I=96,0),w=1<<E-Z,f=k=1<<V;p[O+(N>>Z)+(k-=w)]=P<<24|I<<16|M|0,k!==0;);for(w=1<<E-1;N&w;)w>>=1;if(w!==0?(N&=w-1,N+=w):N=0,R++,--nt[E]==0){if(E===L)break;E=m[h+b[R]]}if(j<E&&(N&x)!==T){for(Z===0&&(Z=j),O+=f,U=1<<(V=E-Z);V+Z<L&&!((U-=nt[V+Z])<=0);)V++,U<<=1;if(tt+=1<<V,v===1&&852<tt||v===2&&592<tt)return 1;p[T=N&x]=j<<24|V<<16|O-d|0}}return N!==0&&(p[O+N]=E-Z<<24|64<<16|0),y.bits=j,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var a=n("../utils/common"),s=0,o=1;function c(C){for(var D=C.length;0<=--D;)C[D]=0}var u=0,v=29,m=256,h=m+1+v,l=30,p=19,d=2*h+1,b=15,y=16,w=7,k=256,T=16,x=17,O=18,A=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],P=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],I=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],z=new Array(2*(h+2));c(z);var E=new Array(2*l);c(E);var R=new Array(512);c(R);var f=new Array(256);c(f);var L=new Array(v);c(L);var j,V,Z,U=new Array(l);function tt(C,D,G,Y,H){this.static_tree=C,this.extra_bits=D,this.extra_base=G,this.elems=Y,this.max_length=H,this.has_stree=C&&C.length}function N(C,D){this.dyn_tree=C,this.max_code=0,this.stat_desc=D}function B(C){return C<256?R[C]:R[256+(C>>>7)]}function ot(C,D){C.pending_buf[C.pending++]=255&D,C.pending_buf[C.pending++]=D>>>8&255}function nt(C,D,G){C.bi_valid>y-G?(C.bi_buf|=D<<C.bi_valid&65535,ot(C,C.bi_buf),C.bi_buf=D>>y-C.bi_valid,C.bi_valid+=G-y):(C.bi_buf|=D<<C.bi_valid&65535,C.bi_valid+=G)}function J(C,D,G){nt(C,G[2*D],G[2*D+1])}function wt(C,D){for(var G=0;G|=1&C,C>>>=1,G<<=1,0<--D;);return G>>>1}function St(C,D,G){var Y,H,it=new Array(b+1),lt=0;for(Y=1;Y<=b;Y++)it[Y]=lt=lt+G[Y-1]<<1;for(H=0;H<=D;H++){var at=C[2*H+1];at!==0&&(C[2*H]=wt(it[at]++,at))}}function dt(C){var D;for(D=0;D<h;D++)C.dyn_ltree[2*D]=0;for(D=0;D<l;D++)C.dyn_dtree[2*D]=0;for(D=0;D<p;D++)C.bl_tree[2*D]=0;C.dyn_ltree[2*k]=1,C.opt_len=C.static_len=0,C.last_lit=C.matches=0}function xt(C){8<C.bi_valid?ot(C,C.bi_buf):0<C.bi_valid&&(C.pending_buf[C.pending++]=C.bi_buf),C.bi_buf=0,C.bi_valid=0}function ht(C,D,G,Y){var H=2*D,it=2*G;return C[H]<C[it]||C[H]===C[it]&&Y[D]<=Y[G]}function Ct(C,D,G){for(var Y=C.heap[G],H=G<<1;H<=C.heap_len&&(H<C.heap_len&&ht(D,C.heap[H+1],C.heap[H],C.depth)&&H++,!ht(D,Y,C.heap[H],C.depth));)C.heap[G]=C.heap[H],G=H,H<<=1;C.heap[G]=Y}function Mt(C,D,G){var Y,H,it,lt,at=0;if(C.last_lit!==0)for(;Y=C.pending_buf[C.d_buf+2*at]<<8|C.pending_buf[C.d_buf+2*at+1],H=C.pending_buf[C.l_buf+at],at++,Y===0?J(C,H,D):(J(C,(it=f[H])+m+1,D),(lt=A[it])!==0&&nt(C,H-=L[it],lt),J(C,it=B(--Y),G),(lt=P[it])!==0&&nt(C,Y-=U[it],lt)),at<C.last_lit;);J(C,k,D)}function Bt(C,D){var G,Y,H,it=D.dyn_tree,lt=D.stat_desc.static_tree,at=D.stat_desc.has_stree,ut=D.stat_desc.elems,Ft=-1;for(C.heap_len=0,C.heap_max=d,G=0;G<ut;G++)it[2*G]!==0?(C.heap[++C.heap_len]=Ft=G,C.depth[G]=0):it[2*G+1]=0;for(;C.heap_len<2;)it[2*(H=C.heap[++C.heap_len]=Ft<2?++Ft:0)]=1,C.depth[H]=0,C.opt_len--,at&&(C.static_len-=lt[2*H+1]);for(D.max_code=Ft,G=C.heap_len>>1;1<=G;G--)Ct(C,it,G);for(H=ut;G=C.heap[1],C.heap[1]=C.heap[C.heap_len--],Ct(C,it,1),Y=C.heap[1],C.heap[--C.heap_max]=G,C.heap[--C.heap_max]=Y,it[2*H]=it[2*G]+it[2*Y],C.depth[H]=(C.depth[G]>=C.depth[Y]?C.depth[G]:C.depth[Y])+1,it[2*G+1]=it[2*Y+1]=H,C.heap[1]=H++,Ct(C,it,1),2<=C.heap_len;);C.heap[--C.heap_max]=C.heap[1],function(It,Jt){var be,oe,Se,jt,hn,vn,le=Jt.dyn_tree,pn=Jt.max_code,dr=Jt.stat_desc.static_tree,jn=Jt.stat_desc.has_stree,$n=Jt.stat_desc.extra_bits,Dt=Jt.stat_desc.extra_base,Kt=Jt.stat_desc.max_length,ie=0;for(jt=0;jt<=b;jt++)It.bl_count[jt]=0;for(le[2*It.heap[It.heap_max]+1]=0,be=It.heap_max+1;be<d;be++)Kt<(jt=le[2*le[2*(oe=It.heap[be])+1]+1]+1)&&(jt=Kt,ie++),le[2*oe+1]=jt,pn<oe||(It.bl_count[jt]++,hn=0,Dt<=oe&&(hn=$n[oe-Dt]),vn=le[2*oe],It.opt_len+=vn*(jt+hn),jn&&(It.static_len+=vn*(dr[2*oe+1]+hn)));if(ie!==0){do{for(jt=Kt-1;It.bl_count[jt]===0;)jt--;It.bl_count[jt]--,It.bl_count[jt+1]+=2,It.bl_count[Kt]--,ie-=2}while(0<ie);for(jt=Kt;jt!==0;jt--)for(oe=It.bl_count[jt];oe!==0;)pn<(Se=It.heap[--be])||(le[2*Se+1]!==jt&&(It.opt_len+=(jt-le[2*Se+1])*le[2*Se],le[2*Se+1]=jt),oe--)}}(C,D),St(it,Ft,C.bl_count)}function g(C,D,G){var Y,H,it=-1,lt=D[1],at=0,ut=7,Ft=4;for(lt===0&&(ut=138,Ft=3),D[2*(G+1)+1]=65535,Y=0;Y<=G;Y++)H=lt,lt=D[2*(Y+1)+1],++at<ut&&H===lt||(at<Ft?C.bl_tree[2*H]+=at:H!==0?(H!==it&&C.bl_tree[2*H]++,C.bl_tree[2*T]++):at<=10?C.bl_tree[2*x]++:C.bl_tree[2*O]++,it=H,Ft=(at=0)===lt?(ut=138,3):H===lt?(ut=6,3):(ut=7,4))}function q(C,D,G){var Y,H,it=-1,lt=D[1],at=0,ut=7,Ft=4;for(lt===0&&(ut=138,Ft=3),Y=0;Y<=G;Y++)if(H=lt,lt=D[2*(Y+1)+1],!(++at<ut&&H===lt)){if(at<Ft)for(;J(C,H,C.bl_tree),--at!=0;);else H!==0?(H!==it&&(J(C,H,C.bl_tree),at--),J(C,T,C.bl_tree),nt(C,at-3,2)):at<=10?(J(C,x,C.bl_tree),nt(C,at-3,3)):(J(C,O,C.bl_tree),nt(C,at-11,7));it=H,Ft=(at=0)===lt?(ut=138,3):H===lt?(ut=6,3):(ut=7,4)}}c(U);var F=!1;function S(C,D,G,Y){nt(C,(u<<1)+(Y?1:0),3),function(H,it,lt,at){xt(H),ot(H,lt),ot(H,~lt),a.arraySet(H.pending_buf,H.window,it,lt,H.pending),H.pending+=lt}(C,D,G)}i._tr_init=function(C){F||(function(){var D,G,Y,H,it,lt=new Array(b+1);for(H=Y=0;H<v-1;H++)for(L[H]=Y,D=0;D<1<<A[H];D++)f[Y++]=H;for(f[Y-1]=H,H=it=0;H<16;H++)for(U[H]=it,D=0;D<1<<P[H];D++)R[it++]=H;for(it>>=7;H<l;H++)for(U[H]=it<<7,D=0;D<1<<P[H]-7;D++)R[256+it++]=H;for(G=0;G<=b;G++)lt[G]=0;for(D=0;D<=143;)z[2*D+1]=8,D++,lt[8]++;for(;D<=255;)z[2*D+1]=9,D++,lt[9]++;for(;D<=279;)z[2*D+1]=7,D++,lt[7]++;for(;D<=287;)z[2*D+1]=8,D++,lt[8]++;for(St(z,h+1,lt),D=0;D<l;D++)E[2*D+1]=5,E[2*D]=wt(D,5);j=new tt(z,A,m+1,h,b),V=new tt(E,P,0,l,b),Z=new tt(new Array(0),I,0,p,w)}(),F=!0),C.l_desc=new N(C.dyn_ltree,j),C.d_desc=new N(C.dyn_dtree,V),C.bl_desc=new N(C.bl_tree,Z),C.bi_buf=0,C.bi_valid=0,dt(C)},i._tr_stored_block=S,i._tr_flush_block=function(C,D,G,Y){var H,it,lt=0;0<C.level?(C.strm.data_type===2&&(C.strm.data_type=function(at){var ut,Ft=4093624447;for(ut=0;ut<=31;ut++,Ft>>>=1)if(1&Ft&&at.dyn_ltree[2*ut]!==0)return s;if(at.dyn_ltree[18]!==0||at.dyn_ltree[20]!==0||at.dyn_ltree[26]!==0)return o;for(ut=32;ut<m;ut++)if(at.dyn_ltree[2*ut]!==0)return o;return s}(C)),Bt(C,C.l_desc),Bt(C,C.d_desc),lt=function(at){var ut;for(g(at,at.dyn_ltree,at.l_desc.max_code),g(at,at.dyn_dtree,at.d_desc.max_code),Bt(at,at.bl_desc),ut=p-1;3<=ut&&at.bl_tree[2*M[ut]+1]===0;ut--);return at.opt_len+=3*(ut+1)+5+5+4,ut}(C),H=C.opt_len+3+7>>>3,(it=C.static_len+3+7>>>3)<=H&&(H=it)):H=it=G+5,G+4<=H&&D!==-1?S(C,D,G,Y):C.strategy===4||it===H?(nt(C,2+(Y?1:0),3),Mt(C,z,E)):(nt(C,4+(Y?1:0),3),function(at,ut,Ft,It){var Jt;for(nt(at,ut-257,5),nt(at,Ft-1,5),nt(at,It-4,4),Jt=0;Jt<It;Jt++)nt(at,at.bl_tree[2*M[Jt]+1],3);q(at,at.dyn_ltree,ut-1),q(at,at.dyn_dtree,Ft-1)}(C,C.l_desc.max_code+1,C.d_desc.max_code+1,lt+1),Mt(C,C.dyn_ltree,C.dyn_dtree)),dt(C),Y&&xt(C)},i._tr_tally=function(C,D,G){return C.pending_buf[C.d_buf+2*C.last_lit]=D>>>8&255,C.pending_buf[C.d_buf+2*C.last_lit+1]=255&D,C.pending_buf[C.l_buf+C.last_lit]=255&G,C.last_lit++,D===0?C.dyn_ltree[2*G]++:(C.matches++,D--,C.dyn_ltree[2*(f[G]+m+1)]++,C.dyn_dtree[2*B(D)]++),C.last_lit===C.lit_bufsize-1},i._tr_align=function(C){nt(C,2,3),J(C,k,z),function(D){D.bi_valid===16?(ot(D,D.bi_buf),D.bi_buf=0,D.bi_valid=0):8<=D.bi_valid&&(D.pending_buf[D.pending++]=255&D.bi_buf,D.bi_buf>>=8,D.bi_valid-=8)}(C)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(a){(function(s,o){if(!s.setImmediate){var c,u,v,m,h=1,l={},p=!1,d=s.document,b=Object.getPrototypeOf&&Object.getPrototypeOf(s);b=b&&b.setTimeout?b:s,c={}.toString.call(s.process)==="[object process]"?function(T){process.nextTick(function(){w(T)})}:function(){if(s.postMessage&&!s.importScripts){var T=!0,x=s.onmessage;return s.onmessage=function(){T=!1},s.postMessage("","*"),s.onmessage=x,T}}()?(m="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",k,!1):s.attachEvent("onmessage",k),function(T){s.postMessage(m+T,"*")}):s.MessageChannel?((v=new MessageChannel).port1.onmessage=function(T){w(T.data)},function(T){v.port2.postMessage(T)}):d&&"onreadystatechange"in d.createElement("script")?(u=d.documentElement,function(T){var x=d.createElement("script");x.onreadystatechange=function(){w(T),x.onreadystatechange=null,u.removeChild(x),x=null},u.appendChild(x)}):function(T){setTimeout(w,0,T)},b.setImmediate=function(T){typeof T!="function"&&(T=new Function(""+T));for(var x=new Array(arguments.length-1),O=0;O<x.length;O++)x[O]=arguments[O+1];var A={callback:T,args:x};return l[h]=A,c(h),h++},b.clearImmediate=y}function y(T){delete l[T]}function w(T){if(p)setTimeout(w,0,T);else{var x=l[T];if(x){p=!0;try{(function(O){var A=O.callback,P=O.args;switch(P.length){case 0:A();break;case 1:A(P[0]);break;case 2:A(P[0],P[1]);break;case 3:A(P[0],P[1],P[2]);break;default:A.apply(o,P)}})(x)}finally{y(T),p=!1}}}}function k(T){T.source===s&&typeof T.data=="string"&&T.data.indexOf(m)===0&&w(+T.data.slice(m.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof Yr<"u"?Yr:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(Sa)),Sa.exports}var em=tm();const nm=Wr(em),rm=(t,e)=>{const{width:n,height:r,frames:i,ways:a}=Hi;for(let s=0;s<a;s++)for(let o=0;o<i;o++){const c=He(o,s),u=un.get(c);if(!u)continue;const v=document.createElement("canvas");v.width=n,v.height=r;const m=v.getContext("2d");if(!m)continue;m.imageSmoothingEnabled=!1,m.drawImage(u,0,0,u.width,u.height,0,0,n,r);const l=v.toDataURL("image/png").split(",")[1];e.file(`frame_${s+1}_${o+1}.png`,l,{base64:!0})}e.generateAsync({type:"blob"}).then(s=>{const o=document.createElement("a");o.href=URL.createObjectURL(s),o.download="frames.zip",o.click()})};var im=(t,e)=>{et(e,!1)},am=ft('<header class="flex justify-between"><p class="font-bold text-xl">歩行グラの出力</p> <button class="btn-icon hover:preset-tonal"><!></button></header> <article class="space-y-4"><p class="opacity-60">ダウンロードします</p> <div class="pt-2"><button type="button" class="w-full px-4 py-2 rounded-lg bg-gray-500 text-white hover:bg-gray-600 transition" aria-label="submit">個別出力</button></div> <div class="pt-2"><button type="button" class="w-full px-4 py-2 rounded-lg bg-blue-500 text-white hover:bg-blue-600 transition" aria-label="submit">結合出力</button></div></article>',1);function sm(t,e){bt(e,!0);const n=new nm;let r=mt(!1);const i=()=>{const{width:a,height:s,frames:o,ways:c}=Hi,u=document.createElement("canvas");u.width=a*o,u.height=s*c;const v=u.getContext("2d");if(!v)return;v.imageSmoothingEnabled=!1;for(let l=0;l<c;l++)for(let p=0;p<o;p++){const d=He(p,l),b=un.get(d);b&&v.drawImage(b,0,0,b.width,b.height,p*a,l*s,a,s)}const m=u.toDataURL("image/png"),h=document.createElement("a");h.href=m,h.download="sprite_sheet.png",h.click()};na(t,{get open(){return _(r)},onOpenChange:o=>et(r,o.open,!0),positioning:{placement:"top"},triggerBase:"btn preset-tonal",contentBase:"card bg-surface-300 p-4 space-y-4 max-w-[320px]",arrow:!0,arrowBackground:"!bg-surface-300 dark:!bg-surface-800",trigger:o=>{ke();var c=Hr("出力");Q(o,c)},content:o=>{var c=am(),u=pt(c),v=X(K(u),2);v.__click=[im,r];var m=K(v);Wi(m,{}),$(v),$(u);var h=X(u,2),l=X(K(h),2),p=K(l);p.__click=[rm,n],$(l);var d=X(l,2),b=K(d);b.__click=i,$(d),$(h),Q(o,c)},$$slots:{trigger:!0,content:!0}}),yt()}me(["click"]);function om(t,e){var r,i;const n=(i=(r=t.target)==null?void 0:r.files)==null?void 0:i[0];if(n){const a=new FileReader;a.onload=()=>{et(e,a.result,!0)},a.readAsDataURL(n)}}var lm=(t,e)=>{et(e,!1)},cm=(t,e,n)=>{const r=e.find(i=>i.label===t.currentTarget.value);r&&et(n,r.url,!0)},um=ft("<option> </option>"),dm=ft('<div class="mt-4 max-h-96 overflow-auto border rounded p-2"><img alt="インポート画像" class="max-w-96 object-contain rounded border" crossorigin="anonymous"/></div>'),fm=ft('<header class="flex justify-between"><p class="font-bold text-xl">歩行グラの読み込み</p> <button class="btn-icon hover:preset-tonal"><!></button></header> <article class="space-y-4"><p class="opacity-60">先にリサイズしてください</p> <label class="flex flex-col"><span class="label-text font-medium">テンプレ</span> <select class="select select-bordered w-full bg-white"><option>自動入力</option><!></select></label> <div class="relative flex-1"><input name="url" type="url" placeholder="画像のURLを入力" class="input input-bordered w-full pr-8 bg-white"/> <!></div> <div><label class="label"><span class="label-text">ローカル保存ファイルから読み込む</span> <input class="input" type="file" accept="image/*"/></label></div> <!> <div class="flex items-center gap-4 max-w-[360px]"><div class="w-[20ch] flex justify-between font-mono text-sm tabular-nums"><span class="text-left">不透明度</span> <span class="text-right"> </span></div> <!></div> <label class="flex items-center space-x-2"><input class="checkbox" type="checkbox"/> <p>トレース台</p></label> <div class="pt-2"><button type="button" class="btn btn-primary w-full bg-blue-500 text-white rounded hover:bg-blue-600" aria-label="submit">読み込む</button></div></article>',1);function hm(t,e){bt(e,!0);let n=W(e,"activeLayer",15),r=W(e,"initTimestamp",15),i=mt(!1),a=mt(""),s=mt(void 0),o,c=mt(Xt([100])),u=mt(!0);const v=async()=>{if(!_(a)||!_(s)||_(s).naturalWidth===0||!confirm("歩行グラを読み込みますか？（※全てのデータは失われます）"))return;e.init();const h=Ba(),{width:l,height:p,frames:d,ways:b}=Hi,y=document.createElement("canvas");y.width=l*d,y.height=p*b;const w=y.getContext("2d");if(!w)return;w.drawImage(_(s),0,0);const{data:k}=w.getImageData(0,0,y.width,y.height);for(let x=0;x<b;x++)for(let O=0;O<d;O++){const A=new ln("素材の味");A.opacity=_(c)[0];const P=l*d;for(let R=0;R<p;R++)for(let f=0;f<l;f++){const L=O*l+f,V=((x*p+R)*P+L)*4,[Z,U,tt,N]=k.subarray(V,V+4);N&&(Bn.value=`rgba(${Z}, ${U}, ${tt}, ${N/255})`,A.drawByDot(f*h,R*h),A.used=!0)}const I=He(O,x),M=[A];_(u)&&M.push(new ln("トレース台")),sr.set(I,M);const z=xr();un.set(I,z);const E=z.toDataURL("image/png");Or.set(I,E),Rr([])}const T=sr.get(0);T&&(Rr(T),n(T[T.length-1]),r(performance.now()))},m=[{label:"鍵山雛",url:"https://rpgen.cc/dq/sAnims/res/1920.png"},{label:"ドレミー",url:"https://rpgen.cc/dq/sAnims/res/1919.png"},{label:"八雲紫",url:"https://rpgen.cc/dq/sAnims/res/1282.png"},{label:"天子",url:"https://rpgen.cc/dq/sAnims/res/1891.png"},{label:"純狐",url:"https://rpgen.cc/dq/sAnims/res/1894.png"},{label:"ヘカーティア",url:"https://rpgen.cc/dq/sAnims/res/1884.png"},{label:"妹紅",url:"https://rpgen.cc/dq/sAnims/res/1874.png"},{label:"小鈴",url:"https://rpgen.cc/dq/sAnims/res/1526.png"},{label:"阿求",url:"https://rpgen.cc/dq/sAnims/res/1527.png"},{label:"霊夢",url:"https://rpgen.cc/dq/sAnims/res/1053.png"},{label:"魔理沙",url:"https://rpgen.cc/dq/sAnims/res/1888.png"},{label:"パチュリー",url:"https://rpgen.cc/dq/sAnims/res/1273.png"}];na(t,{get open(){return _(i)},onOpenChange:p=>et(i,p.open,!0),positioning:{placement:"top"},triggerBase:"btn preset-tonal",contentBase:"card bg-surface-300 p-4 space-y-4 max-w-[320px]",arrow:!0,arrowBackground:"!bg-surface-300 dark:!bg-surface-800",trigger:p=>{ke();var d=Hr("読み込み");Q(p,d)},content:p=>{var d=fm(),b=pt(d),y=X(K(b),2);y.__click=[lm,i];var w=K(y);Wi(w,{}),$(y),$(b);var k=X(b,2),T=X(K(k),2),x=X(K(T),2);x.__change=[cm,m,a];var O=K(x);O.value=O.__value="";var A=X(O);pe(A,17,()=>m,ve,(J,wt)=>{var St=um(),dt={},xt=K(St,!0);$(St),Ot(()=>{dt!==(dt=_(wt).label)&&(St.value=(St.__value=_(wt).label)??""),ue(xt,_(wt).label)}),Q(J,St)}),$(x),$(T);var P=X(T,2),I=K(P);qt(I);var M=X(I,2);bi(M,{class:"absolute right-2 top-2.5 text-gray-400",size:16,onclick:()=>{et(a,"")}}),$(P);var z=X(P,2),E=K(z),R=X(K(E),2);R.__change=[om,a],Pe(R,J=>o=J,()=>o),$(E),$(z);var f=X(z,2);{var L=J=>{var wt=dm(),St=K(wt);Pe(St,dt=>et(s,dt),()=>_(s)),$(wt),Ot(dt=>Ht(St,"src",dt),[()=>_(a).startsWith("http")?`https://api.allorigins.win/raw?url=${_(a)}`:_(a)]),Q(J,wt)};Lt(f,J=>{_(a)&&J(L)})}var j=X(f,2),V=K(j),Z=X(K(V),2),U=K(Z);$(Z),$(V);var tt=X(V,2);Sc(tt,{get value(){return _(c)},onValueChange:J=>et(c,J.value,!0),markers:[25,50,75]}),$(j);var N=X(j,2),B=K(N);qt(B),ke(2),$(N);var ot=X(N,2),nt=K(ot);nt.__click=v,$(ot),$(k),Ot(()=>ue(U,`${_(c)??""}%`)),xn(I,()=>_(a),J=>et(a,J)),Fl(B,()=>_(u),J=>et(u,J)),Q(p,d)},$$slots:{trigger:!0,content:!0}}),yt()}me(["click","change"]);function vm(t,e){var r,i;const n=(i=(r=t.target)==null?void 0:r.files)==null?void 0:i[0];if(n){const a=new FileReader;a.onload=()=>{et(e,a.result,!0)},a.readAsDataURL(n)}}var pm=(t,e,n)=>{const r=e.find(i=>i.label===t.currentTarget.value);r&&et(n,r.url,!0)},gm=ft("<option> </option>"),mm=ft('<div class="mt-4 max-h-96 overflow-auto border rounded p-2"><img alt="模写用" class="w-full max-w-96 object-contain rounded border"/></div>'),bm=ft('<div class="space-y-4 p-4 bg-surface-100 rounded-xl"><h2 class="text-lg font-semibold">模写用</h2> <label class="flex flex-col"><span class="label-text font-medium">テンプレ</span> <select class="select select-bordered w-full bg-white"><option>自動入力</option><!></select></label> <div class="relative flex-1"><input name="url" type="url" placeholder="画像のURLを入力" class="input input-bordered w-full pr-8 bg-white"/> <!></div> <div><label class="label"><span class="label-text">ローカル保存ファイルから読み込む</span> <input class="input" type="file" accept="image/*"/></label></div> <!></div>');function ym(t,e){bt(e,!0);let n=mt(""),r;const i=[{label:"鍵山雛",url:"https://i.imgur.com/Wd713Fe.png"},{label:"ドレミー",url:"https://i.imgur.com/vENwj1P.png"},{label:"八雲紫",url:"https://i.imgur.com/OLpXzvs.png"},{label:"カナ",url:"https://i.imgur.com/rgekbAz.png"}];var a=bm(),s=X(K(a),2),o=X(K(s),2);o.__change=[pm,i,n];var c=K(o);c.value=c.__value="";var u=X(c);pe(u,17,()=>i,ve,(w,k)=>{var T=gm(),x={},O=K(T,!0);$(T),Ot(()=>{x!==(x=_(k).label)&&(T.value=(T.__value=_(k).label)??""),ue(O,_(k).label)}),Q(w,T)}),$(o),$(s);var v=X(s,2),m=K(v);qt(m);var h=X(m,2);bi(h,{class:"absolute right-2 top-2.5 text-gray-400",size:16,onclick:()=>{et(n,"")}}),$(v);var l=X(v,2),p=K(l),d=X(K(p),2);d.__change=[vm,n],Pe(d,w=>r=w,()=>r),$(p),$(l);var b=X(l,2);{var y=w=>{var k=mm(),T=K(k);$(k),Ot(()=>Ht(T,"src",_(n))),Q(w,k)};Lt(b,w=>{_(n)&&w(y)})}$(a),xn(m,()=>_(n),w=>et(n,w)),Q(t,a),yt()}me(["change"]);const _m=(t,e,n)=>{e(new ln(`レイヤー #${_(n).length+1}`))};var wm=()=>{},xm=(t,e,n)=>{e(_(n))},km=(t,e,n)=>e(_(n)),Em=(t,e,n)=>e(_(n)),Cm=ft('<li><div tabindex="0" role="button" class="flex flex-grow items-center space-x-2"><div class="gimp-checkered-background relative w-8 h-8 rounded overflow-hidden"><div class="w-full h-full bg-center bg-cover"></div></div> <div><p class="text-sm font-medium truncate max-w-[128px]"> </p> <div class="flex items-center text-xs text-gray-500 space-x-1"><!> <!> <span> </span></div></div></div> <div class="flex space-x-1"><button class="p-1 text-gray-500 hover:text-blue-500"><!></button> <button class="p-1 text-gray-500 hover:text-blue-500"><!></button></div></li>'),Sm=ft('<div class="p-4 bg-white rounded shadow-md w-full max-w-md mx-auto max-h-[50vh] flex flex-col"><div class="flex items-center text-xs text-gray-500"><!> 最背面</div> <ul class="divide-y divide-gray-200 overflow-auto flex-1 min-h-0"></ul> <div class="flex items-center text-xs text-gray-500"><!> 最前面</div> <button class="flex items-center justify-center py-1 bg-blue-500 text-white rounded hover:bg-blue-600"><!> レイヤー追加</button></div>');function Tm(t,e){bt(e,!0);let n=W(e,"activeLayer",15,void 0),r=mt(Xt([]));Vt(()=>{n()&&et(r,wr(),!0)});const i=p=>{const{prev:d}=p;d&&(p.swap(d.index),et(r,wr(),!0))},a=p=>{const{next:d}=p;d&&(p.swap(d.index),et(r,wr(),!0))};var s=Sm(),o=K(s),c=K(o);Ln(c,{class:"w-4 h-4 mr-1"}),ke(),$(o);var u=X(o,2);pe(u,21,()=>_(r),ve,(p,d)=>{var b=Et(),y=pt(b);oi(y,()=>n()===_(d)?e.pointerupTimestamp:"noop",w=>{var k=Cm(),T=K(k);T.__keydown=[wm],T.__click=[xm,n,d];var x=K(T),O=K(x);$(x);var A=X(x,2),P=K(A),I=K(P,!0);$(P);var M=X(P,2),z=K(M);{var E=nt=>{Za(nt,{class:"w-3 h-3"})},R=nt=>{_d(nt,{class:"w-3 h-3"})};Lt(z,nt=>{_(d).locked?nt(E):nt(R,!1)})}var f=X(z,2);{var L=nt=>{Ka(nt,{class:"w-3 h-3"})},j=nt=>{md(nt,{class:"w-3 h-3"})};Lt(f,nt=>{_(d).visible?nt(L):nt(j,!1)})}var V=X(f,2),Z=K(V);$(V),$(M),$(A),$(T);var U=X(T,2),tt=K(U);tt.__click=[km,a,d];var N=K(tt);Ga(N,{class:"w-4 h-4"}),$(tt);var B=X(tt,2);B.__click=[Em,i,d];var ot=K(B);Ln(ot,{class:"w-4 h-4"}),$(B),$(U),$(k),Ot(nt=>{ne(k,1,`flex items-center justify-between p-2 cursor-pointer ${n()===_(d)?"bg-blue-100":"hover:bg-gray-100"}`),je(O,`background-image: url(${nt??""});`),ue(I,_(d).name),ue(Z,`${_(d).opacity??""}%`)},[()=>_(d).used?_(d).canvas.toDataURL("image/png"):"https://placehold.co/32x32?text=new"]),Q(w,k)}),Q(p,b)}),$(u);var v=X(u,2),m=K(v);Ga(m,{class:"w-4 h-4 mr-1"}),ke(),$(v);var h=X(v,2);h.__click=[_m,n,r];var l=K(h);Sd(l,{class:"w-4 h-4 mr-2"}),ke(),$(h),$(s),Q(t,s),yt()}me(["keydown","click"]);var Im=(t,e)=>{et(e,!1)},Am=ft('<header class="flex justify-between"><p class="font-bold text-xl">操作方法</p> <button class="btn-icon hover:preset-tonal"><!></button></header> <article class="opacity-60"><p>右クリック：カラーピッカー</p> <p>Ctrl + 1：ペン</p> <p>Ctrl + 2：消しゴム</p> <p>Ctrl + 3：カラーピッカー</p> <p>Ctrl + 4：塗りつぶし</p> <p>Ctrl + 5：ハンドツール</p> <p>Ctrl + E：常に消しゴム</p> <p>Ctrl + F：左右反転</p> <p>Ctrl + G：グリッド表示</p> <p>Ctrl + D：ダークモード</p> <p>Ctrl + Z：戻す</p> <p>Ctrl + Shift + Z：やり直す</p> <p>Ctrl + S：保存</p> <p>Ctrl + C：コピー</p> <p>Ctrl + V：貼り付け</p> <p>モニターサイズは24インチ以上推奨</p></article>',1);function Om(t){let e=mt(!1);na(t,{get open(){return _(e)},onOpenChange:i=>et(e,i.open,!0),positioning:{placement:"top"},triggerBase:"btn preset-tonal",contentBase:"card bg-surface-300 p-4 space-y-4 max-w-[320px]",arrow:!0,arrowBackground:"!bg-surface-300 dark:!bg-surface-800",trigger:i=>{ke();var a=Hr("説明書");Q(i,a)},content:i=>{var a=Am(),s=pt(a),o=X(K(s),2);o.__click=[Im,e];var c=K(o);Wi(c,{}),$(o),$(s),ke(2),Q(i,a)},$$slots:{trigger:!0,content:!0}})}me(["click"]);var Rm=ft('<canvas class="border border-gray-300 gimp-checkered-background"></canvas>'),Pm=ft('<div class="grid grid-cols-3 gap-2"></div>');function Dm(t,e){bt(e,!0);const n=48;let r=mt(0);Vt(()=>{e.initTimestamp&&et(r,Math.floor(n*Bi/zi),!0)});let i=0,a;const s=[gt.q,gt.w,gt.e,gt.a,null,gt.d,gt.z,gt.s,gt.c],o=[gt.s,gt.a,gt.w,gt.d],c=[gt.s,gt.z,gt.a,gt.q,gt.w,gt.e,gt.d,gt.c],u=()=>{const h=cn,l=i/30|0,p=h===1?0:h-1-Math.abs(l%((h-1)*2)-(h-1)),d=i/30/(8/h)|0;for(const[b,y]of s.entries())if(y===null){const w=Mi;if(w!==4&&w!==8)continue;const T=(w===4?o:c)[d%w],x=Ar.get(T);if(!x&&x!==0)continue;const O=un.get(x+p);if(!O)continue;const A=v[b];if(!A)continue;const P=A.getContext("2d",{willReadFrequently:!0});if(!P)continue;P.clearRect(0,0,A.width,A.height),P.drawImage(O,0,0,A.width,A.height)}else{const w=Ar.get(y);if(!w&&w!==0)continue;const k=v[b];if(!k)continue;const T=k.getContext("2d",{willReadFrequently:!0});if(!T)continue;T.clearRect(0,0,k.width,k.height);const x=un.get(w+p);if(!x)continue;T.drawImage(x,0,0,k.width,k.height)}i++,a=requestAnimationFrame(u)};Vt(()=>{if(v)return u(),()=>cancelAnimationFrame(a)});let v=Xt(Array(s.length));var m=Pm();pe(m,21,()=>v,ve,(h,l,p)=>{var d=Rm();Ht(d,"width",n),Pe(d,(b,y)=>v[y]=b,b=>v==null?void 0:v[b],()=>[p]),Ot(()=>Ht(d,"height",_(r))),Q(h,d)}),$(m),Q(t,m),yt()}var Qe;function Uc(t){return{lang:(t==null?void 0:t.lang)??(Qe==null?void 0:Qe.lang),message:t==null?void 0:t.message,abortEarly:(t==null?void 0:t.abortEarly)??(Qe==null?void 0:Qe.abortEarly),abortPipeEarly:(t==null?void 0:t.abortPipeEarly)??(Qe==null?void 0:Qe.abortPipeEarly)}}var Ta;function Lm(t){return Ta==null?void 0:Ta.get(t)}var Ia;function Nm(t){return Ia==null?void 0:Ia.get(t)}var Aa;function Fm(t,e){var n;return(n=Aa==null?void 0:Aa.get(t))==null?void 0:n.get(e)}function zr(t){var n,r;const e=typeof t;return e==="string"?`"${t}"`:e==="number"||e==="bigint"||e==="boolean"?`${t}`:e==="object"||e==="function"?(t&&((r=(n=Object.getPrototypeOf(t))==null?void 0:n.constructor)==null?void 0:r.name))??"null":e}function qe(t,e,n,r,i){const a=i&&"input"in i?i.input:n.value,s=(i==null?void 0:i.expected)??t.expects??null,o=(i==null?void 0:i.received)??zr(a),c={kind:t.kind,type:t.type,input:a,expected:s,received:o,message:`Invalid ${e}: ${s?`Expected ${s} but r`:"R"}eceived ${o}`,requirement:t.requirement,path:i==null?void 0:i.path,issues:i==null?void 0:i.issues,lang:r.lang,abortEarly:r.abortEarly,abortPipeEarly:r.abortPipeEarly},u=t.kind==="schema",v=(i==null?void 0:i.message)??t.message??Fm(t.reference,c.lang)??(u?Nm(c.lang):null)??r.message??Lm(c.lang);v!==void 0&&(c.message=typeof v=="function"?v(c):v),u&&(n.typed=!1),n.issues?n.issues.push(c):n.issues=[c]}function qr(t){return{version:1,vendor:"valibot",validate(e){return t["~run"]({value:e},Uc())}}}function jc(t,e){return{kind:"validation",type:"check",reference:jc,async:!1,expects:null,requirement:t,message:e,"~run"(n,r){return n.typed&&!this.requirement(n.value)&&qe(this,"input",n,r),n}}}function ci(t){return{kind:"validation",type:"integer",reference:ci,async:!1,expects:null,requirement:Number.isInteger,message:t,"~run"(e,n){return e.typed&&!this.requirement(e.value)&&qe(this,"integer",e,n),e}}}function ui(t,e){return{kind:"validation",type:"max_value",reference:ui,async:!1,expects:`<=${t instanceof Date?t.toJSON():zr(t)}`,requirement:t,message:e,"~run"(n,r){return n.typed&&!(n.value<=this.requirement)&&qe(this,"value",n,r,{received:n.value instanceof Date?n.value.toJSON():zr(n.value)}),n}}}function di(t,e){return{kind:"validation",type:"min_value",reference:di,async:!1,expects:`>=${t instanceof Date?t.toJSON():zr(t)}`,requirement:t,message:e,"~run"(n,r){return n.typed&&!(n.value>=this.requirement)&&qe(this,"value",n,r,{received:n.value instanceof Date?n.value.toJSON():zr(n.value)}),n}}}function $c(t,e){return{kind:"validation",type:"regex",reference:$c,async:!1,expects:`${t}`,requirement:t,message:e,"~run"(n,r){return n.typed&&!this.requirement.test(n.value)&&qe(this,"format",n,r),n}}}function fi(t){return{kind:"transformation",type:"transform",reference:fi,async:!1,operation:t,"~run"(e){return e.value=this.operation(e.value),e}}}function qc(){return{kind:"transformation",type:"trim",reference:qc,async:!1,"~run"(t){return t.value=t.value.trim(),t}}}function zm(t,e,n){return typeof t.fallback=="function"?t.fallback(e,n):t.fallback}function Bm(t,e,n){return typeof t.default=="function"?t.default(e,n):t.default}function hi(t){return{kind:"schema",type:"number",reference:hi,expects:"number",async:!1,message:t,get"~standard"(){return qr(this)},"~run"(e,n){return typeof e.value=="number"&&!isNaN(e.value)?e.typed=!0:qe(this,"type",e,n),e}}}function Gc(t,e){return{kind:"schema",type:"strict_object",reference:Gc,expects:"Object",async:!1,entries:t,message:e,get"~standard"(){return qr(this)},"~run"(n,r){var a;const i=n.value;if(i&&typeof i=="object"){n.typed=!0,n.value={};for(const s in this.entries){const o=this.entries[s];if(s in i||(o.type==="exact_optional"||o.type==="optional"||o.type==="nullish")&&o.default!==void 0){const c=s in i?i[s]:Bm(o),u=o["~run"]({value:c},r);if(u.issues){const v={type:"object",origin:"value",input:i,key:s,value:c};for(const m of u.issues)m.path?m.path.unshift(v):m.path=[v],(a=n.issues)==null||a.push(m);if(n.issues||(n.issues=u.issues),r.abortEarly){n.typed=!1;break}}u.typed||(n.typed=!1),n.value[s]=u.value}else if(o.fallback!==void 0)n.value[s]=zm(o);else if(o.type!=="exact_optional"&&o.type!=="optional"&&o.type!=="nullish"&&(qe(this,"key",n,r,{input:void 0,expected:`"${s}"`,path:[{type:"object",origin:"key",input:i,key:s,value:i[s]}]}),r.abortEarly))break}if(!n.issues||!r.abortEarly){for(const s in i)if(!(s in this.entries)){qe(this,"key",n,r,{input:s,expected:"never",path:[{type:"object",origin:"key",input:i,key:s,value:i[s]}]});break}}}else qe(this,"type",n,r);return n}}}function Kc(t){return{kind:"schema",type:"string",reference:Kc,expects:"string",async:!1,message:t,get"~standard"(){return qr(this)},"~run"(e,n){return typeof e.value=="string"?e.typed=!0:qe(this,"type",e,n),e}}}function vi(){return{kind:"schema",type:"unknown",reference:vi,expects:"unknown",async:!1,get"~standard"(){return qr(this)},"~run"(t){return t.typed=!0,t}}}function ri(...t){return{...t[0],pipe:t,get"~standard"(){return qr(this)},"~run"(e,n){for(const r of t)if(r.kind!=="metadata"){if(e.issues&&(r.kind==="schema"||r.kind==="transformation")){e.typed=!1;break}(!e.issues||!n.abortEarly&&!n.abortPipeEarly)&&(e=r["~run"](e,n))}return e}}}function Mm(t,e,n){const r=t["~run"]({value:e},Uc(n));return{typed:r.typed,success:!r.issues,output:r.value,issues:r.issues}}var Vm=(t,e)=>{et(e,!1)},Hm=(t,e,n,r,i)=>{const a=Cs.find(s=>s.label===t.currentTarget.value);a&&(et(e,a.w,!0),et(n,a.h,!0),et(r,a.frames,!0),et(i,Vi(a.ways),!0))},Wm=ft("<option> </option>"),Um=(t,e,n,r,i,a,s,o)=>{const c=Mm(e,{width:_(n),height:_(r),frames:_(i),ways:_(a)});if(!c.success){et(s,new Set(c.issues.map(u=>{var v;return((v=u.path)==null?void 0:v[0].key)??""}).map(String)),!0);return}et(s,new Set,!0),confirm("初期化しますか？（※全てのデータは失われます）")&&(Es(c.output.width,c.output.height,c.output.frames,c.output.ways),o.init())},jm=ft('<header class="flex justify-between"><p class="font-bold text-xl">コマ数 / サイズ変更</p> <button class="btn-icon hover:preset-tonal"><!></button></header> <article class="space-y-4"><p class="opacity-60">ツクールの規格に対応できます</p> <label class="flex flex-col"><span class="label-text font-medium">テンプレ</span> <select class="select select-bordered w-full bg-white"><option>自動入力</option><!></select></label> <label class="flex flex-col gap-1"><span class="label-text font-medium">幅</span> <input type="number" placeholder="例: 48"/></label> <label class="flex flex-col gap-1"><span class="label-text font-medium">高さ</span> <input type="number" placeholder="例: 48"/></label> <label class="flex flex-col gap-1"><span class="label-text font-medium">コマ数</span> <input type="number" placeholder="例: 3"/></label> <label class="flex flex-col gap-1"><span class="label-text font-medium">方向転換</span> <input type="text" placeholder="例: wasdqezc"/> <p class="opacity-60 text-xs">wasd(前後左右)+qezc(ナナメ)</p></label> <div class="pt-2"><button type="button" class="btn btn-primary w-full bg-blue-500 text-white rounded hover:bg-blue-600" aria-label="submit">初期化の実行</button></div></article>',1);function $m(t,e){bt(e,!0);let n=mt(!1),r=mt(Xt(We.w)),i=mt(Xt(We.h)),a=mt(Xt(We.frames)),s=mt(Xt(Vi(We.ways))),o=mt(Xt(new Set));const c=Gc({width:ri(vi(),fi(u=>Number(u)),hi(),ci(),di(16),ui(256)),height:ri(vi(),fi(u=>Number(u)),hi(),ci(),di(16),ui(256)),frames:ri(vi(),fi(u=>Number(u)),hi(),ci(),di(1),ui(8)),ways:ri(Kc(),qc(),$c(/^[a-z]+$/),jc(u=>u.length===new Set(u).size))});return na(t,{get open(){return _(n)},onOpenChange:m=>et(n,m.open,!0),positioning:{placement:"top"},triggerBase:"btn preset-tonal",contentBase:"card bg-surface-300 p-4 space-y-4 max-w-[320px]",arrow:!0,arrowBackground:"!bg-surface-300 dark:!bg-surface-800",trigger:m=>{ke();var h=Hr("リサイズ");Q(m,h)},content:m=>{var h=jm(),l=pt(h),p=X(K(l),2);p.__click=[Vm,n];var d=K(p);Wi(d,{}),$(p),$(l);var b=X(l,2),y=X(K(b),2),w=X(K(y),2);w.__change=[Hm,r,i,a,s];var k=K(w);k.value=k.__value="";var T=X(k);pe(T,17,()=>Cs,ve,(U,tt)=>{var N=Wm(),B={},ot=K(N,!0);$(N),Ot(()=>{B!==(B=_(tt).label)&&(N.value=(N.__value=_(tt).label)??""),ue(ot,_(tt).label)}),Q(U,N)}),$(w),$(y);var x=X(y,2),O=X(K(x),2);qt(O);let A;$(x);var P=X(x,2),I=X(K(P),2);qt(I);let M;$(P);var z=X(P,2),E=X(K(z),2);qt(E);let R;$(z);var f=X(z,2),L=X(K(f),2);qt(L);let j;ke(2),$(f);var V=X(f,2),Z=K(V);Z.__click=[Um,c,r,i,a,s,o,e],$(V),$(b),Ot((U,tt,N,B)=>{A=ne(O,1,"input input-bordered w-full placeholder:opacity-40",null,A,U),M=ne(I,1,"input input-bordered w-full bg-white placeholder:opacity-40",null,M,tt),R=ne(E,1,"input input-bordered w-full bg-white placeholder:opacity-40",null,R,N),j=ne(L,1,"input input-bordered w-full bg-white placeholder:opacity-40",null,j,B)},[()=>({"bg-error-50":_(o).has("width"),"bg-white":!_(o).has("width")}),()=>({"bg-error-50":_(o).has("height"),"bg-white":!_(o).has("height")}),()=>({"bg-error-50":_(o).has("frames"),"bg-white":!_(o).has("frames")}),()=>({"bg-error-50":_(o).has("ways"),"bg-white":!_(o).has("ways")})]),xn(O,()=>_(r),U=>et(r,U)),xn(I,()=>_(i),U=>et(i,U)),xn(E,()=>_(a),U=>et(a,U)),xn(L,()=>_(s),U=>et(s,U)),Q(m,h)},$$slots:{trigger:!0,content:!0}}),yt({ParamSchema:c})}me(["click","change"]);const Pi=ks(!1),Zc=()=>{const t=Ts.value;if(t&&(t.clear(),so(Pi))){const e=so(kr),[n,r]=zl(e);let i=n-1;i===-1&&(i=cn-1);const a=He(i,r),s=un.get(a);if(!s)return;t.ctx.globalAlpha=.5,t.ctx.drawImage(s,0,0)}};kr.subscribe(Zc);Pi.subscribe(Zc);var qm="M17 3H5C3.89 3 3 3.9 3 5V19C3 20.1 3.89 21 5 21H19C20.1 21 21 20.1 21 19V7L17 3M19 19H5V5H16.17L19 7.83V19M12 12C10.34 12 9 13.34 9 15S10.34 18 12 18 15 16.66 15 15 13.66 12 12 12M6 6H15V10H6V6Z",Gm="M16.24,3.56L21.19,8.5C21.97,9.29 21.97,10.55 21.19,11.34L12,20.53C10.44,22.09 7.91,22.09 6.34,20.53L2.81,17C2.03,16.21 2.03,14.95 2.81,14.16L13.41,3.56C14.2,2.78 15.46,2.78 16.24,3.56M4.22,15.58L7.76,19.11C8.54,19.9 9.8,19.9 10.59,19.11L14.12,15.58L9.17,10.63L4.22,15.58Z",Km="M19.35,11.72L17.22,13.85L15.81,12.43L8.1,20.14L3.5,22L2,20.5L3.86,15.9L11.57,8.19L10.15,6.78L12.28,4.65L19.35,11.72M16.76,3C17.93,1.83 19.83,1.83 21,3C22.17,4.17 22.17,6.07 21,7.24L19.08,9.16L14.84,4.92L16.76,3M5.56,17.03L4.5,19.5L6.97,18.44L14.4,11L13,9.6L5.56,17.03Z",Zm="M19,11.5C19,11.5 17,13.67 17,15A2,2 0 0,0 19,17A2,2 0 0,0 21,15C21,13.67 19,11.5 19,11.5M5.21,10L10,5.21L14.79,10M16.56,8.94L7.62,0L6.21,1.41L8.59,3.79L3.44,8.94C2.85,9.5 2.85,10.47 3.44,11.06L8.94,16.56C9.23,16.85 9.62,17 10,17C10.38,17 10.77,16.85 11.06,16.56L16.56,11.06C17.15,10.47 17.15,9.5 16.56,8.94Z",Xm="M13 24C9.74 24 6.81 22 5.6 19L2.57 11.37C2.26 10.58 3 9.79 3.81 10.05L4.6 10.31C5.16 10.5 5.62 10.92 5.84 11.47L7.25 15H8V3.25C8 2.56 8.56 2 9.25 2S10.5 2.56 10.5 3.25V12H11.5V1.25C11.5 .56 12.06 0 12.75 0S14 .56 14 1.25V12H15V2.75C15 2.06 15.56 1.5 16.25 1.5C16.94 1.5 17.5 2.06 17.5 2.75V12H18.5V5.75C18.5 5.06 19.06 4.5 19.75 4.5S21 5.06 21 5.75V16C21 20.42 17.42 24 13 24Z",Ym="M20.71,7.04C20.37,7.38 20.04,7.71 20.03,8.04C20,8.36 20.34,8.69 20.66,9C21.14,9.5 21.61,9.95 21.59,10.44C21.57,10.93 21.06,11.44 20.55,11.94L16.42,16.08L15,14.66L19.25,10.42L18.29,9.46L16.87,10.87L13.12,7.12L16.96,3.29C17.35,2.9 18,2.9 18.37,3.29L20.71,5.63C21.1,6 21.1,6.65 20.71,7.04M3,17.25L12.56,7.68L16.31,11.43L6.75,21H3V17.25Z",Jm="M18.4,10.6C16.55,9 14.15,8 11.5,8C6.85,8 2.92,11.03 1.54,15.22L3.9,16C4.95,12.81 7.95,10.5 11.5,10.5C13.45,10.5 15.23,11.22 16.62,12.38L13,16H22V7L18.4,10.6Z",Qm="M9,3V4H4V6H5V19A2,2 0 0,0 7,21H17A2,2 0 0,0 19,19V6H20V4H15V3H9M7,6H17V19H7V6M9,8V17H11V8H9M13,8V17H15V8H13Z",tb="M12.5,8C9.85,8 7.45,9 5.6,10.6L2,7V16H11L7.38,12.38C8.77,11.22 10.54,10.5 12.5,10.5C16.04,10.5 19.05,12.81 20.1,16L22.47,15.22C21.08,11.03 17.15,8 12.5,8Z",eb={grad:.9,turn:360,rad:360/(2*Math.PI)},tn=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},Qt=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=Math.pow(10,e)),Math.round(n*t)/n+0},xe=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=1),t>n?n:t>e?t:e},Xc=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},ll=function(t){return{r:xe(t.r,0,255),g:xe(t.g,0,255),b:xe(t.b,0,255),a:xe(t.a)}},Oa=function(t){return{r:Qt(t.r),g:Qt(t.g),b:Qt(t.b),a:Qt(t.a,3)}},nb=/^#([0-9a-f]{3,8})$/i,ii=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},Yc=function(t){var e=t.r,n=t.g,r=t.b,i=t.a,a=Math.max(e,n,r),s=a-Math.min(e,n,r),o=s?a===e?(n-r)/s:a===n?2+(r-e)/s:4+(e-n)/s:0;return{h:60*(o<0?o+6:o),s:a?s/a*100:0,v:a/255*100,a:i}},Jc=function(t){var e=t.h,n=t.s,r=t.v,i=t.a;e=e/360*6,n/=100,r/=100;var a=Math.floor(e),s=r*(1-n),o=r*(1-(e-a)*n),c=r*(1-(1-e+a)*n),u=a%6;return{r:255*[r,o,s,s,c,r][u],g:255*[c,r,r,o,s,s][u],b:255*[s,s,c,r,r,o][u],a:i}},cl=function(t){return{h:Xc(t.h),s:xe(t.s,0,100),l:xe(t.l,0,100),a:xe(t.a)}},ul=function(t){return{h:Qt(t.h),s:Qt(t.s),l:Qt(t.l),a:Qt(t.a,3)}},dl=function(t){return Jc((n=(e=t).s,{h:e.h,s:(n*=((r=e.l)<50?r:100-r)/100)>0?2*n/(r+n)*100:0,v:r+n,a:e.a}));var e,n,r},Tr=function(t){return{h:(e=Yc(t)).h,s:(i=(200-(n=e.s))*(r=e.v)/100)>0&&i<200?n*r/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,n,r,i},rb=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,ib=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,ab=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,sb=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,fl={string:[[function(t){var e=nb.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?Qt(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?Qt(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=ab.exec(t)||sb.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:ll({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=rb.exec(t)||ib.exec(t);if(!e)return null;var n,r,i=cl({h:(n=e[1],r=e[2],r===void 0&&(r="deg"),Number(n)*(eb[r]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return dl(i)},"hsl"]],object:[[function(t){var e=t.r,n=t.g,r=t.b,i=t.a,a=i===void 0?1:i;return tn(e)&&tn(n)&&tn(r)?ll({r:Number(e),g:Number(n),b:Number(r),a:Number(a)}):null},"rgb"],[function(t){var e=t.h,n=t.s,r=t.l,i=t.a,a=i===void 0?1:i;if(!tn(e)||!tn(n)||!tn(r))return null;var s=cl({h:Number(e),s:Number(n),l:Number(r),a:Number(a)});return dl(s)},"hsl"],[function(t){var e=t.h,n=t.s,r=t.v,i=t.a,a=i===void 0?1:i;if(!tn(e)||!tn(n)||!tn(r))return null;var s=function(o){return{h:Xc(o.h),s:xe(o.s,0,100),v:xe(o.v,0,100),a:xe(o.a)}}({h:Number(e),s:Number(n),v:Number(r),a:Number(a)});return Jc(s)},"hsv"]]},hl=function(t,e){for(var n=0;n<e.length;n++){var r=e[n][0](t);if(r)return[r,e[n][1]]}return[null,void 0]},ob=function(t){return typeof t=="string"?hl(t.trim(),fl.string):typeof t=="object"&&t!==null?hl(t,fl.object):[null,void 0]},Ra=function(t,e){var n=Tr(t);return{h:n.h,s:xe(n.s+100*e,0,100),l:n.l,a:n.a}},Pa=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},vl=function(t,e){var n=Tr(t);return{h:n.h,s:n.s,l:xe(n.l+100*e,0,100),a:n.a}},pl=function(){function t(e){this.parsed=ob(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return Qt(Pa(this.rgba),2)},t.prototype.isDark=function(){return Pa(this.rgba)<.5},t.prototype.isLight=function(){return Pa(this.rgba)>=.5},t.prototype.toHex=function(){return e=Oa(this.rgba),n=e.r,r=e.g,i=e.b,s=(a=e.a)<1?ii(Qt(255*a)):"","#"+ii(n)+ii(r)+ii(i)+s;var e,n,r,i,a,s},t.prototype.toRgb=function(){return Oa(this.rgba)},t.prototype.toRgbString=function(){return e=Oa(this.rgba),n=e.r,r=e.g,i=e.b,(a=e.a)<1?"rgba("+n+", "+r+", "+i+", "+a+")":"rgb("+n+", "+r+", "+i+")";var e,n,r,i,a},t.prototype.toHsl=function(){return ul(Tr(this.rgba))},t.prototype.toHslString=function(){return e=ul(Tr(this.rgba)),n=e.h,r=e.s,i=e.l,(a=e.a)<1?"hsla("+n+", "+r+"%, "+i+"%, "+a+")":"hsl("+n+", "+r+"%, "+i+"%)";var e,n,r,i,a},t.prototype.toHsv=function(){return e=Yc(this.rgba),{h:Qt(e.h),s:Qt(e.s),v:Qt(e.v),a:Qt(e.a,3)};var e},t.prototype.invert=function(){return fe({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),fe(Ra(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),fe(Ra(this.rgba,-e))},t.prototype.grayscale=function(){return fe(Ra(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),fe(vl(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),fe(vl(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?fe({r:(n=this.rgba).r,g:n.g,b:n.b,a:e}):Qt(this.rgba.a,3);var n},t.prototype.hue=function(e){var n=Tr(this.rgba);return typeof e=="number"?fe({h:e,s:n.s,l:n.l,a:n.a}):Qt(n.h)},t.prototype.isEqual=function(e){return this.toHex()===fe(e).toHex()},t}(),fe=function(t){return t instanceof pl?t:new pl(t)};function lb(t,e,n,r,i,a,s){var c;const o=t.shiftKey?_(e)*10:_(e);t.key==="ArrowUp"||t.key==="ArrowRight"?(n(n()+o),t.preventDefault()):t.key==="ArrowDown"||t.key==="ArrowLeft"?(n(n()-o),t.preventDefault()):t.key==="Home"?(n(_(r)),t.preventDefault()):t.key==="End"?(n(_(i)),t.preventDefault()):t.key==="PageUp"?(n(n()+_(e)*10),t.preventDefault()):t.key==="PageDown"&&(n(n()-_(e)*10),t.preventDefault()),n(a(n())),(c=s.onInput)==null||c.call(s,n())}var cb=ft('<input type="hidden"/>'),ub=ft('<div role="slider" tabindex="0"><div class="track svelte-lo47zs"></div> <div class="thumb svelte-lo47zs"></div></div> <!>',1);function Di(t,e){bt(e,!0);let n=W(e,"min",3,0),r=W(e,"max",3,100),i=W(e,"step",3,1),a=W(e,"value",15,50),s=W(e,"ariaValueText",3,R=>R.toString()),o=W(e,"direction",3,"horizontal"),c=W(e,"reverse",3,!1),u=W(e,"keyboardOnly",3,!1),v=W(e,"slider",7),m=W(e,"isDragging",7,!1);const h=ct(()=>typeof n()=="string"?parseFloat(n()):n()),l=ct(()=>typeof r()=="string"?parseFloat(r()):r()),p=ct(()=>typeof i()=="string"?parseFloat(i()):i());function d(R){const f=1/_(p),L=Math.round(R*f)/f;return Math.max(_(h),Math.min(_(l),L))}const b={horizontal:{clientSize:"clientWidth",offset:"left",client:"clientX"},vertical:{clientSize:"clientHeight",offset:"top",client:"clientY"}};function y(R){var V,Z,U;const f=((V=v())==null?void 0:V[b[o()].clientSize])||120,L=((Z=v())==null?void 0:Z.getBoundingClientRect()[b[o()].offset])||0;let j=R[b[o()].client]-L;o()==="vertical"&&(j=-1*j+f),c()?a(_(l)-j/f*(_(l)-_(h))):a(j/f*(_(l)-_(h))+_(h)),a(d(a())),(U=e.onInput)==null||U.call(e,a())}function w(R){y(R),m(!0)}function k(R){m()&&y(R)}function T(){m(!1)}function x(R){R.preventDefault(),y({clientX:R.changedTouches[0].clientX,clientY:R.changedTouches[0].clientY})}const O=ct(()=>((a()-_(h))/(_(l)-_(h))*1).toFixed(4));var A=ub();Fn("mousemove",zn,k),Fn("mouseup",zn,T);var P=pt(A);let I;P.__keydown=[lb,p,a,h,l,d,e],P.__mousedown=function(...R){var f;(f=u()?void 0:w)==null||f.apply(this,R)},P.__touchstart=function(...R){var f;(f=u()?void 0:x)==null||f.apply(this,R)},P.__touchmove=function(...R){var f;(f=u()?void 0:x)==null||f.apply(this,R)},P.__touchend=function(...R){var f;(f=u()?void 0:x)==null||f.apply(this,R)};let M;Pe(P,R=>v(R),()=>v());var z=X(P,2);{var E=R=>{var f=cb();qt(f),Ot(()=>{Ht(f,"name",e.name),Oe(f,a())}),Q(R,f)};Lt(z,R=>{e.name&&R(E)})}Ot((R,f)=>{I=ne(P,1,"slider svelte-lo47zs",null,I,R),Ht(P,"aria-orientation",o()),Ht(P,"aria-valuemax",_(l)),Ht(P,"aria-valuemin",_(h)),Ht(P,"aria-valuenow",a()),Ht(P,"aria-valuetext",f),Ht(P,"aria-label",e.ariaLabel),Ht(P,"aria-labelledby",e.ariaLabelledBy),Ht(P,"aria-controls",e.ariaControls),M=je(P,"",M,{"--position":_(O)})},[()=>({reverse:c()}),()=>s()(a())]),Q(t,A),yt()}me(["keydown","mousedown","touchstart","touchmove","touchend"]);function Da(t,e){t.preventDefault(),e(t.changedTouches[0])}var db=ft('<div class="picker svelte-ckxa16"><!> <div class="s svelte-ckxa16"><!></div> <div class="v svelte-ckxa16"><!></div></div>');function fb(t,e){bt(e,!0);let n=W(e,"s",15),r=W(e,"v",15),i=mt(void 0),a=!1,s=mt(Xt({x:100,y:0})),o=ct(()=>fe({h:e.h,s:100,v:100,a:1}).toHex());function c(A,P,I){return Math.min(Math.max(P,A),I)}function u(A){if(!_(i))return;const{width:P,left:I,height:M,top:z}=_(i).getBoundingClientRect(),E={x:c(A.clientX-I,0,P),y:c(A.clientY-z,0,M)};n(c(E.x/P,0,1)*100),r(c((M-E.y)/M,0,1)*100),l()}function v(A){A.preventDefault(),A.button===0&&(a=!0,u(A))}function m(){a=!1}function h(A){a&&u(A)}Vt(()=>{typeof n()=="number"&&typeof r()=="number"&&_(i)&&et(s,{x:n(),y:100-r()},!0)});function l(A={}){e.onInput({s:n(),v:r(),...A})}var p=db();Fn("mouseup",zn,m),Fn("mousemove",zn,h),p.__mousedown=v,p.__touchstart=[Da,u],p.__touchmove=[Da,u],p.__touchend=[Da,u];let d;var b=K(p);se(b,()=>e.components.pickerIndicator,(A,P)=>{P(A,{get pos(){return _(s)},get isDark(){return e.isDark}})});var y=X(b,2);let w;var k=K(y);Di(k,{get value(){return n()},onInput:A=>l({s:A}),keyboardOnly:!0,ariaValueText:A=>`${A}%`,get ariaLabel(){return e.texts.label.s}}),$(y);var T=X(y,2);let x;var O=K(T);Di(O,{get value(){return r()},onInput:A=>l({v:A}),keyboardOnly:!0,ariaValueText:A=>`${A}%`,direction:"vertical",get ariaLabel(){return e.texts.label.v}}),$(T),$(p),Pe(p,A=>et(i,A),()=>_(i)),Ot(()=>{d=je(p,"",d,{"--picker-color-bg":_(o)}),w=je(y,"",w,{"--pos-y":_(s).y}),x=je(T,"",x,{"--pos-x":_(s).x})}),Q(t,p),yt()}me(["mousedown","touchstart","touchmove","touchend"]);var hb=ft('<div class="picker-indicator svelte-1h8ycw8"></div>');function vb(t,e){bt(e,!0);var n=hb();let r;Ot(()=>r=je(n,"",r,{"--pos-x":e.pos.x,"--pos-y":e.pos.y})),Q(t,n),yt()}function pb(t,e,n,r){const i=t.target;e.test(i.value)&&(n(i.value),r.onInput({hex:n()}))}var gb=ft('<input class="svelte-qtukzs"/>'),mb=ft('<input type="number" min="0" max="255" class="svelte-qtukzs"/> <input type="number" min="0" max="255" class="svelte-qtukzs"/> <input type="number" min="0" max="255" class="svelte-qtukzs"/>',1),bb=ft('<input type="number" min="0" max="360" class="svelte-qtukzs"/> <input type="number" min="0" max="100" class="svelte-qtukzs"/> <input type="number" min="0" max="100" class="svelte-qtukzs"/>',1),yb=ft('<input type="number" min="0" max="1" step="0.01" class="svelte-qtukzs"/>'),_b=(t,e,n)=>et(e,_(n),!0),wb=ft('<button type="button" class="svelte-qtukzs"><span class="disappear svelte-qtukzs" aria-hidden="true"> </span> <span class="appear svelte-qtukzs"> </span></button>'),xb=ft('<div class="button-like svelte-qtukzs"> </div>'),kb=ft('<div class="text-input svelte-qtukzs"><div class="input-container svelte-qtukzs"><!> <!></div> <!></div>');function Eb(t,e){bt(e,!0);let n=W(e,"rgb",15),r=W(e,"hsv",15),i=W(e,"hex",15);const a=/^#?([A-F0-9]{6}|[A-F0-9]{8})$/i;let s=mt(Xt(e.textInputModes[0]||"hex")),o=ct(()=>e.textInputModes[(e.textInputModes.indexOf(_(s))+1)%e.textInputModes.length]),c=ct(()=>Math.round(r().h)),u=ct(()=>Math.round(r().s)),v=ct(()=>Math.round(r().v)),m=ct(()=>r().a===void 0?1:Math.round(r().a*100)/100);function h(P){return function(I){n({...n(),[P]:parseFloat(I.target.value)}),e.onInput({rgb:n()})}}function l(P){return function(I){r({...r(),[P]:parseFloat(I.target.value)}),e.onInput({hsv:r()})}}var p=kb(),d=K(p),b=K(d);{var y=P=>{var I=gb();qt(I),I.__input=[pb,a,i,e],je(I,"",{},{flex:3}),Ot(()=>{Ht(I,"aria-label",e.texts.label.hex),Oe(I,i())}),Q(P,I)},w=(P,I)=>{{var M=E=>{var R=mb(),f=pt(R);qt(f);var L=ct(()=>h("r"));f.__input=function(...tt){var N;(N=_(L))==null||N.apply(this,tt)};var j=X(f,2);qt(j);var V=ct(()=>h("g"));j.__input=function(...tt){var N;(N=_(V))==null||N.apply(this,tt)};var Z=X(j,2);qt(Z);var U=ct(()=>h("b"));Z.__input=function(...tt){var N;(N=_(U))==null||N.apply(this,tt)},Ot(()=>{Ht(f,"aria-label",e.texts.label.r),Oe(f,n().r),Ht(j,"aria-label",e.texts.label.g),Oe(j,n().g),Ht(Z,"aria-label",e.texts.label.b),Oe(Z,n().b)}),Q(E,R)},z=E=>{var R=bb(),f=pt(R);qt(f);var L=ct(()=>l("h"));f.__input=function(...tt){var N;(N=_(L))==null||N.apply(this,tt)};var j=X(f,2);qt(j);var V=ct(()=>l("s"));j.__input=function(...tt){var N;(N=_(V))==null||N.apply(this,tt)};var Z=X(j,2);qt(Z);var U=ct(()=>l("v"));Z.__input=function(...tt){var N;(N=_(U))==null||N.apply(this,tt)},Ot(()=>{Ht(f,"aria-label",e.texts.label.h),Oe(f,_(c)),Ht(j,"aria-label",e.texts.label.s),Oe(j,_(u)),Ht(Z,"aria-label",e.texts.label.v),Oe(Z,_(v))}),Q(E,R)};Lt(P,E=>{_(s)==="rgb"?E(M):E(z,!1)},I)}};Lt(b,P=>{_(s)==="hex"?P(y):P(w,!1)})}var k=X(b,2);{var T=P=>{var I=yb();qt(I);var M=ct(()=>_(s)==="hsv"?l("a"):h("a"));I.__input=function(...z){var E;(E=_(M))==null||E.apply(this,z)},Ot(()=>{Ht(I,"aria-label",e.texts.label.a),Oe(I,_(m))}),Q(P,I)};Lt(k,P=>{e.isAlpha&&P(T)})}$(d);var x=X(d,2);{var O=P=>{var I=wb();I.__click=[_b,s,o];var M=K(I),z=K(M,!0);$(M);var E=X(M,2),R=K(E);$(E),$(I),Ot(()=>{ue(z,e.texts.color[_(s)]),ue(R,`${e.texts.changeTo??""} ${e.texts.color[_(o)]??""}`)}),Q(P,I)},A=P=>{var I=xb(),M=K(I,!0);$(I),Ot(()=>ue(M,e.texts.color[_(s)])),Q(P,I)};Lt(x,P=>{e.textInputModes.length>1?P(O):P(A,!1)})}$(p),Q(t,p),yt()}me(["input","click"]);function ai(t){t.preventDefault()}var Cb=ft('<label class="svelte-lemcb1"><div class="container svelte-lemcb1"><input type="color" aria-haspopup="dialog" class="svelte-lemcb1"/> <div class="alpha svelte-lemcb1"></div> <div class="color svelte-lemcb1"></div></div> </label>');function Sb(t,e){bt(e,!0);let n=W(e,"labelElement",15),r=W(e,"name",3,void 0);var i=Cb();i.__click=[ai],i.__mousedown=[ai];var a=K(i),s=K(a);qt(s),s.__click=[ai],s.__mousedown=[ai];var o=X(s,4);let c;$(a);var u=X(a);$(i),Pe(i,v=>n(v),()=>n()),Ot(()=>{Ht(i,"dir",e.dir),Ht(s,"name",r()),Oe(s,e.hex),c=je(o,"",c,{background:e.hex}),ue(u,` ${e.label??""}`),i.dir=i.dir}),Q(t,i),yt()}me(["click","mousedown"]);var Tb=ft('<div aria-label="color picker"><!></div>');function Ib(t,e){bt(e,!0);let n=W(e,"wrapper",15);var r=Tb();let i;var a=K(r);At(a,()=>e.children),$(r),Pe(r,s=>n(s),()=>n()),Ot(s=>{i=ne(r,1,"wrapper svelte-h9ar9",null,i,s),Ht(r,"role",e.isDialog?"dialog":void 0)},[()=>({"is-open":e.isOpen})]),Q(t,r),yt()}const La={label:{h:"hue channel",s:"saturation channel",v:"brightness channel",r:"red channel",g:"green channel",b:"blue channel",a:"alpha channel",hex:"hex color",withoutColor:"without color"},color:{rgb:"rgb",hsv:"hsv",hex:"hex"},changeTo:"change to "},Qc="a[href], area[href], input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]";function Ab(t){return function(e){if(e.target===window)return;const n=e.target;if(!t.contains(n))return;const r=t.querySelectorAll(Qc),i=r[0],a=r[r.length-1];function s(c){return c.code==="Tab"&&!c.shiftKey}function o(c){return c.code==="Tab"&&c.shiftKey}s(e)&&e.target===a?(e.preventDefault(),i.focus()):o(e)&&e.target===i&&(e.preventDefault(),a.focus())}}const Ob=t=>{const e=t.querySelector(Qc);e&&e.focus();const n=Ab(t);return document.addEventListener("keydown",n),{destroy(){document.removeEventListener("keydown",n)}}};var Rb=ft('<label class="nullability-checkbox svelte-oskb5b"><div class="svelte-oskb5b"><input type="checkbox" class="svelte-oskb5b"/> <span class="svelte-oskb5b"></span></div> </label>');function Pb(t,e){bt(e,!0);let n=W(e,"isUndefined",15);var r=Rb(),i=K(r),a=K(i);qt(a),ke(2),$(i);var s=X(i);$(r),Ot(()=>ue(s,` ${e.texts.label.withoutColor??""}`)),Fl(a,n),Q(t,r),yt()}var Db=ft('<input type="hidden"/>'),Lb=ft('<div class="a svelte-1y2jcbx"><!></div>'),Nb=ft('<!> <!> <div class="h svelte-1y2jcbx"><!></div> <!> <!> <!>',1),Fb=ft("<span><!> <!></span>");function zb(t,e){bt(e,!0);let n=W(e,"components",19,()=>({})),r=W(e,"label",3,"Choose a color"),i=W(e,"name",3,void 0),a=W(e,"nullable",3,!1),s=W(e,"rgb",31,()=>Xt(a()?null:{r:255,g:0,b:0,a:1})),o=W(e,"hsv",31,()=>Xt(a()?null:{h:0,s:100,v:100,a:1})),c=W(e,"hex",31,()=>Xt(a()?null:"#ff0000")),u=W(e,"color",15,null),v=W(e,"isDark",15,!1),m=W(e,"isAlpha",3,!0),h=W(e,"isDialog",3,!0),l=W(e,"isOpen",31,()=>!h()),p=W(e,"position",3,"responsive"),d=W(e,"dir",3,"ltr"),b=W(e,"isTextInput",3,!0),y=W(e,"textInputModes",19,()=>["hex","rgb","hsv"]),w=W(e,"sliderDirection",3,"vertical"),k=W(e,"disableCloseClickOutside",3,!1),T=W(e,"a11yColors",19,()=>[{bgHex:"#ffffff"}]),x=W(e,"a11yLevel",3,"AA"),O=W(e,"texts",3,void 0),A=W(e,"a11yTexts",3,void 0),P=mt(Xt({r:255,g:0,b:0,a:1})),I=mt(Xt({h:0,s:100,v:100,a:1})),M=mt("#ff0000"),z=mt(!1),E=mt(Xt(_(z))),R=mt(void 0),f=mt(void 0),L=mt(void 0),j,V=mt(1080),Z=mt(720);const U=12,tt={pickerIndicator:vb,textInput:Eb,input:Sb,nullabilityCheckbox:Pb,wrapper:Ib};function N(){return{...tt,...n()}}function B(){var F,S,C;return{label:{...La.label,...(F=O())==null?void 0:F.label},color:{...La.color,...(S=O())==null?void 0:S.color},changeTo:((C=O())==null?void 0:C.changeTo)??La.changeTo}}function ot({target:F}){var S,C,D;h()&&((S=_(f))!=null&&S.contains(F)||(C=_(f))!=null&&C.isSameNode(F)?l(!l()):l()&&!((D=_(L))!=null&&D.contains(F))&&!k()&&l(!1))}function nt({key:F,target:S}){var C;!h()||!_(f)||!_(R)||(F==="Enter"&&_(f).contains(S)?(l(!l()),setTimeout(()=>{_(L)&&(j=Ob(_(L)))})):F==="Escape"&&l()&&(l(!1),_(R).contains(S)&&((C=_(f))==null||C.focus(),j==null||j.destroy())))}function J(){return!(o()&&s()&&o().h===_(I).h&&o().s===_(I).s&&o().v===_(I).v&&o().a===_(I).a&&s().r===_(P).r&&s().g===_(P).g&&s().b===_(P).b&&s().a===_(P).a&&c()===_(M))}function wt(){var F,S,C,D,G,Y;if(_(z)&&!_(E)){et(E,!0),o(null),s(null),c(null),(F=e.onInput)==null||F.call(e,{color:u(),hsv:o(),rgb:s(),hex:c()});return}else if(_(E)&&!_(z)){et(E,!1),o(An(_(I))),s(An(_(P))),c(An(_(M))),(S=e.onInput)==null||S.call(e,{color:u(),hsv:o(),rgb:s(),hex:c()});return}else if(!o()&&!s()&&!c()){et(z,et(E,!0),!0),(C=e.onInput)==null||C.call(e,{color:null,hsv:o(),rgb:s(),hex:c()});return}else if(!J())return;et(z,!1),o()&&o().a===void 0&&o({...o(),a:1}),_(I).a===void 0&&et(I,{..._(I),a:1},!0),s()&&s().a===void 0&&s({...s(),a:1}),_(P).a===void 0&&et(P,{..._(P),a:1},!0),((D=c())==null?void 0:D.substring(7))==="ff"&&c(c().substring(0,7)),((G=_(M))==null?void 0:G.substring(7))==="ff"&&et(M,_(M).substring(0,7),!0),o()&&(o().h!==_(I).h||o().s!==_(I).s||o().v!==_(I).v||o().a!==_(I).a||!s()&&!c())?(u(fe(o())),s(u().toRgb()),c(u().toHex())):s()&&(s().r!==_(P).r||s().g!==_(P).g||s().b!==_(P).b||s().a!==_(P).a||!o()&&!c())?(u(fe(s())),c(u().toHex()),o(u().toHsv())):c()&&(c()!==_(M)||!o()&&!s())&&(u(fe(c())),s(u().toRgb()),o(u().toHsv())),u()&&v(u().isDark()),!(!c()||!o()||!s())&&(et(I,An(o()),!0),et(P,An(s()),!0),et(M,c(),!0),et(E,_(z),!0),(Y=e.onInput)==null||Y.call(e,{color:u(),hsv:o(),rgb:s(),hex:c()}))}Vt(()=>{(o()||s()||c())&&wt()}),Vt(()=>{_(z),wt()});function St(F){return S=>{o()||(et(z,!1),et(E,!1),o(An(_(I)))),o({...o(),[F]:S})}}function dt(F){return S=>{o()||(et(z,!1),et(E,!1),o(An(_(I)))),o({...o(),...Object.fromEntries(F.map(C=>[C,S[C]]))})}}async function xt(){if(await Fu(),p()==="fixed"||!l()||!h()||!_(f)||!_(L))return;const F=_(L).getBoundingClientRect(),S=_(f).getBoundingClientRect();if((p()==="responsive"||p()==="responsive-y")&&(S.top+F.height+U>_(Z)?_(L).style.top=`-${F.height+U}px`:_(L).style.top=`${S.height+U}px`),p()==="responsive"||p()==="responsive-x")if(d()==="rtl"){const C=S.left+S.width-F.width<0;console.log(C,S.left-F.width,S.left,F.width),C?_(L).style.left="0px":_(L).style.left=`${S.width-F.width}px`}else S.left+F.width>_(V)?_(L).style.left=`${S.width-F.width}px`:_(L).style.left="0px"}Vt(()=>{_(V)&&_(Z)&&l()&&xt()});const ht=ct(N);var Ct=Fb();Fn("mousedown",zn,ot),Fn("keyup",zn,nt),Fn("scroll",zn,xt);var Mt=K(Ct);{var Bt=F=>{var S=Et(),C=pt(S);se(C,()=>_(ht).input,(D,G)=>{G(D,{get hex(){return c()},get label(){return r()},get name(){return i()},get dir(){return d()},get labelElement(){return _(f)},set labelElement(Y){et(f,Y,!0)}})}),Q(F,S)},g=(F,S)=>{{var C=D=>{var G=Db();qt(G),Ot(()=>{Oe(G,c()),Ht(G,"name",i())}),Q(D,G)};Lt(F,D=>{i()&&D(C)},S)}};Lt(Mt,F=>{h()?F(Bt):F(g,!1)})}var q=X(Mt,2);se(q,()=>_(ht).wrapper,(F,S)=>{S(F,{get isOpen(){return l()},get isDialog(){return h()},get wrapper(){return _(L)},set wrapper(C){et(L,C,!0)},children:(C,D)=>{var G=Nb(),Y=pt(G);{var H=Dt=>{var Kt=Et(),ie=pt(Kt);const Ne=ct(B);se(ie,()=>_(ht).nullabilityCheckbox,(Fe,Ze)=>{Ze(Fe,{get texts(){return _(Ne)},get isUndefined(){return _(z)},set isUndefined(Te){et(z,Te,!0)}})}),Q(Dt,Kt)};Lt(Y,Dt=>{a()&&Dt(H)})}var it=X(Y,2);const lt=ct(N),at=ct(()=>{var Dt;return((Dt=o())==null?void 0:Dt.h)??_(I).h}),ut=ct(()=>{var Dt;return((Dt=o())==null?void 0:Dt.s)??_(I).s}),Ft=ct(()=>{var Dt;return((Dt=o())==null?void 0:Dt.v)??_(I).v}),It=ct(()=>dt(["s","v"])),Jt=ct(B);fb(it,{get components(){return _(lt)},get h(){return _(at)},get s(){return _(ut)},get v(){return _(Ft)},get onInput(){return _(It)},get isDark(){return v()},get texts(){return _(Jt)}});var be=X(it,2),oe=K(be);const Se=ct(()=>{var Dt;return((Dt=o())==null?void 0:Dt.h)??_(I).h}),jt=ct(()=>St("h")),hn=ct(()=>w()==="vertical");Di(oe,{min:0,max:360,step:1,get value(){return _(Se)},get onInput(){return _(jt)},get direction(){return w()},get reverse(){return _(hn)},get ariaLabel(){return B().label.h}}),$(be);var vn=X(be,2);{var le=Dt=>{var Kt=Lb();let ie;var Ne=K(Kt);const Fe=ct(()=>{var Xe;return((Xe=o())==null?void 0:Xe.a)??_(I).a}),Ze=ct(()=>St("a")),Te=ct(()=>w()==="vertical");Di(Ne,{min:0,max:1,step:.01,get value(){return _(Fe)},get onInput(){return _(Ze)},get direction(){return w()},get reverse(){return _(Te)},get ariaLabel(){return B().label.a}}),$(Kt),Ot(Xe=>ie=je(Kt,"",ie,{"--alphaless-color":Xe}),[()=>(c()?c():_(M)).substring(0,7)]),Q(Dt,Kt)};Lt(vn,Dt=>{m()&&Dt(le)})}var pn=X(vn,2);{var dr=Dt=>{var Kt=Et(),ie=pt(Kt);const Ne=ct(()=>c()??_(M)),Fe=ct(()=>s()??_(P)),Ze=ct(()=>o()??_(I)),Te=ct(B);se(ie,()=>_(ht).textInput,(Xe,Gr)=>{Gr(Xe,{get hex(){return _(Ne)},get rgb(){return _(Fe)},get hsv(){return _(Ze)},onInput:Ye=>{Ye.hsv?o(Ye.hsv):Ye.rgb?s(Ye.rgb):Ye.hex&&c(Ye.hex)},get isAlpha(){return m()},get textInputModes(){return y()},get texts(){return _(Te)}})}),Q(Dt,Kt)};Lt(pn,Dt=>{b()&&Dt(dr)})}var jn=X(pn,2);{var $n=Dt=>{var Kt=Et(),ie=pt(Kt);const Ne=ct(N),Fe=ct(()=>c()||"#00000000");se(ie,()=>_(ht).a11yNotice,(Ze,Te)=>{Te(Ze,{get components(){return _(Ne)},get a11yColors(){return T()},get hex(){return _(Fe)},get a11yTexts(){return A()},get a11yLevel(){return x()}})}),Q(Dt,Kt)};Lt(jn,Dt=>{N().a11yNotice&&Dt($n)})}Q(C,G)},$$slots:{default:!0}})}),$(Ct),Pe(Ct,F=>et(R,F),()=>_(R)),Ot(()=>ne(Ct,1,`color-picker ${w()??""}`,"svelte-1y2jcbx")),co("innerWidth",F=>et(V,F,!0)),co("innerHeight",F=>et(Z,F,!0)),Q(t,Ct),yt()}var Bb=(t,e)=>et(e,!_(e)),Mb=(t,e,n)=>e(_(n).label),Vb=ft('<button type="button" class="btn-icond btn-lg"><!></button>'),Hb=ft('<button type="button" aria-label="Select color" class="w-8 h-8 rounded-full ring-2 ring-gray-200 hover:ring-primary-500 transition"></button>'),Wb=ft('<div class="grid h-screen grid-rows-[auto_1fr_auto]"><header class="bg-surface-100 shadow flex flex-wrap items-center gap-3"><div class="flex-none px-8 bg-primary rounded select-none text-left font-bold text-error-700 flex items-center gap-2" style="min-width: 180px;"><img alt="Momoi Icon" class="w-16 h-16 object-contain"/> <span class="hidden sm:inline">HGペイント（歩行グラフィックペイント）</span> <span class="sm:hidden flex flex-col"><span>HGペイント</span> <span>（歩行グラフィックペイント）</span></span></div> <div class="flex flex-1 flex-wrap justify-center items-center gap-3"><!> <div class="input-group grid-cols-[1fr_auto]"><input class="ig-input" type="text" placeholder="レイヤー名" maxlength="32"/> <button title="レイヤー名の編集"><!></button></div> <button type="button" class="btn-icond btn-lg"><!></button> <button type="button" class="btn-icond btn-lg"><!></button></div> <!> <div class="w-[12ch] flex justify-between font-mono text-sm tabular-nums"><span class="text-left">不透明度</span> <span class="text-right"> </span></div> <div class="my-2 w-full basis-full max-w-[300px] mt-2"><!></div></header> <div class="grid grid-cols-1 md:grid-cols-[auto_1fr_auto]"><aside class="bg-surface-200 p-4 space-y-4"><!></aside> <main class="bg-white flex items-center justify-center gap-4"><!> <div></div> <!></main> <aside class="bg-surface-200 p-4 space-y-4"><!> <!></aside></div> <footer class="bg-surface-100 shadow p-2 flex flex-wrap items-center justify-center gap-2"><!> <nav class="btn-group preset-outlined-surface-200-800 flex gap-4"><!> <!> <!> <!> <!></nav> <nav class="btn-group preset-outlined-surface-200-800 flex gap-2"></nav> <!> <!> <!> <!> <div class="w-full text-left flex flex-wrap items-center gap-4"><div class="rounded-full ring-2 ring-black ring-offset-2 ring-offset-white"><!></div> <input type="color" class="w-10 h-10 rounded-full border-none p-0"/> <div class="flex gap-2"></div></div></footer></div>');function Yb(t,e){bt(e,!0);const[n,r]=xs(),i=()=>gi(Dn,"$color",n),a=()=>gi(Pi,"$isOnionSkin",n),s=globalThis.innerWidth<768;let o=mt(0);const c=()=>{setTimeout(()=>{et(o,performance.now(),!0)})};Vt(()=>(document.addEventListener("pointerup",c),()=>document.removeEventListener("pointerup",c)));const u=async rt=>{if(!v(rt)&&rt.ctrlKey)switch(rt.key){case"1":rt.preventDefault(),et(j,f.pen.label,!0);break;case"2":rt.preventDefault(),et(j,f.eraser.label,!0);break;case"3":rt.preventDefault(),et(j,f.dropper.label,!0);break;case"4":rt.preventDefault(),et(j,f.fill.label,!0);break;case"5":rt.preventDefault(),et(j,f.translate.label,!0);break;case"e":rt.preventDefault(),et(Z,!_(Z));break;case"f":rt.preventDefault(),et(U,!_(U));break;case"g":rt.preventDefault(),et(tt,!_(tt));break;case"d":rt.preventDefault(),et(N,!_(N));break;case"z":rt.preventDefault(),ot(f.undo.label);break;case"Z":rt.preventDefault(),ot(f.redo.label);break;case"s":rt.preventDefault(),ot(f.save.label);break;case"c":{rt.preventDefault();const _t=await new Promise(vt=>xr().toBlob(vt));if(!_t)return;const st=new ClipboardItem({"image/png":_t});await navigator.clipboard.write([st])}break}};Vt(()=>{if(_(b))return window.removeEventListener("keydown",u),window.addEventListener("keydown",u),()=>window.removeEventListener("keydown",u)});const v=rt=>{var st;const _t=rt.target;return!((st=getSelection())!=null&&st.isCollapsed)||_t.tagName==="INPUT"||_t.tagName==="TEXTAREA"||_t.isContentEditable},m=async rt=>{var Kr,Gs,Ks;if(v(rt)||!_(d)||(Kr=_(d))!=null&&Kr.locked)return;let _t=null;for(const mn of((Gs=rt.clipboardData)==null?void 0:Gs.items)??[])mn.kind==="file"&&mn.type.startsWith("image/")&&(_t=mn);if(!_t)return;const st=_t.getAsFile();if(!st)return;const vt=Ba(),{width:Tt,height:zt}=Hi,Pt=await createImageBitmap(st),Ie=document.createElement("canvas");Ie.width=Tt,Ie.height=zt;const Ae=Ie.getContext("2d");if(!Ae)return;Ae.imageSmoothingEnabled=!1;const Tn=Math.min(Tt/Pt.width,zt/Pt.height),In=Pt.width*Tn,qn=Pt.height*Tn,Je=(Tt-In)/2,gn=(zt-qn)/2;Ae.drawImage(Pt,Je,gn,In,qn);const{data:aa}=Ae.getImageData(0,0,Tt,zt);for(let mn=0;mn<zt;mn++)for(let Zr=0;Zr<Tt;Zr++){const Zs=(mn*Tt+Zr)*4,[eu,nu,ru,Xs]=aa.subarray(Zs,Zs+4);Xs&&(Bn.value=`rgba(${eu}, ${nu}, ${ru}, ${Xs/255})`,_(d).drawByDot(Zr*vt,mn*vt),_(d).used=!0)}(Ks=_(d))==null||Ks.trace(),c()};Vt(()=>{if(_(b))return window.removeEventListener("paste",m),window.addEventListener("paste",m),()=>window.removeEventListener("paste",m)});const h=(rt,_t)=>{if(!_(d))return;const st=xr().getContext("2d",{willReadFrequently:!0});if(!st)return;const{data:vt}=st.getImageData(0,0,k,w),Tt=(_t*k+rt)*4,zt=`#${Array.from(vt.slice(Tt,Tt+3)).map(Pt=>Pt.toString(16).padStart(2,"0")).join("")}`;Dn.set(zt)},l=async(rt,_t)=>{var Ie;if(!_(d))return;const st=(Ie=i().slice(1).match(/.{2}/g))==null?void 0:Ie.map(Ae=>Number.parseInt(Ae,16));if((st==null?void 0:st.length)!==3)return;const[vt,Tt,zt]=st,Pt=Ju(_(d).data,k,w,rt,_t,_(Z)?[0,0,0,0]:[vt,Tt,zt,255]);Pt&&(_(d).data=Pt)};let p=mt(void 0),d=mt(void 0),b=mt(null),y=mt(null);const w=s?Math.floor(globalThis.innerWidth*.9/48)*48:480;let k=w,T=mt(0);Vt(()=>{x()});const x=async()=>{if(!_(p))return;et(T,performance.now(),!0);const rt=zi,_t=Bi;k=Math.floor(w*(rt/_t)),ad(_(p),k,w);const st=jl.value,vt=Ts.value;st==null||st.canvas.classList.add("upper-canvas"),vt==null||vt.canvas.classList.add("gimp-checkered-background"),et(b,st,!0),et(y,vt,!0),rd(1,_t),document.documentElement.style.setProperty("--grid-cell-size",`${Ba()}px`),et(d,new ln("レイヤー #1"),!0)};Vt(()=>{if(!_(b))return;let rt=null,_t=null;od((vt,Tt,zt)=>{var Pt,Ie,Ae,Tn,In;if(rt===null&&(rt=vt),_t===null&&(_t=Tt),_(j)===f.dropper.label||(zt&2)!==0)h(vt,Tt);else if(!((Pt=_(d))!=null&&Pt.locked))if(_(j)===f.translate.label)(Ie=_(d))==null||Ie.translateByDot(vt-rt,Tt-_t);else{const qn=ud(vt,Tt,rt,_t);switch(_(j)){case f.pen.label:for(const[Je,gn]of qn)_(Z)?(Ae=_(d))==null||Ae.eraseByDot(Je,gn):(Tn=_(d))==null||Tn.drawByDot(Je,gn);break;case f.eraser.label:for(const[Je,gn]of qn)(In=_(d))==null||In.eraseByDot(Je,gn);break}}rt=vt,_t=Tt});const st=()=>{var vt;(vt=_(d))!=null&&vt.modified()&&(_(d).trace(),R())};ld((vt,Tt,zt)=>{var Pt;rt=null,_t=null,!((Pt=_(d))!=null&&Pt.locked)&&(_(j)===f.fill.label&&l(vt,Tt),st())}),sd((vt,Tt,zt)=>{})}),Vt(()=>{_(d)&&(et(O,[_(d).opacity],!0),et(A,_(d).visible,!0),et(P,_(d).name,!0),et(I,!0),et(M,_(d).locked,!0))});let O=mt(Xt([100])),A=mt(!0),P=mt(""),I=mt(!0),M=mt(!1);Vt(()=>{_(d)&&(_(d).opacity=_(O)[0])}),Vt(()=>{_(d)&&(_(d).visible=_(A))}),Vt(()=>{_(d)&&(_(d).name=_(P))}),Vt(()=>{_(d)&&(_(d).locked=_(M))}),Vt(()=>{Gl.value=i(),Bn.value=i()});let z=mt(Xt([]));const E=32,R=()=>{if(_(j)===f.translate.label)return;const rt=_(z).indexOf(i());rt!==0&&(rt!==-1&&_(z).splice(rt,1),_(z).unshift(i()),_(z).length>E&&_(z).pop(),et(z,[..._(z)],!0))},f={pen:{label:"ペン",mdi:Ym,icon:Ed},eraser:{label:"消しゴム",mdi:Gm,icon:vo},dropper:{label:"カラーピッカー",mdi:Km,icon:Cd},fill:{label:"塗りつぶし",mdi:Zm,icon:kd},translate:{label:"ハンドツール",mdi:Xm,icon:xd},erasable:{icon:vo},flip:{icon:bd},grid:{icon:yd},undo:{label:"戻る",mdi:tb,icon:Rd},redo:{label:"進む",mdi:Jm,icon:Td},save:{label:"画像を保存",mdi:qm,icon:Id},clear:{label:"全消し",mdi:Qm,icon:bi}};let L=[f.pen,f.eraser,f.dropper,f.fill,f.translate],j=mt(Xt(ho.value??f.pen.label));const V=rt=>{const _t=`fill="${_(N)?"white":"black"}" stroke="${_(N)?"black":"white"}" stroke-width="1"`,st=`<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32"><path d="${rt}" ${_t}/></svg>`;return`data:image/svg+xml;base64,${btoa(st)}`};Vt(()=>{var rt;if(ho.value=_(j),_(b)){const _t=_(j)===f.fill.label?"21 19":"3 21",st=(rt=L.find(vt=>vt.label===_(j)))==null?void 0:rt.mdi;if(!st)return;_(b).canvas.style.cursor=`url('${V(st)}') ${_t}, auto`}});let Z=mt(!1),U=mt(!1);Vt(()=>{Ss.value=_(U)});let tt=mt(!0),N=mt(!1);Vt(()=>{_(N)?document.body.classList.add("hg-paint-gimp-dark"):document.body.classList.remove("hg-paint-gimp-dark")});let B=[f.undo,f.redo,f.save,f.clear];const ot=rt=>{var _t,st,vt,Tt;switch(rt){case f.undo.label:(_t=_(d))==null||_t.undo(),c();break;case f.redo.label:(st=_(d))==null||st.redo(),c();break;case f.save.label:{const zt=xr().toDataURL("image/png"),Pt=document.createElement("a");Pt.href=zt,Pt.download="drawing.png",Pt.click()}break;case f.clear.label:(vt=_(d))==null||vt.clear(),(Tt=_(d))==null||Tt.trace();break}};var nt=Wb(),J=K(nt),wt=K(J),St=K(wt);ke(4),$(wt);var dt=X(wt,2),xt=K(dt);Rn(xt,{controlActive:"bg-secondary-500",get checked(){return _(M)},onCheckedChange:st=>{et(M,st.checked,!0)},inactiveChild:st=>{Za(st,{size:"14"})},activeChild:st=>{Za(st,{size:"14"})},$$slots:{inactiveChild:!0,activeChild:!0}});var ht=X(xt,2),Ct=K(ht);qt(Ct);var Mt=X(Ct,2);Mt.__click=[Bb,I];var Bt=K(Mt);{var g=rt=>{Ad(rt,{size:18})},q=rt=>{gd(rt,{size:18})};Lt(Bt,rt=>{_(I)?rt(g):rt(q,!1)})}$(Mt),$(ht);var F=X(ht,2);F.__click=()=>{if(_(M)||!_(d)||_(d).used&&!confirm(`${_(d).name}を削除しますか？`))return;_(d).delete();const{prev:rt,next:_t}=_(d);_t?et(d,_t,!0):rt?et(d,rt,!0):(qa(),et(d,new ln("レイヤー #1"),!0))};var S=K(F);bi(S,{size:18}),$(F);var C=X(F,2);C.__click=async()=>{_(M)||!_(d)||!confirm("全レイヤーを削除しますか？")||(Rr([]),qa(),et(d,new ln("レイヤー #1"),!0))};var D=K(C);pd(D,{size:18}),$(C),$(dt);var G=X(dt,2);Rn(G,{controlActive:"bg-secondary-500",get checked(){return _(A)},onCheckedChange:st=>{et(A,st.checked,!0)},inactiveChild:st=>{Ka(st,{size:"14"})},activeChild:st=>{Ka(st,{size:"14"})},$$slots:{inactiveChild:!0,activeChild:!0}});var Y=X(G,2),H=X(K(Y),2),it=K(H);$(H),$(Y);var lt=X(Y,2),at=K(lt);Sc(at,{get value(){return _(O)},onValueChange:rt=>et(O,rt.value,!0),markers:[25,50,75]}),$(lt),$(J);var ut=X(J,2),Ft=K(ut),It=K(Ft);zd(It,{get initTimestamp(){return _(T)},get pointerupTimestamp(){return _(o)},get activeLayer(){return _(d)},set activeLayer(rt){et(d,rt,!0)}}),$(Ft);var Jt=X(Ft,2),be=K(Jt);{var oe=rt=>{Dm(rt,{get initTimestamp(){return _(T)}})};Lt(be,rt=>{s||rt(oe)})}var Se=X(be,2);let jt;Pe(Se,rt=>et(p,rt),()=>_(p));var hn=X(Se,2);{var vn=rt=>{ym(rt,{})};Lt(hn,rt=>{s||rt(vn)})}$(Jt);var le=X(Jt,2),pn=K(le);nf(pn,{});var dr=X(pn,2);Tm(dr,{get pointerupTimestamp(){return _(o)},get activeLayer(){return _(d)},set activeLayer(rt){et(d,rt,!0)}}),$(le),$(ut);var jn=X(ut,2),$n=K(jn);No($n,{name:"tool",get value(){return _(j)},onValueChange:rt=>{rt.value&&et(j,rt.value,!0)},children:(rt,_t)=>{var st=Et(),vt=pt(st);pe(vt,17,()=>L,ve,(Tt,zt)=>{var Pt=Et(),Ie=pt(Pt);se(Ie,()=>No.Item,(Ae,Tn)=>{Tn(Ae,{get value(){return _(zt).label},children:(In,qn)=>{var Je=Et(),gn=pt(Je);se(gn,()=>_(zt).icon,(aa,Kr)=>{Kr(aa,{})}),Q(In,Je)},$$slots:{default:!0}})}),Q(Tt,Pt)}),Q(rt,st)},$$slots:{default:!0}});var Dt=X($n,2),Kt=K(Dt);Rn(Kt,{controlActive:"bg-secondary-500",get checked(){return _(Z)},onCheckedChange:st=>{et(Z,st.checked,!0)},inactiveChild:st=>{var vt=Et(),Tt=pt(vt);se(Tt,()=>f.erasable.icon,(zt,Pt)=>{Pt(zt,{size:"14"})}),Q(st,vt)},activeChild:st=>{var vt=Et(),Tt=pt(vt);se(Tt,()=>f.erasable.icon,(zt,Pt)=>{Pt(zt,{size:"14"})}),Q(st,vt)},$$slots:{inactiveChild:!0,activeChild:!0}});var ie=X(Kt,2);Rn(ie,{controlActive:"bg-secondary-500",get checked(){return _(U)},onCheckedChange:st=>{et(U,st.checked,!0)},inactiveChild:st=>{var vt=Et(),Tt=pt(vt);se(Tt,()=>f.flip.icon,(zt,Pt)=>{Pt(zt,{size:"14"})}),Q(st,vt)},activeChild:st=>{var vt=Et(),Tt=pt(vt);se(Tt,()=>f.flip.icon,(zt,Pt)=>{Pt(zt,{size:"14"})}),Q(st,vt)},$$slots:{inactiveChild:!0,activeChild:!0}});var Ne=X(ie,2);Rn(Ne,{controlActive:"bg-secondary-500",get checked(){return _(tt)},onCheckedChange:st=>{et(tt,st.checked,!0)},inactiveChild:st=>{var vt=Et(),Tt=pt(vt);se(Tt,()=>f.grid.icon,(zt,Pt)=>{Pt(zt,{size:"14"})}),Q(st,vt)},activeChild:st=>{var vt=Et(),Tt=pt(vt);se(Tt,()=>f.grid.icon,(zt,Pt)=>{Pt(zt,{size:"14"})}),Q(st,vt)},$$slots:{inactiveChild:!0,activeChild:!0}});var Fe=X(Ne,2);Rn(Fe,{controlActive:"bg-secondary-500",get checked(){return _(N)},onCheckedChange:st=>{et(N,st.checked,!0)},inactiveChild:st=>{Od(st,{size:"14"})},activeChild:st=>{wd(st,{size:"14"})},$$slots:{inactiveChild:!0,activeChild:!0}});var Ze=X(Fe,2);Rn(Ze,{controlActive:"bg-secondary-500",get checked(){return a()},onCheckedChange:st=>{Pi.set(st.checked)},inactiveChild:st=>{po(st,{size:"14"})},activeChild:st=>{po(st,{size:"14"})},$$slots:{inactiveChild:!0,activeChild:!0}}),$(Dt);var Te=X(Dt,2);pe(Te,21,()=>B,ve,(rt,_t)=>{var st=Vb();st.__click=[Mb,ot,_t];var vt=K(st);se(vt,()=>_(_t).icon,(Tt,zt)=>{zt(Tt,{size:18})}),$(st),Q(rt,st)}),$(Te);var Xe=X(Te,2);Om(Xe);var Gr=X(Xe,2);$m(Gr,{init:x});var Ye=X(Gr,2);hm(Ye,{init:x,get activeLayer(){return _(d)},set activeLayer(rt){et(d,rt,!0)},get initTimestamp(){return _(T)},set initTimestamp(rt){et(T,rt,!0)}});var js=X(Ye,2);sm(js,{});var $s=X(js,2),ra=K($s),tu=K(ra);zb(tu,{label:"",isAlpha:!1,get hex(){return Bu(),i()},set hex(rt){ao(Dn,rt)}}),$(ra);var ia=X(ra,2);qt(ia);var qs=X(ia,2);pe(qs,21,()=>_(z),ve,(rt,_t)=>{var st=Hb();st.__click=()=>Dn.set(_(_t)),Ot(()=>je(st,`background-color:${_(_t)??""};`)),Q(rt,st)}),$(qs),$($s),$(jn),$(nt),Ot(rt=>{Ht(St,"src",`${Mu??""}/momoi.png`),Ct.disabled=_(I),ne(Mt,1,`ig-btn ${_(I)?"":"preset-filled"}`),ue(it,`${_(O)??""}%`),jt=ne(Se,1,"relative",null,jt,rt)},[()=>({"hg-paint-grid-mode":_(tt)})]),xn(Ct,()=>_(P),rt=>et(P,rt)),xn(ia,i,rt=>ao(Dn,rt)),Q(t,nt),yt(),r()}me(["click"]);export{Yb as component};
