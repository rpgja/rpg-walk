var su=Object.defineProperty;var Js=t=>{throw TypeError(t)};var ou=(t,e,n)=>e in t?su(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ze=(t,e,n)=>ou(t,typeof e!="symbol"?e+"":e,n),Qs=(t,e,n)=>e.has(t)||Js("Cannot "+n);var te=(t,e,n)=>(Qs(t,e,"read from private field"),n?n.call(t):e.get(t)),bn=(t,e,n)=>e.has(t)?Js("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ye=(t,e,n,r)=>(Qs(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);import{c as lu,q as cu,s as wl,u as xl,v as uu,x as du,f as J,d as Et,l as me,g as ft,y as Ni,t as qr,z as zn}from"../chunks/D5T_8J7t.js";import{am as kl,aq as fu,aC as hu,aD as El,aE as vu,B as Cl,P as bs,p as Yt,h as bi,V as ys,o as Fi,d as sn,W as pu,n as Sl,aF as Tl,c as wr,g as Il,J as w,a7 as gu,R as mu,S as bu,T as to,s as xr,e as yu,U as _s,aG as oa,l as Al,Z as Ol,t as Rr,aH as ws,aI as eo,aJ as xs,a0 as _u,aK as no,aL as wu,aM as xu,k as ku,aN as Eu,al as Rl,aO as Cu,a as Su,Q as Pl,aP as Tu,X as Ll,A as zi,Y as ks,K as Iu,aQ as Au,aR as Ou,aS as Ru,af as Pu,z as Rt,av as ro,aw as io,ax as Lu,q as yt,u as _t,w as X,N as Z,O as $,v as ht,ak as ct,aT as Du,D as Vt,a1 as nt,ai as bt,y as Ot,aa as Xt,F as Nu,ah as Dl,aU as Fu,aV as zu,x as ke,aW as Bn,aj as Bu}from"../chunks/Dc885vMl.js";import{a as ao,b as Mu,s as oe}from"../chunks/B1RjBzki.js";import{p as U,r as Nt,s as Ht,a as Bi,d as Pr,i as Dt,b as Pe,c as se,e as so,m as Vu}from"../chunks/D0CSlk1z.js";import{b as $t,s as At,a as Ut,c as ne,r as qt,d as za,e as je,f as Oe}from"../chunks/CZg-qxY3.js";import{b as Hu}from"../chunks/DuZZE7W7.js";import{w as Es,a as Nl,o as Wu,g as oo}from"../chunks/Chji4vsj.js";const Uu=[];function On(t,e=!1){return ci(t,new Map,"",Uu)}function ci(t,e,n,r,i=null){if(typeof t=="object"&&t!==null){var a=e.get(t);if(a!==void 0)return a;if(t instanceof Map)return new Map(t);if(t instanceof Set)return new Set(t);if(kl(t)){var s=Array(t.length);e.set(t,s),i!==null&&e.set(i,s);for(var o=0;o<t.length;o+=1){var u=t[o];o in t&&(s[o]=ci(u,e,n,r))}return s}if(fu(t)===hu){s={},e.set(t,s),i!==null&&e.set(i,s);for(var f in t)s[f]=ci(t[f],e,n,r);return s}if(t instanceof Date)return structuredClone(t);if(typeof t.toJSON=="function")return ci(t.toJSON(),e,n,r,t)}if(t instanceof EventTarget)return t;try{return structuredClone(t)}catch{return t}}function ui(t,e,n){Yt&&bi();var r=t,i=pu,a,s=El()?vu:Cl;bs(()=>{s(i,i=e())&&(a&&ys(a),a=Fi(()=>n(r)))}),Yt&&(r=sn)}function de(t,e){return e}function ju(t,e,n,r){for(var i=[],a=e.length,s=0;s<a;s++)xu(e[s].e,i,!0);var o=a>0&&i.length===0&&n!==null;if(o){var u=n.parentNode;ku(u),u.append(n),r.clear(),yn(t,e[0].prev,e[a-1].next)}Eu(i,()=>{for(var f=0;f<a;f++){var h=e[f];o||(r.delete(h.k),yn(t,h.prev,h.next)),Rl(h.e,!o)}})}function fe(t,e,n,r,i,a=null){var s=t,o={flags:e,items:new Map,first:null},u=(e&Tl)!==0;if(u){var f=t;s=Yt?wr(Il(f)):f.appendChild(Sl())}Yt&&bi();var h=null,m=!1,d=gu(()=>{var l=n();return kl(l)?l:l==null?[]:Al(l)});bs(()=>{var l=w(d),p=l.length;if(m&&p===0)return;m=p===0;let c=!1;if(Yt){var g=mu(s)===bu;g!==(p===0)&&(s=to(),wr(s),xr(!1),c=!0)}if(Yt){for(var b=null,_,x=0;x<p;x++){if(sn.nodeType===8&&sn.data===yu){s=sn,c=!0,xr(!1);break}var C=l[x],k=r(C,x);_=Fl(sn,o,b,null,C,k,x,i,e,n),o.items.set(k,_),b=_}p>0&&wr(to())}Yt||$u(l,o,s,i,e,r,n),a!==null&&(p===0?h?_s(h):h=Fi(()=>a(s)):h!==null&&ys(h,()=>{h=null})),c&&xr(!0),w(d)}),Yt&&(s=sn)}function $u(t,e,n,r,i,a,s){var v,D,W,V;var o=(i&wu)!==0,u=(i&(ws|xs))!==0,f=t.length,h=e.items,m=e.first,d=m,l,p=null,c,g=[],b=[],_,x,C,k;if(o)for(k=0;k<f;k+=1)_=t[k],x=a(_,k),C=h.get(x),C!==void 0&&((v=C.a)==null||v.measure(),(c??(c=new Set)).add(C));for(k=0;k<f;k+=1){if(_=t[k],x=a(_,k),C=h.get(x),C===void 0){var A=d?d.e.nodes_start:n;p=Fl(A,e,p,p===null?e.first:p.next,_,x,k,r,i,s),h.set(x,p),g=[],b=[],d=p.next;continue}if(u&&qu(C,_,k,i),(C.e.f&oa)!==0&&(_s(C.e),o&&((D=C.a)==null||D.unfix(),(c??(c=new Set)).delete(C))),C!==d){if(l!==void 0&&l.has(C)){if(g.length<b.length){var I=b[0],P;p=I.prev;var O=g[0],B=g[g.length-1];for(P=0;P<g.length;P+=1)lo(g[P],I,n);for(P=0;P<b.length;P+=1)l.delete(b[P]);yn(e,O.prev,B.next),yn(e,p,O),yn(e,B,I),d=I,p=B,k-=1,g=[],b=[]}else l.delete(C),lo(C,d,n),yn(e,C.prev,C.next),yn(e,C,p===null?e.first:p.next),yn(e,p,C),p=C;continue}for(g=[],b=[];d!==null&&d.k!==x;)(d.e.f&oa)===0&&(l??(l=new Set)).add(d),b.push(d),d=d.next;if(d===null)continue;C=d}g.push(C),p=C,d=C.next}if(d!==null||l!==void 0){for(var z=l===void 0?[]:Al(l);d!==null;)(d.e.f&oa)===0&&z.push(d),d=d.next;var E=z.length;if(E>0){var R=(i&Tl)!==0&&f===0?n:null;if(o){for(k=0;k<E;k+=1)(W=z[k].a)==null||W.measure();for(k=0;k<E;k+=1)(V=z[k].a)==null||V.fix()}ju(e,z,R,h)}}o&&Ol(()=>{var K;if(c!==void 0)for(C of c)(K=C.a)==null||K.apply()}),Rr.first=e.first&&e.first.e,Rr.last=p&&p.e}function qu(t,e,n,r){(r&ws)!==0&&eo(t.v,e),(r&xs)!==0?eo(t.i,n):t.i=n}function Fl(t,e,n,r,i,a,s,o,u,f){var h=(u&ws)!==0,m=(u&Cu)===0,d=h?m?_u(i):no(i):i,l=(u&xs)===0?s:no(s),p={i:l,v:d,k:a,a:null,e:null,prev:n,next:r};try{return p.e=Fi(()=>o(t,d,l,f),Yt),p.e.prev=n&&n.e,p.e.next=r&&r.e,n===null?e.first=p:(n.next=p,n.e.next=p.e),r!==null&&(r.prev=p,r.e.prev=p.e),p}finally{}}function lo(t,e,n){for(var r=t.next?t.next.e.nodes_start:n,i=e?e.e.nodes_start:n,a=t.e.nodes_start;a!==r;){var s=Su(a);i.before(a),a=s}}function yn(t,e,n){e===null?t.first=n:(e.next=n,e.e.next=n&&n.e),n!==null&&(n.prev=e,n.e.prev=e&&e.e)}function Gu(t,e,n,r,i,a){let s=Yt;Yt&&bi();var o,u,f=null;Yt&&sn.nodeType===1&&(f=sn,bi());var h=Yt?sn:t,m;bs(()=>{const d=e()||null;var l=Tu;d!==o&&(m&&(d===null?ys(m,()=>{m=null,u=null}):d===u?_s(m):(Rl(m),ao(!1))),d&&d!==u&&(m=Fi(()=>{if(f=Yt?f:document.createElementNS(l,d),lu(f,f),r){Yt&&cu(d)&&f.append(document.createComment(""));var p=Yt?Il(f):f.appendChild(Sl());Yt&&(p===null?xr(!1):wr(p)),r(f,p)}Rr.nodes_end=f,h.before(f)})),o=d,o&&(u=o),ao(!0))},Pl),s&&(xr(!0),wr(h))}function Zu(t,e,n){Ll(()=>{var r=zi(()=>e(t,n==null?void 0:n())||{});if(n&&(r!=null&&r.update)){var i=!1,a={};ks(()=>{var s=n();Iu(s),i&&Cl(a,s)&&(a=s,r.update(s))}),i=!0}if(r!=null&&r.destroy)return()=>r.destroy()})}const Ku=()=>performance.now(),on={tick:t=>requestAnimationFrame(t),now:()=>Ku(),tasks:new Set};function zl(){const t=on.now();on.tasks.forEach(e=>{e.c(t)||(on.tasks.delete(e),e.f())}),on.tasks.size!==0&&on.tick(zl)}function Xu(t){let e;return on.tasks.size===0&&on.tick(zl),{promise:new Promise(n=>{on.tasks.add(e={c:t,f:n})}),abort(){on.tasks.delete(e)}}}function ti(t,e){wl(()=>{t.dispatchEvent(new CustomEvent(e))})}function Yu(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;const e=t.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("")}function co(t){const e={},n=t.split(";");for(const r of n){const[i,a]=r.split(":");if(!i||a===void 0)break;const s=Yu(i.trim());e[s]=a.trim()}return e}const Ju=t=>t;function Qu(t,e,n,r){var i=(t&Ru)!==0,a="both",s,o=e.inert,u=e.style.overflow,f,h;function m(){var g=Lu,b=Rr;ro(null),io(null);try{return s??(s=n()(e,(r==null?void 0:r())??{},{direction:a}))}finally{ro(g),io(b)}}var d={is_global:i,in(){e.inert=o,ti(e,"introstart"),f=Ba(e,m(),h,1,()=>{ti(e,"introend"),f==null||f.abort(),f=s=void 0,e.style.overflow=u})},out(g){e.inert=!0,ti(e,"outrostart"),h=Ba(e,m(),f,0,()=>{ti(e,"outroend"),g==null||g()})},stop:()=>{f==null||f.abort(),h==null||h.abort()}},l=Rr;if((l.transitions??(l.transitions=[])).push(d),Mu){var p=i;if(!p){for(var c=l.parent;c&&(c.f&Pl)!==0;)for(;(c=c.parent)&&(c.f&Au)===0;);p=!c||(c.f&Ou)!==0}p&&Ll(()=>{zi(()=>d.in())})}}function Ba(t,e,n,r,i){var a=r===1;if(Pu(e)){var s,o=!1;return Ol(()=>{if(!o){var g=e({direction:a?"in":"out"});s=Ba(t,g,n,r,i)}}),{abort:()=>{o=!0,s==null||s.abort()},deactivate:()=>s.deactivate(),reset:()=>s.reset(),t:()=>s.t()}}if(n==null||n.deactivate(),!(e!=null&&e.duration))return i(),{abort:Rt,deactivate:Rt,reset:Rt,t:()=>r};const{delay:u=0,css:f,tick:h,easing:m=Ju}=e;var d=[];if(a&&n===void 0&&(h&&h(0,1),f)){var l=co(f(0,1));d.push(l,l)}var p=()=>1-r,c=t.animate(d,{duration:u,fill:"forwards"});return c.onfinish=()=>{c.cancel();var g=(n==null?void 0:n.t())??1-r;n==null||n.abort();var b=r-g,_=e.duration*Math.abs(b),x=[];if(_>0){var C=!1;if(f)for(var k=Math.ceil(_/16.666666666666668),A=0;A<=k;A+=1){var I=g+b*m(A/k),P=co(f(I,1-I));x.push(P),C||(C=P.overflow==="hidden")}C&&(t.style.overflow="hidden"),p=()=>{var O=c.currentTime;return g+b*m(O/_)},h&&Xu(()=>{if(c.playState!=="running")return!1;var O=p();return h(O,1-O),!0})}c=t.animate(x,{duration:_,fill:"forwards"}),c.onfinish=()=>{p=()=>r,h==null||h(r,1-r),i()}},{abort:()=>{c&&(c.cancel(),c.effect=null,c.onfinish=Rt)},deactivate:()=>{i=Rt},reset:()=>{r===0&&(h==null||h(1,0))},t:()=>p()}}function xn(t,e,n=e){var r=El();xl(t,"input",i=>{var a=i?t.defaultValue:t.value;if(a=la(t)?ca(a):a,n(a),r&&a!==(a=e())){var s=t.selectionStart,o=t.selectionEnd;t.value=a??"",o!==null&&(t.selectionStart=s,t.selectionEnd=Math.min(o,t.value.length))}}),(Yt&&t.defaultValue!==t.value||zi(e)==null&&t.value)&&n(la(t)?ca(t.value):t.value),ks(()=>{var i=e();la(t)&&i===ca(t.value)||t.type==="date"&&!i&&!t.value||i!==t.value&&(t.value=i??"")})}function Bl(t,e,n=e){xl(t,"change",r=>{var i=r?t.defaultChecked:t.checked;n(i)}),(Yt&&t.defaultChecked!==t.checked||zi(e)==null)&&n(t.checked),ks(()=>{var r=e();t.checked=!!r})}function la(t){var e=t.type;return e==="number"||e==="range"}function ca(t){return t===""?null:+t}function uo(t,e){uu(window,["resize"],()=>wl(()=>e(window[t])))}let Mi,Vi,un,Hi,Ve;const He=(t,e)=>t+e*un,Ml=t=>[t%un,Math.floor(t/un)],Cs=(t,e,n,r)=>{Mi=t,Vi=e;const i=Vl(r);Hi=i.length,un=n,Ve=i,Lr.clear();for(const[a,s]of i.entries())Lr.set(s,a*un);lr.clear(),Ge.clear(),Dr.clear()},Lr=new Map,lr=new Map,Ge=new Map,Dr=new Map,mt={w:{key:"w",label:"後"},a:{key:"a",label:"左"},s:{key:"s",label:"前"},d:{key:"d",label:"右"},q:{key:"q",label:"左後"},e:{key:"e",label:"右後"},z:{key:"z",label:"左前"},c:{key:"c",label:"右前"}},Wi=t=>t.map(e=>e.key).join(""),Vl=t=>t.split("").map(e=>e in mt?mt[e]:{key:e,label:""}),We={label:"RPGEN",w:16,h:16,frames:2,ways:[mt.w,mt.d,mt.s,mt.a]},Hl={label:"RPGツクール2000",w:24,h:32,frames:3,ways:[mt.w,mt.d,mt.s,mt.a]},Wl={label:"RPGツクールXP",w:32,h:48,frames:4,ways:[mt.s,mt.a,mt.d,mt.w]},Ul={label:"RPGツクールVX",w:32,h:32,frames:3,ways:[mt.s,mt.a,mt.d,mt.w]},jl={label:"RPGツクールMV",w:48,h:48,frames:3,ways:[mt.s,mt.a,mt.d,mt.w]},Ss=[We,Hl,Wl,Ul,jl],Nr=Object.freeze(Object.defineProperty({__proto__:null,RPGEN:We,RPGMaker2000:Hl,RPGMakerMV:jl,RPGMakerVX:Ul,RPGMakerXP:Wl,canvasByI:Ge,dataURLByI:Dr,get frames(){return un},get height(){return Vi},iByWay:Lr,init:Cs,layersByI:lr,standards:Ss,strToWays:Vl,toI:He,toXY:Ml,way:mt,get ways(){return Hi},get waysOrder(){return Ve},waysToStr:Wi,get width(){return Mi}},Symbol.toStringTag,{value:"Module"}));var td=(t,e,n,r,i,a)=>{const s=(m,d)=>{const l=(d*e+m)*4;return[t[l],t[l+1],t[l+2],t[l+3]]},o=(m,d,l)=>{const p=(d*e+m)*4;[t[p],t[p+1],t[p+2],t[p+3]]=l},u=(m,d)=>m.every((l,p)=>l===d[p]),f=s(r,i);if(u(f,a))return null;const h=[[r,i]];for(;h.length>0;){const m=h.pop();if(!m)break;const[d,l]=m;if(d<0||l<0||d>=e||l>=n)continue;const p=s(d,l);u(p,f)&&(o(d,l,a),h.push([d+1,l],[d-1,l],[d,l+1],[d,l-1]))}return t},he,bl,ed=(bl=class{constructor(){bn(this,he);ye(this,he,{value:null,prev:null,next:null})}add(t){const e={value:t,prev:te(this,he),next:null};te(this,he).next=e,ye(this,he,e)}undo(){const{prev:t}=te(this,he);return t===null||t.value===null?null:(ye(this,he,t),te(this,he).value)}redo(){const{next:t}=te(this,he);return t===null||t.value===null?null:(ye(this,he,t),te(this,he).value)}},he=new WeakMap,bl),ln=null,rn,an,kr,Ma,ue,yi=0,ee=[],sr,Ur,yl,jn=(yl=class{constructor(t,e){bn(this,sr);bn(this,Ur);ye(this,sr,t),ye(this,Ur,e??null)}get value(){return te(this,sr)}set value(t){var e;ye(this,sr,t),(e=te(this,Ur))==null||e.call(this)}},sr=new WeakMap,Ur=new WeakMap,yl),Mn=new jn("#222222"),nd=new jn(2),rd=new jn(16),id=new jn(32),Ts=new jn(!1,()=>{ln&&(ln.style.transform=`scaleX(${Ts.value?-1:1})`)}),Va=()=>kr,ad=(t=1,e=64,n=an)=>{kr=Math.floor(Math.floor(n/e)*t),$l()},Ha=0,Wa=0,Ua=0,ja=0,$a=0,qa=0,Ln=null,$l=()=>{Ha=0,Wa=0,Ua=0,ja=0,$a=0,qa=0,Ln=null},Er=()=>{const t=[];for(const e of ee)e&&t.push(e);return t},sd=(t,e)=>ln==null?void 0:ln.insertBefore(t,e.nextSibling),Fr=t=>{for(const n of ee)n==null||n.canvas.remove();ee=t,Za();let e=Ma.canvas;for(const n of ee)n&&(sd(n.canvas,e),e=n.canvas)},Is=new jn(null),ql=new jn(null),od=(t,e=640,n=360)=>{const r=document.createElement("div");t.innerHTML="",t.append(r),ln=r,rn=Math.floor(e),an=Math.floor(n),r.innerHTML="",r.style.position="relative",r.style.zIndex="0",r.style.display="inline-block",r.style.width=`${e}px`,r.style.height=`${n}px`,yi=0,Ma=new cn(""),ue=new cn(""),ue.canvas.style.zIndex=String(2**16+3),Is.value=Ma,ql.value=ue,ee=[]},Vn=t=>{const{clientX:e,clientY:n}=t,r=ue.canvas.getBoundingClientRect();let i=Math.floor(e-r.left);const a=Math.floor(n-r.top);return Ts.value&&(i=rn-i),[i,a,t.buttons]},ld=t=>{ue.canvas.addEventListener("click",e=>requestAnimationFrame(()=>t(...Vn(e))),{passive:!0}),ue.canvas.addEventListener("contextmenu",e=>e.preventDefault()),ue.canvas.addEventListener("auxclick",e=>{e.preventDefault(),requestAnimationFrame(()=>t(...Vn(e)))})},cd=t=>{ue.canvas.addEventListener("pointerdown",e=>{$l(),ue.canvas.setPointerCapture(e.pointerId),Ga=!0,requestAnimationFrame(()=>t(...Vn(e)))},{passive:!0}),ue.canvas.addEventListener("pointermove",e=>{if(Ga){for(const n of e.getCoalescedEvents())requestAnimationFrame(()=>t(...Vn(n)));requestAnimationFrame(()=>t(...Vn(e)))}},{passive:!0}),ue.canvas.addEventListener("touchstart",e=>e.preventDefault()),ue.canvas.addEventListener("touchmove",e=>e.preventDefault())},Ga=!1,ud=t=>{ue.canvas.addEventListener("pointerup",e=>{ue.canvas.releasePointerCapture(e.pointerId),Ga=!1,requestAnimationFrame(()=>t(...Vn(e)))},{passive:!0})},or,jr,_l,cn=(_l=class{constructor(t="",e=""){ze(this,"canvas");ze(this,"ctx");ze(this,"name");ze(this,"index");ze(this,"history",new ed);ze(this,"hash",0);bn(this,or,!0);bn(this,jr,100);ze(this,"locked",!1);ze(this,"used",!1);ze(this,"uuid");this.name=t,this.uuid=e||crypto.randomUUID();const n=document.createElement("canvas");ln==null||ln.append(n),n.width=rn,n.height=an,n.style.position="absolute",n.style.zIndex=String(++yi),n.style.left="0",n.style.top="0",this.canvas=n;const r=n.getContext("2d",{willReadFrequently:!0});if(!r)throw new Error("Failed to get 2D rendering context");this.ctx=r,ee.push(this),this.index=ee.length-1,this.trace()}get meta(){const{name:t,index:e,hash:n,visible:r,opacity:i,locked:a,used:s,uuid:o}=this;return{name:t,index:e,hash:n,visible:r,opacity:i,locked:a,used:s,uuid:o}}set meta(t){this.name=t.name,this.index=t.index,this.hash=t.hash,this.visible=t.visible,this.opacity=t.opacity,this.locked=t.locked,this.used=t.used,this.uuid=t.uuid}delete(){ee[this.index]=null,this.canvas.remove()}get prev(){const t=ee.slice(0,this.index).findLast(e=>e);return t||null}get next(){const t=ee.slice(this.index+1).find(e=>e);return t||null}swap(t){const e=this.index;if(t===e)return;const n=ee[t];n&&([ee[e],ee[t]]=[ee[t],ee[e]],[this.index,n.index]=[n.index,this.index],[this.canvas.style.zIndex,n.canvas.style.zIndex]=[n.canvas.style.zIndex,this.canvas.style.zIndex])}get visible(){return te(this,or)}set visible(t){ye(this,or,t),this.canvas.style.visibility=te(this,or)?"visible":"hidden"}get opacity(){return te(this,jr)}set opacity(t){ye(this,jr,t),this.canvas.style.opacity=`${t}%`}get data(){return this.ctx.getImageData(0,0,rn,an).data}set data(t){const e=new ImageData(t,rn,an);this.ctx.putImageData(e,0,0)}modified(){const t=dd(this.data);return this.hash!==t?(this.hash=t,this.used=!0,!0):!1}trace(){this.history.add(this.data)}undo(){if(this.locked)return;const t=this.history.undo();t&&(this.data=t)}redo(){if(this.locked)return;const t=this.history.redo();t&&(this.data=t)}clear(){this.locked||this.ctx.clearRect(0,0,rn,an)}translateByDot(t,e){if(this.locked)return;const n=kr;Ha+=t,Wa+=e;const r=Math.round(Ha/n)*n,i=Math.round(Wa/n)*n;(r!==Ua||i!==ja)&&(Ln||(Ln=this.ctx.getImageData(0,0,rn,an)),this.clear(),this.ctx.putImageData(Ln,r,i),Ua=r,ja=i)}translate(t,e){this.locked||(Ln||(Ln=this.ctx.getImageData(0,0,rn,an)),$a+=t,qa+=e,this.clear(),this.ctx.putImageData(Ln,Math.floor($a),Math.floor(qa)))}eraseByDot(t,e){if(this.locked)return;const n=kr,r=Math.floor(t/n)*n,i=Math.floor(e/n)*n;this.ctx.clearRect(r,i,n,n)}drawByDot(t,e){if(this.locked)return;this.ctx.fillStyle=Mn.value;const n=kr,r=Math.floor(t/n)*n,i=Math.floor(e/n)*n;this.ctx.fillRect(r,i,n,n)}erase(t,e){this.locked||(this.ctx.globalCompositeOperation="destination-out",this.ctx.beginPath(),this.ctx.arc(t,e,id.value>>1,0,Math.PI*2),this.ctx.fill(),this.ctx.globalCompositeOperation="source-over")}draw(t,e){if(this.locked)return;this.ctx.fillStyle=Mn.value;const n=rd.value,r=n>>1;this.ctx.fillRect(t-r,e-r,n,n)}drawLine(t,e,n,r){this.locked||(this.ctx.strokeStyle=Mn.value,this.ctx.lineWidth=nd.value,this.ctx.lineCap="round",this.ctx.beginPath(),this.ctx.moveTo(t,e),this.ctx.lineTo(n,r),this.ctx.stroke())}},or=new WeakMap,jr=new WeakMap,_l),Cr=()=>{const t=document.createElement("canvas");t.width=rn,t.height=an;const e=t.getContext("2d");if(!e)throw new Error("Failed to get 2D rendering context");for(const n of ee)!n||!n.visible||(e.globalAlpha=n.opacity/100,e.drawImage(n.canvas,0,0));return t},Za=()=>{yi=2;const t=Er();for(const[e,n]of t.entries())n.index=e,n.canvas.style.zIndex=String(++yi);ee=t},dd=t=>{let e=2166136261;for(let n=0;n<t.length;n++)e^=t[n],e=Math.imul(e,16777619);return e>>>0},fd=(t,e,n,r)=>{const i=n-t,a=r-e,s=Math.max(...[i,a].map(Math.abs))||1,o=i/s,u=a/s;return[...new Array(s).keys()].map(f=>[f*o+t,f*u+e].map(Math.round))};const Gl=typeof window<"u",fo=t=>Gl?localStorage.getItem(t):null,ho=(t,e)=>{Gl&&(e===null?localStorage.removeItem(t):localStorage.setItem(t,e))};var wn,$r;class Zl{constructor(e,n){bn(this,wn);bn(this,$r);ye(this,wn,e),ye(this,$r,n)}get value(){return fo(te(this,wn))}set value(e){var n;this.value!==e&&(ho(te(this,wn),e),(n=te(this,$r))==null||n.call(this))}get json(){try{const e=fo(te(this,wn));return e?JSON.parse(e):null}finally{this.value=null}}set json(e){e===null&&ho(te(this,wn),null),this.value=JSON.stringify(e)}}wn=new WeakMap,$r=new WeakMap;const vo=new Zl("tool"),Kl=new Zl("color"),Dn=Es(Kl.value??Mn.value),ir=Es(0);/**
 * @license @lucide/svelte v0.511.0 - ISC
 *
 * ISC License
 * 
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 * 
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 * 
 */const hd={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};var vd=du("<svg><!><!></svg>");function Wt(t,e){yt(e,!0);const n=U(e,"color",3,"currentColor"),r=U(e,"size",3,24),i=U(e,"strokeWidth",3,2),a=U(e,"absoluteStrokeWidth",3,!1),s=U(e,"iconNode",19,()=>[]),o=Nt(e,["$$slots","$$events","$$legacy","name","color","size","strokeWidth","absoluteStrokeWidth","iconNode","children"]);var u=vd();$t(u,m=>({...hd,...o,width:r(),height:r(),stroke:n(),"stroke-width":m,class:["lucide-icon lucide",e.name&&`lucide-${e.name}`,e.class]}),[()=>a()?Number(i())*24/Number(r()):i()]);var f=Z(u);fe(f,17,s,de,(m,d)=>{var l=ct(()=>Du(w(d),2));let p=()=>w(l)[0],c=()=>w(l)[1];var g=Et(),b=ht(g);Gu(b,p,!0,(_,x)=>{$t(_,()=>({...c()}))}),J(m,g)});var h=X(f);At(h,()=>e.children??Rt),$(u),J(t,u),_t()}function Ka(t,e){yt(e,!0);let n=Nt(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M12 5v14"}],["path",{d:"m19 12-7 7-7-7"}]];Wt(t,Ht({name:"arrow-down"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=Et(),o=ht(s);At(o,()=>e.children??Rt),J(i,s)},$$slots:{default:!0}})),_t()}function pd(t,e){yt(e,!0);let n=Nt(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m12 19-7-7 7-7"}],["path",{d:"M19 12H5"}]];Wt(t,Ht({name:"arrow-left"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=Et(),o=ht(s);At(o,()=>e.children??Rt),J(i,s)},$$slots:{default:!0}})),_t()}function gd(t,e){yt(e,!0);let n=Nt(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M5 12h14"}],["path",{d:"m12 5 7 7-7 7"}]];Wt(t,Ht({name:"arrow-right"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=Et(),o=ht(s);At(o,()=>e.children??Rt),J(i,s)},$$slots:{default:!0}})),_t()}function Nn(t,e){yt(e,!0);let n=Nt(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m5 12 7-7 7 7"}],["path",{d:"M12 19V5"}]];Wt(t,Ht({name:"arrow-up"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=Et(),o=ht(s);At(o,()=>e.children??Rt),J(i,s)},$$slots:{default:!0}})),_t()}function md(t,e){yt(e,!0);let n=Nt(e,["$$slots","$$events","$$legacy"]);const r=[["circle",{cx:"11",cy:"13",r:"9"}],["path",{d:"M14.35 4.65 16.3 2.7a2.41 2.41 0 0 1 3.4 0l1.6 1.6a2.4 2.4 0 0 1 0 3.4l-1.95 1.95"}],["path",{d:"m22 2-1.5 1.5"}]];Wt(t,Ht({name:"bomb"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=Et(),o=ht(s);At(o,()=>e.children??Rt),J(i,s)},$$slots:{default:!0}})),_t()}function bd(t,e){yt(e,!0);let n=Nt(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M20 6 9 17l-5-5"}]];Wt(t,Ht({name:"check"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=Et(),o=ht(s);At(o,()=>e.children??Rt),J(i,s)},$$slots:{default:!0}})),_t()}function po(t,e){yt(e,!0);let n=Nt(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21"}],["path",{d:"M22 21H7"}],["path",{d:"m5 11 9 9"}]];Wt(t,Ht({name:"eraser"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=Et(),o=ht(s);At(o,()=>e.children??Rt),J(i,s)},$$slots:{default:!0}})),_t()}function yd(t,e){yt(e,!0);let n=Nt(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m15 18-.722-3.25"}],["path",{d:"M2 8a10.645 10.645 0 0 0 20 0"}],["path",{d:"m20 15-1.726-2.05"}],["path",{d:"m4 15 1.726-2.05"}],["path",{d:"m9 18 .722-3.25"}]];Wt(t,Ht({name:"eye-closed"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=Et(),o=ht(s);At(o,()=>e.children??Rt),J(i,s)},$$slots:{default:!0}})),_t()}function Xa(t,e){yt(e,!0);let n=Nt(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0"}],["circle",{cx:"12",cy:"12",r:"3"}]];Wt(t,Ht({name:"eye"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=Et(),o=ht(s);At(o,()=>e.children??Rt),J(i,s)},$$slots:{default:!0}})),_t()}function _d(t,e){yt(e,!0);let n=Nt(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M12 17h.01"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3"}]];Wt(t,Ht({name:"file-question"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=Et(),o=ht(s);At(o,()=>e.children??Rt),J(i,s)},$$slots:{default:!0}})),_t()}function wd(t,e){yt(e,!0);let n=Nt(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m3 7 5 5-5 5V7"}],["path",{d:"m21 7-5 5 5 5V7"}],["path",{d:"M12 20v2"}],["path",{d:"M12 14v2"}],["path",{d:"M12 8v2"}],["path",{d:"M12 2v2"}]];Wt(t,Ht({name:"flip-horizontal-2"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=Et(),o=ht(s);At(o,()=>e.children??Rt),J(i,s)},$$slots:{default:!0}})),_t()}function xd(t,e){yt(e,!0);let n=Nt(e,["$$slots","$$events","$$legacy"]);const r=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M3 9h18"}],["path",{d:"M3 15h18"}],["path",{d:"M9 3v18"}],["path",{d:"M15 3v18"}]];Wt(t,Ht({name:"grid-3x3"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=Et(),o=ht(s);At(o,()=>e.children??Rt),J(i,s)},$$slots:{default:!0}})),_t()}function go(t,e){yt(e,!0);let n=Nt(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M13 13.74a2 2 0 0 1-2 0L2.5 8.87a1 1 0 0 1 0-1.74L11 2.26a2 2 0 0 1 2 0l8.5 4.87a1 1 0 0 1 0 1.74z"}],["path",{d:"m20 14.285 1.5.845a1 1 0 0 1 0 1.74L13 21.74a2 2 0 0 1-2 0l-8.5-4.87a1 1 0 0 1 0-1.74l1.5-.845"}]];Wt(t,Ht({name:"layers-2"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=Et(),o=ht(s);At(o,()=>e.children??Rt),J(i,s)},$$slots:{default:!0}})),_t()}function kd(t,e){yt(e,!0);let n=Nt(e,["$$slots","$$events","$$legacy"]);const r=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1"}]];Wt(t,Ht({name:"lock-open"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=Et(),o=ht(s);At(o,()=>e.children??Rt),J(i,s)},$$slots:{default:!0}})),_t()}function Ya(t,e){yt(e,!0);let n=Nt(e,["$$slots","$$events","$$legacy"]);const r=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4"}]];Wt(t,Ht({name:"lock"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=Et(),o=ht(s);At(o,()=>e.children??Rt),J(i,s)},$$slots:{default:!0}})),_t()}function Ed(t,e){yt(e,!0);let n=Nt(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"}]];Wt(t,Ht({name:"moon"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=Et(),o=ht(s);At(o,()=>e.children??Rt),J(i,s)},$$slots:{default:!0}})),_t()}function Cd(t,e){yt(e,!0);let n=Nt(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M12 2v20"}],["path",{d:"m15 19-3 3-3-3"}],["path",{d:"m19 9 3 3-3 3"}],["path",{d:"M2 12h20"}],["path",{d:"m5 9-3 3 3 3"}],["path",{d:"m9 5 3-3 3 3"}]];Wt(t,Ht({name:"move"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=Et(),o=ht(s);At(o,()=>e.children??Rt),J(i,s)},$$slots:{default:!0}})),_t()}function Sd(t,e){yt(e,!0);let n=Nt(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z"}],["path",{d:"m5 2 5 5"}],["path",{d:"M2 13h15"}],["path",{d:"M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z"}]];Wt(t,Ht({name:"paint-bucket"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=Et(),o=ht(s);At(o,()=>e.children??Rt),J(i,s)},$$slots:{default:!0}})),_t()}function Td(t,e){yt(e,!0);let n=Nt(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"}]];Wt(t,Ht({name:"pen"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=Et(),o=ht(s);At(o,()=>e.children??Rt),J(i,s)},$$slots:{default:!0}})),_t()}function Id(t,e){yt(e,!0);let n=Nt(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m12 9-8.414 8.414A2 2 0 0 0 3 18.828v1.344a2 2 0 0 1-.586 1.414A2 2 0 0 1 3.828 21h1.344a2 2 0 0 0 1.414-.586L15 12"}],["path",{d:"m18 9 .4.4a1 1 0 1 1-3 3l-3.8-3.8a1 1 0 1 1 3-3l.4.4 3.4-3.4a1 1 0 1 1 3 3z"}],["path",{d:"m2 22 .414-.414"}]];Wt(t,Ht({name:"pipette"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=Et(),o=ht(s);At(o,()=>e.children??Rt),J(i,s)},$$slots:{default:!0}})),_t()}function Ad(t,e){yt(e,!0);let n=Nt(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M5 12h14"}],["path",{d:"M12 5v14"}]];Wt(t,Ht({name:"plus"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=Et(),o=ht(s);At(o,()=>e.children??Rt),J(i,s)},$$slots:{default:!0}})),_t()}function Od(t,e){yt(e,!0);let n=Nt(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M21 7v6h-6"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7"}]];Wt(t,Ht({name:"redo"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=Et(),o=ht(s);At(o,()=>e.children??Rt),J(i,s)},$$slots:{default:!0}})),_t()}function Rd(t,e){yt(e,!0);let n=Nt(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7"}]];Wt(t,Ht({name:"save"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=Et(),o=ht(s);At(o,()=>e.children??Rt),J(i,s)},$$slots:{default:!0}})),_t()}function Pd(t,e){yt(e,!0);let n=Nt(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z"}]];Wt(t,Ht({name:"square-pen"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=Et(),o=ht(s);At(o,()=>e.children??Rt),J(i,s)},$$slots:{default:!0}})),_t()}function Ld(t,e){yt(e,!0);let n=Nt(e,["$$slots","$$events","$$legacy"]);const r=[["circle",{cx:"12",cy:"12",r:"4"}],["path",{d:"M12 2v2"}],["path",{d:"M12 20v2"}],["path",{d:"m4.93 4.93 1.41 1.41"}],["path",{d:"m17.66 17.66 1.41 1.41"}],["path",{d:"M2 12h2"}],["path",{d:"M20 12h2"}],["path",{d:"m6.34 17.66-1.41 1.41"}],["path",{d:"m19.07 4.93-1.41 1.41"}]];Wt(t,Ht({name:"sun"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=Et(),o=ht(s);At(o,()=>e.children??Rt),J(i,s)},$$slots:{default:!0}})),_t()}function _i(t,e){yt(e,!0);let n=Nt(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M3 6h18"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17"}]];Wt(t,Ht({name:"trash-2"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=Et(),o=ht(s);At(o,()=>e.children??Rt),J(i,s)},$$slots:{default:!0}})),_t()}function Dd(t,e){yt(e,!0);let n=Nt(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M3 7v6h6"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13"}]];Wt(t,Ht({name:"undo"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=Et(),o=ht(s);At(o,()=>e.children??Rt),J(i,s)},$$slots:{default:!0}})),_t()}function Ui(t,e){yt(e,!0);let n=Nt(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]];Wt(t,Ht({name:"x"},()=>n,{get iconNode(){return r},children:(i,a)=>{var s=Et(),o=ht(s);At(o,()=>e.children??Rt),J(i,s)},$$slots:{default:!0}})),_t()}var Nd=()=>{},Fd=ft('<img alt="frame" class="gimp-checkered-background w-full h-full object-cover bg-surface-500"/>'),zd=ft('<div tabindex="0" role="button"><div class="absolute top-1 left-1 bg-primary-600/80 text-white text-xs font-bold rounded-full w-4 h-4 flex items-center justify-center"> </div> <!></div>'),Bd=ft('<div class="flex items-center gap-4"><div class="flex gap-4"></div> <div class="w-6 text-sm font-semibold"><!></div></div>'),Md=ft('<section class="space-y-4"><!></section>');function Vd(t,e){yt(e,!0);const[n,r]=Bi(),i=()=>Pr(ir,"$activeIndex",n);let a=U(e,"activeLayer",15,void 0),s=0;Vt(()=>{e.initTimestamp&&(ir.set(0),s=0)}),Vt(()=>{if(!e.initTimestamp)return;lr.set(s,Er());const h=lr.get(i());h?(Fr(h),a(h[h.length-1])):(Fr([]),a(new cn("レイヤー #1")))}),Cs(We.w,We.h,We.frames,Wi(We.ways));let o=bt(0);Vt(()=>{if(!e.initTimestamp||!e.pointerupTimestamp)return;const h=Cr();Ge.set(i(),h);const m=h.toDataURL("image/png");Dr.set(i(),m),nt(o,performance.now(),!0)});var u=Md(),f=Z(u);ui(f,()=>e.initTimestamp,h=>{var m=Et(),d=ht(m);fe(d,17,()=>Array(Hi),de,(l,p,c)=>{var g=Bd(),b=Z(g);fe(b,21,()=>Array(un),de,(A,I,P)=>{var O=Et(),B=ht(O);ui(B,()=>He(P,c),z=>{var E=zd();E.__keydown=[Nd],E.__click=()=>{const W=He(P,c);i()!==W&&(s=i(),ir.set(W))};var R=Z(E),v=Z(R,!0);$(R);var D=X(R,2);ui(D,()=>w(o),W=>{var V=Fd();Ot(K=>Ut(V,"src",K),[()=>Dr.get(He(P,c))??"https://placehold.co/32x32?text=new"]),J(W,V)}),$(E),Ot((W,V)=>{ne(E,1,W),oe(v,V)},[()=>`relative w-16 h-16 rounded-container overflow-hidden cursor-pointer ${i()===He(P,c)?"ring-4 ring-primary-500 ring-offset-2":""}`,()=>He(P,c)+1]),J(z,E)}),J(A,O)}),$(b);var _=X(b,2),x=Z(_);{var C=A=>{Nn(A,{})},k=(A,I)=>{{var P=B=>{pd(B,{})},O=(B,z)=>{{var E=v=>{Ka(v,{})},R=(v,D)=>{{var W=K=>{gd(K,{})},V=(K,j)=>{{var et=M=>{Nn(M,{class:"rotate-315"})},N=(M,ot)=>{{var rt=wt=>{Nn(wt,{class:"rotate-45"})},Q=(wt,St)=>{{var dt=vt=>{Nn(vt,{class:"rotate-225"})},xt=(vt,Ct)=>{{var Bt=y=>{Nn(y,{class:"rotate-135"})},Mt=y=>{_d(y,{})};Dt(vt,y=>{Ve[c]===mt.c?y(Bt):y(Mt,!1)},Ct)}};Dt(wt,vt=>{Ve[c]===mt.z?vt(dt):vt(xt,!1)},St)}};Dt(M,wt=>{Ve[c]===mt.e?wt(rt):wt(Q,!1)},ot)}};Dt(K,M=>{Ve[c]===mt.q?M(et):M(N,!1)},j)}};Dt(v,K=>{Ve[c]===mt.d?K(W):K(V,!1)},D)}};Dt(B,v=>{Ve[c]===mt.s?v(E):v(R,!1)},z)}};Dt(A,B=>{Ve[c]===mt.a?B(P):B(O,!1)},I)}};Dt(x,A=>{Ve[c]===mt.w?A(C):A(k,!1)})}$(_),$(g),J(l,g)}),J(h,m)}),$(u),J(t,u),_t(),r()}me(["keydown","click"]);var ei=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ur(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ua,mo;function Hd(){if(mo)return ua;mo=1;function t(e){var n=e[0],r=e[1]/100,i=e[2]/100,a,s;return i===0?[0,0,0]:(i*=2,r*=i<=1?i:2-i,s=(i+r)/2,a=2*r/(i+r),[n,a*100,s*100])}return ua=t,ua}var Wd=Hd();const Ud=ur(Wd);var da,bo;function jd(){if(bo)return da;bo=1;function t(e){var n=e[0],r=e[1]/100,i=e[2]/100,a,s;return s=(2-r)*i,a=r*i,a/=s<=1?s:2-s,a=a||0,s/=2,[n,a*100,s*100]}return da=t,da}var $d=jd();const qd=ur($d);function Gd(t){var e=t[0],n=t[1],r=t[2],i=Math.max(e,n,r),a=Math.min(e,n,r),s=i-a,o=s&&60*(i===e?(n-r)/s%6:i===n?(r-e)/s+2:(e-n)/s+4);return[o<0?o+360:o,i&&s*100/i,i*100/255]}function Zd(t){var e=t[0]/60,n=t[1]/100,r=t[2]/100,i=r*n,a=i*(1-Math.abs(e%2-1)),s=r-i,o=(a+s)*255+.5|0,u=(i+s)*255+.5|0,f=s*255+.5|0,h=e|0;return h===1?[o,u,f]:h===2?[f,u,o]:h===3?[f,o,u]:h===4?[o,f,u]:h===5?[u,f,o]:[u,o,f]}var fa,yo;function Kd(){if(yo)return fa;yo=1;function t(e,n,r){return Math.min(Math.max(e,n),r)}return fa=t,fa}var ha,_o;function Xd(){if(_o)return ha;_o=1;var t=Kd();function e(r){var i=Math.round(t(r,0,255)),a=i.toString(16);return a.length==1?"0"+a:a}function n(r){var i=r.length===4?e(r[3]*255):"";return"#"+e(r[0])+e(r[1])+e(r[2])+i}return ha=n,ha}var Yd=Xd();const Jd=ur(Yd);var va,wo;function Qd(){if(wo)return va;wo=1;function t(n){for(var r="#",i=1;i<n.length;i++){var a=n.charAt(i);r+=a+a}return r}function e(n){(n.length===4||n.length===5)&&(n=t(n));var r=[parseInt(n.substring(1,3),16),parseInt(n.substring(3,5),16),parseInt(n.substring(5,7),16)];if(n.length===9){var i=parseFloat((parseInt(n.substring(7,9),16)/255).toFixed(2));r.push(i)}return r}return va=e,va}var tf=Qd();const ef=ur(tf);function xo(t,e){return t?[pa(t[0])?Xl(t[0]):e[0],pa(t[1])?wi(t[1]):e[1],pa(t[2])?wi(t[2]):e[2]]:e}function ko(t){return[Xl(t[0]),wi(t[1]),wi(t[2])]}function Xl(t){var e=Math.round(t%360*10)/10;return e<0?e+360:e}function wi(t){return t<0?0:t>100?100:(t*10+.5|0)/10}function pa(t){return typeof t=="number"&&isFinite(t)}var Sr=typeof globalThis<"u"?globalThis:self,ga="PointerEvent"in Sr?function(t,e,n){t.addEventListener("pointerdown",function(r){r.button===0&&e(r)!==!1&&this.setPointerCapture(r.pointerId)}),t.addEventListener("pointermove",function(r){this.hasPointerCapture(r.pointerId)&&n(r)})}:"ontouchend"in Sr?function(t,e,n){var r=!1;t.addEventListener("touchstart",function(i){i.touches.length===1&&e(i.touches[0])!==!1&&(r=!0,i.preventDefault())}),t.addEventListener("touchmove",function(i){r&&i.touches.length===1&&(i.preventDefault(),n(i.touches[0]))})}:function(t,e,n){var r=function(a){n(a)},i=function(){removeEventListener("mouseup",i),removeEventListener("mousemove",r)};t.addEventListener("mousedown",function(a){a.button===0&&e(a)!==!1&&(addEventListener("mousemove",r),addEventListener("mouseup",i))})},Rn={hsv:[0,100,100],hsl:[0,100,50],wheelDiameter:200,wheelThickness:20,handleDiameter:16,wheelReflectsSaturation:!0,onChange:function(){}},Ja=Sr.DOMMatrix||Sr.WebKitCSSMatrix||Sr.MSCSSMatrix,nf=function(t){for(var e=[t];t=t.parentElement;)e.push(t);for(var n=new Ja,r=e.length-1;r>=0;r--){var i=getComputedStyle(e[r]),a=i.transform;if(a&&a!=="none"){var s=i.transformOrigin.split(" ").map(parseFloat);n=n.translate(s[0],s[1]).multiply(new Ja(a)).translate(-s[0],-s[1])}}return n.inverse()},ma=function(t,e){return t===e||t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},rf=function(){function t(e){var n=this;this.options=e,this.wheelDiameter=this.options.wheelDiameter||Rn.wheelDiameter,this.wheelThickness=this.options.wheelThickness||Rn.wheelThickness,this.handleDiameter=this.options.handleDiameter||Rn.handleDiameter,this.onChange=this.options.onChange||Rn.onChange,this.wheelReflectsSaturation=this.options.wheelReflectsSaturation!==void 0?this.options.wheelReflectsSaturation:Rn.wheelReflectsSaturation,this.rootElement=this.options.appendTo.appendChild(pr("div","reinvented-color-wheel")),this.hueWheelElement=this.rootElement.appendChild(pr("canvas","reinvented-color-wheel--hue-wheel")),this.hueWheelContext=this.hueWheelElement.getContext("2d"),this.hueHandleElement=this.rootElement.appendChild(pr("div","reinvented-color-wheel--hue-handle")),this.svSpaceElement=this.rootElement.appendChild(pr("canvas","reinvented-color-wheel--sv-space")),this.svSpaceContext=this.svSpaceElement.getContext("2d"),this.svHandleElement=this.rootElement.appendChild(pr("div","reinvented-color-wheel--sv-handle")),this._redrawHueWheel=function(){n._redrawHueWheelRequested=!1;var f=n.wheelDiameter,h=f/2,m=h-n.wheelThickness/2,d=Math.PI/180,l=n.wheelReflectsSaturation?","+n._hsl[1]+"%,"+n._hsl[2]+"%)":",100%,50%)",p=n.hueWheelContext;p.clearRect(0,0,f,f),p.lineWidth=n.wheelThickness;for(var c=0;c<360;c++)p.beginPath(),p.arc(h,h,m,(c-90.7)*d,(c-89.3)*d),p.strokeStyle="hsl("+c+l,p.stroke()},this.hueWheelContext.imageSmoothingEnabled=!1,this.svSpaceContext.imageSmoothingEnabled=!1,this._hsv=xo(e.hsv?e.hsv:e.hsl?t.hsl2hsv(e.hsl):e.rgb?t.rgb2hsv(e.rgb):e.hex?t.rgb2hsv(t.hex2rgb(e.hex)):void 0,Rn.hsv),this._hsl=ko(t.hsv2hsl(this._hsv)),this._rgb=t.hsv2rgb(this._hsv),this._hex=t.rgb2hex(this._rgb);var r=function(f,h){var m=n._inverseTransform.multiply(new Ja("matrix(1,0,0,1,"+f+","+h+")"));return{x:m.e,y:m.f}},i=function(f){n._inverseTransform=nf(f);var h=f.getBoundingClientRect();n._center=r(h.left+h.width/2,h.top+h.height/2)},a=function(f){i(n.hueWheelElement);var h=r(f.clientX,f.clientY),m=h.x-n._center.x,d=h.y-n._center.y,l=n.wheelDiameter/2-n.wheelThickness;if(m*m+d*d<l*l)return!1;s(f)},s=function(f){var h=r(f.clientX,f.clientY),m=h.x-n._center.x,d=h.y-n._center.y,l=Math.atan2(d,m);n.hsv=[l*180/Math.PI+90,n.hsv[1],n.hsv[2]]},o=function(f){var h=r(f.clientX,f.clientY),m=100/n.svSpaceElement.width,d=(h.x-n._center.x)*m+50,l=(n._center.y-h.y)*m+50;n.hsv=[n._hsv[0],d,l]},u=function(f){i(n.svSpaceElement),o(f)};ga(this.hueWheelElement,a,s),ga(this.svSpaceElement,u,o),ga(this.svHandleElement,u,o),this.redraw()}return Object.defineProperty(t.prototype,"hsv",{get:function(){return this._hsv},set:function(e){ma(this._hsv,e)||this._setHSV(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hsl",{get:function(){return this._hsl},set:function(e){ma(this._hsl,e)||this._setHSV(t.hsl2hsv(e))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rgb",{get:function(){return this._rgb},set:function(e){ma(this._rgb,e)||this._setHSV(t.rgb2hsv(e))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hex",{get:function(){return this._hex},set:function(e){this._hex!==e&&(this.rgb=t.hex2rgb(e))},enumerable:!1,configurable:!0}),t.prototype.setHSV=function(){this.hsv=arguments},t.prototype.setHSL=function(){this.hsl=arguments},t.prototype.redraw=function(){this.hueWheelElement.width=this.hueWheelElement.height=this.wheelDiameter,this.svSpaceElement.width=this.svSpaceElement.height=(this.wheelDiameter-this.wheelThickness*2)*Math.SQRT1_2;var e=this.hueHandleElement.style,n=this.svHandleElement.style;e.width=e.height=n.width=n.height=this.handleDiameter+"px",e.marginLeft=e.marginTop=n.marginLeft=n.marginTop=-this.handleDiameter/2+"px",this._redrawHueWheel(),this._redrawHueHandle(),this._redrawSvSpace(),this._redrawSvHandle()},t.prototype._setHSV=function(e){var n=this._hsv,r=this._hsv=xo(e,n),i=n[0]-r[0],a=n[1]-r[1]||n[2]-r[2];i&&(this._hsl=[r[0],this._hsl[1],this._hsl[2]],this._redrawHueHandle(),this._updateSvBackground()),a&&(this._hsl=ko(t.hsv2hsl(r)),this._redrawSvHandle(),this.wheelReflectsSaturation&&!this._redrawHueWheelRequested&&(requestAnimationFrame(this._redrawHueWheel),this._redrawHueWheelRequested=!0)),(i||a)&&(this._rgb=t.hsv2rgb(r),this._hex=t.rgb2hex(this._rgb),this.onChange(this))},t.prototype._redrawSvSpace=function(){this._updateSvBackground();var e=this.svSpaceElement.width,n=this.svSpaceContext,r=n.createLinearGradient(0,0,e,0),i=n.createLinearGradient(0,0,0,e);r.addColorStop(0,"rgba(255,255,255,1)"),r.addColorStop(1,"rgba(255,255,255,0)"),i.addColorStop(0,"rgba(0,0,0,0)"),i.addColorStop(1,"rgba(0,0,0,1)"),n.fillStyle=r,n.fillRect(0,0,e,e),n.fillStyle=i,n.fillRect(0,0,e,e)},t.prototype._updateSvBackground=function(){this.svSpaceElement.style.backgroundColor="hsl("+this._hsv[0]+",100%,50%)"},t.prototype._redrawHueHandle=function(){var e=this.wheelDiameter/2,n=e-this.wheelThickness/2,r=(this._hsv[0]-90)*Math.PI/180,i=this.hueHandleElement.style;i.left=n*Math.cos(r)+e+"px",i.top=n*Math.sin(r)+e+"px"},t.prototype._redrawSvHandle=function(){var e=this.svSpaceElement.width,n=this.svHandleElement.style,r=(this.wheelDiameter-e)/2,i=this._hsv;n.left=r+e*i[1]/100+"px",n.top=r+e*(1-i[2]/100)+"px"},t.default=t,t.defaultOptions=Rn,t.hsv2hsl=qd,t.hsl2hsv=Ud,t.hsv2rgb=Zd,t.rgb2hsv=Gd,t.rgb2hex=Jd,t.hex2rgb=ef,t}();function pr(t,e){var n=document.createElement(t);return n.className=e,n}var af=ft("<center></center>");function sf(t,e){yt(e,!0);const[n,r]=Bi(),i=()=>Pr(Dn,"$color",n),a=rf;let s=bt(void 0),o=bt(void 0);const u=i();Vt(()=>{nt(o,new a({appendTo:w(s),hex:u,wheelDiameter:200,wheelThickness:20,handleDiameter:16,wheelReflectsSaturation:!1,onChange:h=>{Dn.set(h.hex)}}),!0)}),Vt(()=>{w(o)&&(w(o).hex=i())});var f=af();Pe(f,h=>nt(s,h),()=>w(s)),J(t,f),_t(),r()}const of=(t,e)=>Math.floor(Math.random()*Math.abs(e-t+1))+t;var Hn=(t,e=[])=>({parts:(...n)=>{if(lf(e))return Hn(t,n);throw new Error("createAnatomy().parts(...) should only be called once. Did you mean to use .extendWith(...) ?")},extendWith:(...n)=>Hn(t,[...e,...n]),rename:n=>Hn(n,e),keys:()=>e,build:()=>[...new Set(e)].reduce((n,r)=>Object.assign(n,{[r]:{selector:[`&[data-scope="${Kn(t)}"][data-part="${Kn(r)}"]`,`& [data-scope="${Kn(t)}"][data-part="${Kn(r)}"]`].join(", "),attrs:{"data-scope":Kn(t),"data-part":Kn(r)}}}),{})}),Kn=t=>t.replace(/([A-Z])([A-Z])/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase(),lf=t=>t.length===0,Eo=t=>Math.max(0,Math.min(1,t)),ba=(...t)=>e=>t.reduce((n,r)=>r(n),e),er=()=>{},ji=t=>typeof t=="object"&&t!==null,kt=t=>t?"":void 0,cf=t=>t?"true":void 0,uf=1,df=9,ff=11,re=t=>ji(t)&&t.nodeType===uf&&typeof t.nodeName=="string",As=t=>ji(t)&&t.nodeType===df,hf=t=>ji(t)&&t===t.window,Yl=t=>re(t)?t.localName||"":"#document";function vf(t){return["html","body","#document"].includes(Yl(t))}var pf=t=>ji(t)&&t.nodeType!==void 0,zr=t=>pf(t)&&t.nodeType===ff&&"host"in t,gf=t=>re(t)&&t.localName==="input",mf=t=>re(t)?t.offsetWidth>0||t.offsetHeight>0||t.getClientRects().length>0:!1,bf=/(textarea|select)/;function yf(t){if(t==null||!re(t))return!1;try{return gf(t)&&t.selectionStart!=null||bf.test(t.localName)||t.isContentEditable||t.getAttribute("contenteditable")==="true"||t.getAttribute("contenteditable")===""}catch{return!1}}function Br(t,e){var r;if(!t||!e||!re(t)||!re(e))return!1;const n=(r=e.getRootNode)==null?void 0:r.call(e);if(t===e||t.contains(e))return!0;if(n&&zr(n)){let i=e;for(;i;){if(t===i)return!0;i=i.parentNode||i.host}}return!1}function Ce(t){return As(t)?t:hf(t)?t.document:(t==null?void 0:t.ownerDocument)??document}function _f(t){return Ce(t).documentElement}function ae(t){var e;return zr(t)?ae(t.host):As(t)?t.defaultView??window:re(t)?((e=t.ownerDocument)==null?void 0:e.defaultView)??window:window}function Jl(t){let e=t.activeElement;for(;e!=null&&e.shadowRoot;){const n=e.shadowRoot.activeElement;if(n===e)break;e=n}return e}function wf(t){if(Yl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||zr(t)&&t.host||_f(t);return zr(e)?e.host:e}var ya=new WeakMap;function xf(t){return ya.has(t)||ya.set(t,ae(t).getComputedStyle(t)),ya.get(t)}var $i=()=>typeof document<"u";function kf(){const t=navigator.userAgentData;return(t==null?void 0:t.platform)??navigator.platform}function Ef(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(({brand:e,version:n})=>`${e}/${n}`).join(" "):navigator.userAgent}var Os=t=>$i()&&t.test(kf()),Cf=t=>$i()&&t.test(Ef()),Sf=t=>$i()&&t.test(navigator.vendor),Co=()=>$i()&&!!navigator.maxTouchPoints,Tf=()=>Os(/^iPhone/i),If=()=>Os(/^iPad/i)||Gi()&&navigator.maxTouchPoints>1,qi=()=>Tf()||If(),Af=()=>Gi()||qi(),Gi=()=>Os(/^Mac/i),Rs=()=>Af()&&Sf(/apple/i),Of=()=>Cf(/Android/i);function Rf(t){var e,n,r;return((e=t.composedPath)==null?void 0:e.call(t))??((r=(n=t.nativeEvent)==null?void 0:n.composedPath)==null?void 0:r.call(n))}function we(t){const e=Rf(t);return(e==null?void 0:e[0])??t.target}function Pf(t){return t.mozInputSource===0&&t.isTrusted?!0:Of()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}var Lf=t=>t.button===0,Df=t=>t.button===2||Gi()&&t.ctrlKey&&t.button===0,Nf=t=>t.ctrlKey||t.altKey||t.metaKey,Ff=t=>"touches"in t&&t.touches.length>0,zf={Up:"ArrowUp",Down:"ArrowDown",Esc:"Escape"," ":"Space",",":"Comma",Left:"ArrowLeft",Right:"ArrowRight"},So={ArrowLeft:"ArrowRight",ArrowRight:"ArrowLeft"};function Bf(t,e={}){const{dir:n="ltr",orientation:r="horizontal"}=e;let i=t.key;return i=zf[i]??i,n==="rtl"&&r==="horizontal"&&i in So&&(i=So[i]),i}var Mf=new Set(["PageUp","PageDown"]),Vf=new Set(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"]);function Hf(t){return t.ctrlKey||t.metaKey?.1:Mf.has(t.key)||t.shiftKey&&Vf.has(t.key)?10:1}function Ps(t,e="client"){const n=Ff(t)?t.touches[0]||t.changedTouches[0]:t;return{x:n[`${e}X`],y:n[`${e}Y`]}}var Kt=(t,e,n,r)=>{const i=typeof t=="function"?t():t;return i==null||i.addEventListener(e,n,r),()=>{i==null||i.removeEventListener(e,n,r)}};function Ql(t,e){const{type:n="HTMLInputElement",property:r="value"}=e,i=ae(t)[n].prototype;return Object.getOwnPropertyDescriptor(i,r)??{}}function Wf(t){if(t.localName==="input")return"HTMLInputElement";if(t.localName==="textarea")return"HTMLTextAreaElement";if(t.localName==="select")return"HTMLSelectElement"}function tc(t,e,n="value"){var i;if(!t)return;const r=Wf(t);r&&((i=Ql(t,{type:r,property:n}).set)==null||i.call(t,e)),t.setAttribute(n,e)}function ec(t,e){var r;if(!t)return;(r=Ql(t,{type:"HTMLInputElement",property:"checked"}).set)==null||r.call(t,e),e?t.setAttribute("checked",""):t.removeAttribute("checked")}function Uf(t,e){const{value:n,bubbles:r=!0}=e;if(!t)return;const i=ae(t);t instanceof i.HTMLInputElement&&(tc(t,`${n}`),t.dispatchEvent(new i.Event("input",{bubbles:r})))}function nc(t,e){const{checked:n,bubbles:r=!0}=e;if(!t)return;const i=ae(t);t instanceof i.HTMLInputElement&&(ec(t,n),t.dispatchEvent(new i.Event("click",{bubbles:r})))}function jf(t){return $f(t)?t.form:t.closest("form")}function $f(t){return t.matches("textarea, input, select, button")}function qf(t,e){if(!t)return;const n=jf(t),r=i=>{i.defaultPrevented||e()};return n==null||n.addEventListener("reset",r,{passive:!0}),()=>n==null?void 0:n.removeEventListener("reset",r)}function Gf(t,e){const n=t==null?void 0:t.closest("fieldset");if(!n)return;e(n.disabled);const r=ae(n),i=new r.MutationObserver(()=>e(n.disabled));return i.observe(n,{attributes:!0,attributeFilter:["disabled"]}),()=>i.disconnect()}function Ls(t,e){if(!t)return;const{onFieldsetDisabledChange:n,onFormReset:r}=e,i=[qf(t,r),Gf(t,n)];return()=>i.forEach(a=>a==null?void 0:a())}var rc=t=>re(t)&&t.tagName==="IFRAME",Zf=t=>!Number.isNaN(parseInt(t.getAttribute("tabindex")||"0",10)),Kf=t=>parseInt(t.getAttribute("tabindex")||"0",10)<0,Ds="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false']), details > summary:first-of-type",ic=(t,e=!1)=>{if(!t)return[];const n=Array.from(t.querySelectorAll(Ds));(e==!0||e=="if-empty"&&n.length===0)&&re(t)&&En(t)&&n.unshift(t);const i=n.filter(En);return i.forEach((a,s)=>{if(rc(a)&&a.contentDocument){const o=a.contentDocument.body;i.splice(s,1,...ic(o))}}),i};function En(t){return!t||t.closest("[inert]")?!1:t.matches(Ds)&&mf(t)}function Gr(t,e){if(!t)return[];const n=Array.from(t.querySelectorAll(Ds)),r=n.filter(_n);return e&&_n(t)&&r.unshift(t),r.forEach((i,a)=>{if(rc(i)&&i.contentDocument){const s=i.contentDocument.body,o=Gr(s);r.splice(a,1,...o)}}),!r.length&&e?n:r}function _n(t){return t!=null&&t.tabIndex>0?!0:En(t)&&!Kf(t)}function Xf(t,e){const n=Gr(t,e),r=n[0]||null,i=n[n.length-1]||null;return[r,i]}function Yf(t,e){const n=Gr(t),r=(t==null?void 0:t.ownerDocument)||document,i=e??r.activeElement;if(!i)return null;const a=n.indexOf(i);return n[a+1]||null}function gr(t){return t.tabIndex<0&&(/^(audio|video|details)$/.test(t.localName)||yf(t))&&!Zf(t)?0:t.tabIndex}function To(t){const{root:e,getInitialEl:n,filter:r,enabled:i=!0}=t;if(!i)return;let a=null;if(a||(a=typeof n=="function"?n():n),a||(a=e==null?void 0:e.querySelector("[data-autofocus],[autofocus]")),!a){const s=Gr(e);a=r?s.filter(r)[0]:s[0]}return a||e||void 0}function Jf(t){const e=new Set;function n(r){const i=globalThis.requestAnimationFrame(r);e.add(()=>globalThis.cancelAnimationFrame(i))}return n(()=>n(t)),function(){e.forEach(i=>i())}}function Ee(t){let e;const n=globalThis.requestAnimationFrame(()=>{e=t()});return()=>{globalThis.cancelAnimationFrame(n),e==null||e()}}function Qa(t){const e=wf(t);return vf(e)?Ce(e).body:re(e)&&th(e)?e:Qa(e)}var Qf=/auto|scroll|overlay|hidden|clip/;function th(t){const e=ae(t),{overflow:n,overflowX:r,overflowY:i,display:a}=e.getComputedStyle(t);return Qf.test(n+i+r)&&!["inline","contents"].includes(a)}function eh(t,e){const{left:n,top:r,width:i,height:a}=e.getBoundingClientRect(),s={x:t.x-n,y:t.y-r},o={x:Eo(s.x/i),y:Eo(s.y/a)};function u(f={}){const{dir:h="ltr",orientation:m="horizontal",inverted:d}=f,l=typeof d=="object"?d.x:d,p=typeof d=="object"?d.y:d;return m==="horizontal"?h==="rtl"||l?1-o.x:o.x:p?1-o.y:o.y}return{offset:s,percent:o,getPercentValue:u}}var nr="default",ts="",di=new WeakMap;function nh(t={}){const{target:e,doc:n}=t,r=n??document,i=r.documentElement;return qi()?(nr==="default"&&(ts=i.style.webkitUserSelect,i.style.webkitUserSelect="none"),nr="disabled"):e&&(di.set(e,e.style.userSelect),e.style.userSelect="none"),()=>rh({target:e,doc:r})}function rh(t={}){const{target:e,doc:n}=t,i=(n??document).documentElement;if(qi()){if(nr!=="disabled")return;nr="restoring",setTimeout(()=>{Jf(()=>{nr==="restoring"&&(i.style.webkitUserSelect==="none"&&(i.style.webkitUserSelect=ts||""),ts="",nr="default")})},300)}else if(e&&di.has(e)){const a=di.get(e);e.style.userSelect==="none"&&(e.style.userSelect=a??""),e.getAttribute("style")===""&&e.removeAttribute("style"),di.delete(e)}}function ih(t={}){const{defer:e,target:n,...r}=t,i=e?Ee:s=>s(),a=[];return a.push(i(()=>{const s=typeof n=="function"?n():n;a.push(nh({...r,target:s}))})),()=>{a.forEach(s=>s==null?void 0:s())}}function ah(t,e){const{onPointerMove:n,onPointerUp:r}=e,a=[Kt(t,"pointermove",s=>{const o=Ps(s),u=Math.sqrt(o.x**2+o.y**2),f=s.pointerType==="touch"?10:5;if(!(u<f)){if(s.pointerType==="mouse"&&s.button===0){r();return}n({point:o,event:s})}},!1),Kt(t,"pointerup",r,!1),Kt(t,"pointercancel",r,!1),Kt(t,"contextmenu",r,!1),ih({doc:t})];return()=>{a.forEach(s=>s())}}function sh(t){const{pointerNode:e,keyboardNode:n=e,onPress:r,onPressStart:i,onPressEnd:a,isValidKey:s=x=>x.key==="Enter"}=t;if(!e)return er;const o=ae(e),u=Ce(e);let f=er,h=er,m=er;const d=x=>({point:Ps(x),event:x});function l(x){i==null||i(d(x))}function p(x){a==null||a(d(x))}const g=Kt(e,"pointerdown",x=>{h();const k=Kt(o,"pointerup",I=>{const P=we(I);Br(e,P)?r==null||r(d(I)):a==null||a(d(I))},{passive:!r,once:!0}),A=Kt(o,"pointercancel",p,{passive:!a,once:!0});h=ba(k,A),u.activeElement===n&&x.pointerType==="mouse"&&x.preventDefault(),l(x)},{passive:!i}),b=Kt(n,"focus",_);f=ba(g,b);function _(){const x=I=>{if(!s(I))return;const P=B=>{if(!s(B))return;const z=new o.PointerEvent("pointerup"),E=d(z);r==null||r(E),a==null||a(E)};h(),h=Kt(n,"keyup",P);const O=new o.PointerEvent("pointerdown");l(O)},C=()=>{const I=new o.PointerEvent("pointercancel");p(I)},k=Kt(n,"keydown",x),A=Kt(n,"blur",C);m=ba(k,A)}return()=>{f(),h(),m()}}function oh(t,e={}){const{triggerElement:n,onFocus:r,onFocusEnter:i}=e,a=(t==null?void 0:t.ownerDocument)||document,s=a.body;function o(u){if(u.key!=="Tab")return;let f=null;const[h,m]=Xf(t,!0),d=Yf(s,n),l=!h&&!m;u.shiftKey&&d===a.activeElement?(i==null||i(),f=m):u.shiftKey&&(a.activeElement===h||l)?f=n:!u.shiftKey&&a.activeElement===n?(i==null||i(),f=h):!u.shiftKey&&(a.activeElement===m||l)&&(f=d),f&&(u.preventDefault(),typeof r=="function"?r(f):f.focus())}return Kt(a,"keydown",o,!0)}function lh(t,e){const{defer:n,triggerElement:r,...i}=e,a=n?Ee:o=>o(),s=[];return s.push(a(()=>{const o=typeof t=="function"?t():t,u=typeof r=="function"?r():r;s.push(oh(o,{triggerElement:u,...i}))})),()=>{s.forEach(o=>o==null?void 0:o())}}function ac(t,e){return Array.from((t==null?void 0:t.querySelectorAll(e))??[])}function sc(t,e){const{onEntry:n,measure:r,box:i="border-box"}=e,a=(Array.isArray(t)?t:[t]).filter(re),s=ae(a[0]),o=f=>{const h=a.map(m=>r(m));n({rects:h,entries:f})};o([]);const u=new s.ResizeObserver(o);return a.forEach(f=>u.observe(f,{box:i})),()=>u.disconnect()}function es(t,e){if(!t)return er;const n=Object.keys(e).reduce((r,i)=>(r[i]=t.style.getPropertyValue(i),r),{});return Object.assign(t.style,e),()=>{Object.assign(t.style,n),t.style.length===0&&t.removeAttribute("style")}}function ch(t,e,n){if(!t)return er;const r=t.style.getPropertyValue(e);return t.style.setProperty(e,n),()=>{t.style.setProperty(e,r),t.style.length===0&&t.removeAttribute("style")}}var oc={border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"},uh=1e3/60;function dh(t,e){const n=t();if(re(n)&&n.isConnected)return e(n),()=>{};{const r=setInterval(()=>{const i=t();re(i)&&i.isConnected&&(e(i),clearInterval(r))},uh);return()=>clearInterval(r)}}function fh(t,e){const n=[];return t==null||t.forEach(r=>{const i=dh(r,e);n.push(i)}),()=>{n.forEach(r=>r())}}function hh(t){return t?Array.isArray(t)?t:[t]:[]}var vh=t=>t[0],ph=t=>t[t.length-1],Io=t=>(t==null?void 0:t.constructor.name)==="Array",gh=(t,e)=>{if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!Zi(t[n],e[n]))return!1;return!0},Zi=(t,e)=>{if(Object.is(t,e))return!0;if(t==null&&e!=null||t!=null&&e==null)return!1;if(typeof(t==null?void 0:t.isEqual)=="function"&&typeof(e==null?void 0:e.isEqual)=="function")return t.isEqual(e);if(typeof t=="function"&&typeof e=="function")return t.toString()===e.toString();if(Io(t)&&Io(e))return gh(Array.from(t),Array.from(e));if(typeof t!="object"||typeof e!="object")return!1;const n=Object.keys(e??Object.create(null)),r=n.length;for(let i=0;i<r;i++)if(!Reflect.has(t,n[i]))return!1;for(let i=0;i<r;i++){const a=n[i];if(!Zi(t[a],e[a]))return!1}return!0},Tr=t=>typeof t=="string",Fn=t=>typeof t=="function",mh=t=>t==null,bh=Function.prototype.toString;bh.call(Object);var yh=(t,...e)=>(typeof t=="function"?t(...e):t)??void 0,_h=t=>t(),wh=()=>{},ns=(...t)=>(...e)=>{t.forEach(function(n){n==null||n(...e)})},{floor:xh,abs:xi,round:lc,min:kh,max:Eh,pow:Ch,sign:Sh}=Math,rs=t=>Number.isNaN(t),Mr=t=>rs(t)?0:t,Th=(t,e,n)=>t===0?n:e[t-1],Ih=(t,e,n)=>t===e.length-1?n:e[t+1],Ah=(t,e,n)=>Mr(t)>=e&&Mr(t)<=n,Oh=(t,e,n)=>lc((Mr(t)-e)/n)*n+e,Zr=(t,e,n)=>kh(Eh(Mr(t),e),n),Ns=(t,e,n)=>(Mr(t)-e)/(n-e),cc=(t,e,n,r)=>Zr(Oh(t*(n-e)+e,e,r),e,n),Ao=(t,e)=>{let n=t,r=e.toString(),i=r.indexOf("."),a=i>=0?r.length-i:0;if(a>0){let s=Ch(10,a);n=lc(n*s)/s}return n},Fs=(t,e,n,r)=>{const i=e!=null?Number(e):0,a=Number(n),s=(t-i)%r;let o=xi(s)*2>=r?t+Sh(s)*(r-xi(s)):t-s;if(o=Ao(o,r),!rs(i)&&o<i)o=i;else if(!rs(a)&&o>a){const u=xh((a-i)/r),f=i+u*r;o=u<=0||f<i?a:f}return Ao(o,r)},_r=(t,e,n)=>t[e]===n?t:[...t.slice(0,e),n,...t.slice(e+1)];function uc(t,e){const n=Th(t,e.values,e.min),r=Ih(t,e.values,e.max);let i=e.values.slice();return function(s){let o=Fs(s,n,r,e.step);return i=_r(i,t,s),i[t]=o,i}}function Rh(t,e){const n=e.values[t]+e.step;return uc(t,e)(n)}function Ph(t,e){const n=e.values[t]-e.step;return uc(t,e)(n)}var Lh=(t,e)=>{let n=t.findIndex(a=>e-a<0);if(n===0)return n;if(n===-1)return t.length-1;let r=t[n-1],i=t[n];return xi(r-e)<xi(i-e)?n-1:n},dc=(t,e,n,r)=>t.map((i,a)=>({min:a===0?e:t[a-1]+r,max:a===t.length-1?n:t[a+1]-r,value:i})),is=(t,e)=>{const[n,r]=t,[i,a]=e;return s=>n===r||i===a?i:i+(a-i)/(r-n)*(s-n)},Oo=t=>t!=null?`${t}px`:void 0;function zs(t){if(!Dh(t)||t===void 0)return t;const e=Reflect.ownKeys(t).filter(r=>typeof r=="string"),n={};for(const r of e){const i=t[r];i!==void 0&&(n[r]=zs(i))}return n}var Dh=t=>t&&typeof t=="object"&&t.constructor===Object;function Nh(t,e){const n={};for(const r of e){const i=t[r];i!==void 0&&(n[r]=i)}return n}function as(...t){t.length===1?t[0]:t[1],t.length===2&&t[0]}function Fh(t,e){if(t==null)throw new Error(e())}var zh=(...t)=>t.map(e=>{var n;return(n=e==null?void 0:e.trim)==null?void 0:n.call(e)}).filter(Boolean).join(" "),Bh=/((?:--)?(?:\w+-?)+)\s*:\s*([^;]*)/g,Ro=t=>{const e={};let n;for(;n=Bh.exec(t);)e[n[1]]=n[2];return e},Mh=(t,e)=>{if(Tr(t)){if(Tr(e))return`${t};${e}`;t=Ro(t)}else Tr(e)&&(e=Ro(e));return Object.assign({},t??{},e??{})};function Vh(...t){let e={};for(let n of t){for(let r in e){if(r.startsWith("on")&&typeof e[r]=="function"&&typeof n[r]=="function"){e[r]=ns(n[r],e[r]);continue}if(r==="className"||r==="class"){e[r]=zh(e[r],n[r]);continue}if(r==="style"){e[r]=Mh(e[r],n[r]);continue}e[r]=n[r]!==void 0?n[r]:e[r]}for(let r in n)e[r]===void 0&&(e[r]=n[r])}return e}function fc(){return{and:(...t)=>function(n){return t.every(r=>n.guard(r))},or:(...t)=>function(n){return t.some(r=>n.guard(r))},not:t=>function(n){return!n.guard(t)}}}var tr=(t=>(t.NotStarted="Not Started",t.Started="Started",t.Stopped="Stopped",t))(tr||{}),_a="__init__";function Hh(t){const e=()=>{var o;return((o=t.getRootNode)==null?void 0:o.call(t))??document},n=()=>Ce(e()),r=()=>n().defaultView??window,i=()=>Jl(e());return{...t,getRootNode:e,getDoc:n,getWin:r,getActiveElement:i,isActiveElement:o=>o===i(),getById:o=>e().getElementById(o)}}function Wh(t){return new Proxy({},{get(e,n){return n==="style"?r=>t({style:r}).style:t}})}var dr=()=>t=>Array.from(new Set(t));const Po={className:"class",defaultChecked:"checked",defaultValue:"value",htmlFor:"for",onBlur:"onfocusout",onChange:"oninput",onFocus:"onfocusin",onDoubleClick:"ondblclick"};function hc(t){let e="";for(let n in t){const r=t[n];r!=null&&(n.startsWith("--")||(n=n.replace(/[A-Z]/g,i=>`-${i.toLowerCase()}`)),e+=`${n}:${r};`)}return e}const Uh="viewBox,className,preserveAspectRatio,fillRule,clipPath,clipRule,strokeWidth,strokeLinecap,strokeLinejoin,strokeDasharray,strokeDashoffset,strokeMiterlimit".split(",");function jh(t){return t in Po?Po[t]:Uh.includes(t)?t:t.toLowerCase()}function $h(t,e){return t==="style"&&typeof e=="object"?hc(e):e}const Ki=Wh(t=>{const e={};for(const n in t)e[jh(n)]=$h(n,t[n]);return e}),qh=/((?:--)?(?:\w+-?)+)\s*:\s*([^;]*)/g,Gh=t=>{const e={};let n;for(;n=qh.exec(t);)e[n[1]]=n[2];return e};function Zh(...t){const e=Vh(...t);return"style"in e&&(typeof e.style=="string"&&(e.style=Gh(e.style)),e.style=hc(e.style)),e}function wa(t,e={}){function n(r={}){const{container:i,disabled:a,getRootNode:s}=r;if(a)return;const o=(s==null?void 0:s().ownerDocument)??document;(i??o.body).appendChild(t)}return n(e),{destroy:()=>t.remove(),update:n}}function ki(t){const e=t().defaultValue??t().value,n=t().isEqual??Object.is;let r=bt(Xt(e));const i=ct(()=>t().value!==void 0);let a={current:w(r)},s={current:void 0};Nu(()=>{const f=w(i)?t().value:w(r);a={current:f},s={current:f}});const o=f=>{var d,l;const h=Fn(f)?f(a.current):f,m=s.current;t().debug&&console.log(`[bindable > ${t().debug}] setValue`,{next:h,prev:m}),w(i)||nt(r,h,!0),n(h,m)||(l=(d=t()).onChange)==null||l.call(d,h,m)};function u(){return w(i)?t().value:w(r)}return{initial:e,ref:a,get:u,set(f){(t().sync?Dl:_h)(()=>o(f))},invoke(f,h){var m,d;(d=(m=t()).onChange)==null||d.call(m,f,h)},hash(f){var h,m;return((m=(h=t()).hash)==null?void 0:m.call(h,f))??String(f)}}}ki.cleanup=t=>{Nl(()=>t())};ki.ref=t=>{let e=t;return{get:()=>e,set:n=>{e=n}}};function Kh(t){const e=Xt({current:t});return{get(n){return e.current[n]},set(n,r){e.current[n]=r}}}const xa=t=>typeof t=="function"?t():t,Xh=(t,e)=>{let n=[],r=!0;Vt(()=>{if(r){n=t.map(a=>xa(a)),r=!1;return}let i=!1;for(let a=0;a<t.length;a++)if(!Zi(n[a],xa(t[a]))){i=!0;break}i&&(n=t.map(a=>xa(a)),e())})};function ka(t){return Fn(t)?t():t}function Xi(t,e){var P,O,B;const n=ct(()=>{const{id:z,ids:E,getRootNode:R}=ka(e);return Hh({id:z,ids:E,getRootNode:R})}),r=(...z)=>{t.debug&&console.log(...z)},i=ct(()=>{var z;return((z=t.props)==null?void 0:z.call(t,{props:zs(ka(e)),scope:w(n)}))??ka(e)}),a=Yh(()=>w(i)),s=(P=t.context)==null?void 0:P.call(t,{prop:a,bindable:ki,get scope(){return w(n)},flush:Lo,getContext(){return o},getComputed(){return C},getRefs(){return p}}),o={get(z){return s==null?void 0:s[z].get()},set(z,E){s==null||s[z].set(E)},initial(z){return s==null?void 0:s[z].initial},hash(z){const E=s==null?void 0:s[z].get();return s==null?void 0:s[z].hash(E)}};let u=new Map,f={current:null},h={current:null},m=Xt({current:{type:""}});const d=()=>({...m.current,current(){return m.current},previous(){return h.current}}),l=()=>({...k,hasTag(z){var R,v;const E=k.get();return!!((v=(R=t.states[E])==null?void 0:R.tags)!=null&&v.includes(z))},matches(...z){const E=k.get();return z.includes(E)}}),p=Kh(((O=t.refs)==null?void 0:O.call(t,{prop:a,context:o}))??{}),c=()=>({state:l(),context:o,event:d(),prop:a,send:I,action:g,guard:b,track:Xh,refs:p,computed:C,flush:Lo,scope:w(n),choose:x}),g=z=>{const E=Fn(z)?z(c()):z;if(!E)return;const R=E.map(v=>{var W,V;const D=(V=(W=t.implementations)==null?void 0:W.actions)==null?void 0:V[v];return D||as(`[zag-js] No implementation found for action "${JSON.stringify(v)}"`),D});for(const v of R)v==null||v(c())},b=z=>{var E,R;return Fn(z)?z(c()):(R=(E=t.implementations)==null?void 0:E.guards)==null?void 0:R[z](c())},_=z=>{const E=Fn(z)?z(c()):z;if(!E)return;const R=E.map(D=>{var V,K;const W=(K=(V=t.implementations)==null?void 0:V.effects)==null?void 0:K[D];return W||as(`[zag-js] No implementation found for effect "${JSON.stringify(D)}"`),W}),v=[];for(const D of R){const W=D==null?void 0:D(c());W&&v.push(W)}return()=>v.forEach(D=>D==null?void 0:D())},x=z=>hh(z).find(E=>{let R=!E.guard;return Tr(E.guard)?R=!!b(E.guard):Fn(E.guard)&&(R=E.guard(c())),R}),C=z=>{Fh(t.computed,()=>"[zag-js] No computed object found on machine");const E=t.computed[z];return E({context:o,event:d(),prop:a,refs:p,scope:w(n),computed:C})},k=ki(()=>({defaultValue:t.initialState({prop:a}),onChange(z,E){var v,D,W,V;if(E){const K=u.get(E);K==null||K(),u.delete(E)}E&&g((v=t.states[E])==null?void 0:v.exit),g((D=f.current)==null?void 0:D.actions);const R=_((W=t.states[z])==null?void 0:W.effects);if(R&&u.set(z,R),E===_a){g(t.entry);const K=_(t.effects);K&&u.set(_a,K)}g((V=t.states[z])==null?void 0:V.entry)}}));let A=tr.NotStarted;Wu(()=>{const z=A===tr.Started;A=tr.Started,r(z?"rehydrating...":"initializing..."),k.invoke(k.initial,_a)}),Nl(()=>{r("unmounting..."),A=tr.Stopped,u.forEach(z=>z==null?void 0:z()),u=new Map,f.current=null,g(t.exit)});const I=z=>{var V,K;if(A!==tr.Started)return;h.current=m.current,m.current=z;let E=k.get();const R=((V=t.states[E].on)==null?void 0:V[z.type])??((K=t.on)==null?void 0:K[z.type]),v=x(R);if(!v)return;f.current=v;const D=v.target??E,W=D!==E;W?k.set(D):v.reenter&&!W?k.invoke(E,E):g(v.actions)};return(B=t.watch)==null||B.call(t,c()),{get state(){return l()},send:I,context:o,prop:a,get scope(){return w(n)},refs:p,computed:C,get event(){return d()},getStatus:()=>A}}function Yh(t){return function(n){return t()[n]}}function Lo(t){Dl(()=>{queueMicrotask(()=>t())})}function Yi(t){var e=Symbol(),n=function(i){return Fu(e,i)},r=function(){var i;return(i=zu(e))!==null&&i!==void 0?i:t};return[n,r,e]}var Ei;Ei=Yi(),Ei[0];Ei[1];Ei[2];const Jh=t=>t;function Qh(t,{delay:e=0,duration:n=400,easing:r=Jh}={}){const i=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:r,css:a=>`opacity: ${a*i}`}}me(["click"]);var Ci;Ci=Yi({parent:"none",value:"",expanded:!1}),Ci[0];Ci[1];Ci[2];function tv(t){return!(t.metaKey||!Gi()&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}var ev=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function nv(t,e,n){const r=n?we(n):null,i=ae(r);return t=t||r instanceof i.HTMLInputElement&&!ev.has(r==null?void 0:r.type)||r instanceof i.HTMLTextAreaElement||r instanceof i.HTMLElement&&r.isContentEditable,!(t&&e==="keyboard"&&n instanceof i.KeyboardEvent&&!Reflect.has(rv,n.key))}var $n=null,ss=new Set,Ir=new Map,Wn=!1,os=!1,rv={Tab:!0,Escape:!0};function Ji(t,e){for(let n of ss)n(t,e)}function Si(t){Wn=!0,tv(t)&&($n="keyboard",Ji("keyboard",t))}function _e(t){$n="pointer",(t.type==="mousedown"||t.type==="pointerdown")&&(Wn=!0,Ji("pointer",t))}function vc(t){Pf(t)&&(Wn=!0,$n="virtual")}function pc(t){const e=we(t);e===ae(e)||e===Ce(e)||(!Wn&&!os&&($n="virtual",Ji("virtual",t)),Wn=!1,os=!1)}function gc(){Wn=!1,os=!0}function iv(t){if(typeof window>"u"||Ir.get(ae(t)))return;const e=ae(t),n=Ce(t);let r=e.HTMLElement.prototype.focus;function i(){$n="virtual",Ji("virtual",null),Wn=!0,r.apply(this,arguments)}Object.defineProperty(e.HTMLElement.prototype,"focus",{configurable:!0,value:i}),n.addEventListener("keydown",Si,!0),n.addEventListener("keyup",Si,!0),n.addEventListener("click",vc,!0),e.addEventListener("focus",pc,!0),e.addEventListener("blur",gc,!1),typeof e.PointerEvent<"u"?(n.addEventListener("pointerdown",_e,!0),n.addEventListener("pointermove",_e,!0),n.addEventListener("pointerup",_e,!0)):(n.addEventListener("mousedown",_e,!0),n.addEventListener("mousemove",_e,!0),n.addEventListener("mouseup",_e,!0)),e.addEventListener("beforeunload",()=>{av(t)},{once:!0}),Ir.set(e,{focus:r})}var av=(t,e)=>{const n=ae(t),r=Ce(t);Ir.has(n)&&(n.HTMLElement.prototype.focus=Ir.get(n).focus,r.removeEventListener("keydown",Si,!0),r.removeEventListener("keyup",Si,!0),r.removeEventListener("click",vc,!0),n.removeEventListener("focus",pc,!0),n.removeEventListener("blur",gc,!1),typeof n.PointerEvent<"u"?(r.removeEventListener("pointerdown",_e,!0),r.removeEventListener("pointermove",_e,!0),r.removeEventListener("pointerup",_e,!0)):(r.removeEventListener("mousedown",_e,!0),r.removeEventListener("mousemove",_e,!0),r.removeEventListener("mouseup",_e,!0)),Ir.delete(n))};function Ti(){return $n==="keyboard"}function mc(t={}){const{isTextInput:e,autoFocus:n,onChange:r,root:i}=t;iv(i),r==null||r({isFocusVisible:n||Ti(),modality:$n});const a=(s,o)=>{nv(!!e,s,o)&&(r==null||r({isFocusVisible:Ti(),modality:s}))};return ss.add(a),()=>{ss.delete(a)}}var sv=Hn("radio-group").parts("root","label","item","itemText","itemControl","indicator"),Xn=sv.build(),Ii=t=>{var e;return((e=t.ids)==null?void 0:e.root)??`radio-group:${t.id}`},Do=t=>{var e;return((e=t.ids)==null?void 0:e.label)??`radio-group:${t.id}:label`},bc=(t,e)=>{var n,r;return((r=(n=t.ids)==null?void 0:n.item)==null?void 0:r.call(n,e))??`radio-group:${t.id}:radio:${e}`},ls=(t,e)=>{var n,r;return((r=(n=t.ids)==null?void 0:n.itemHiddenInput)==null?void 0:r.call(n,e))??`radio-group:${t.id}:radio:input:${e}`},ov=(t,e)=>{var n,r;return((r=(n=t.ids)==null?void 0:n.itemControl)==null?void 0:r.call(n,e))??`radio-group:${t.id}:radio:control:${e}`},lv=(t,e)=>{var n,r;return((r=(n=t.ids)==null?void 0:n.itemLabel)==null?void 0:r.call(n,e))??`radio-group:${t.id}:radio:label:${e}`},yc=t=>{var e;return((e=t.ids)==null?void 0:e.indicator)??`radio-group:${t.id}:indicator`},Qi=t=>t.getById(Ii(t)),cv=(t,e)=>t.getById(ls(t,e)),uv=t=>t.getById(yc(t)),dv=t=>{var e;return(e=Qi(t))==null?void 0:e.querySelector("input:not(:disabled)")},fv=t=>{var e;return(e=Qi(t))==null?void 0:e.querySelector("input:not(:disabled):checked")},No=t=>{const n=`input[type=radio][data-ownedby='${CSS.escape(Ii(t))}']:not([disabled])`;return ac(Qi(t),n)},hv=(t,e)=>{if(e)return t.getById(bc(t,e))},vv=t=>({left:(t==null?void 0:t.offsetLeft)??0,top:(t==null?void 0:t.offsetTop)??0,width:(t==null?void 0:t.offsetWidth)??0,height:(t==null?void 0:t.offsetHeight)??0}),pv=t=>({width:`${t.width}px`,height:`${t.height}px`,left:`${t.left}px`,top:`${t.top}px`});function gv(t,e){const{context:n,send:r,computed:i,prop:a,scope:s}=t,o=i("isDisabled"),u=a("readOnly");function f(d){const l=n.get("focusedValue")===d.value,p=l&&Ti();return{value:d.value,invalid:!!d.invalid,disabled:!!d.disabled||o,checked:n.get("value")===d.value,focused:l,focusVisible:p,hovered:n.get("hoveredValue")===d.value,active:n.get("activeValue")===d.value}}function h(d){const l=f(d);return{"data-focus":kt(l.focused),"data-focus-visible":kt(l.focusVisible),"data-disabled":kt(l.disabled),"data-readonly":kt(u),"data-state":l.checked?"checked":"unchecked","data-hover":kt(l.hovered),"data-invalid":kt(l.invalid),"data-orientation":a("orientation"),"data-ssr":kt(n.get("ssr"))}}const m=()=>{const d=fv(s)??dv(s);d==null||d.focus()};return{focus:m,value:n.get("value"),setValue(d){r({type:"SET_VALUE",value:d,isTrusted:!1})},clearValue(){r({type:"SET_VALUE",value:null,isTrusted:!1})},getRootProps(){return e.element({...Xn.root.attrs,role:"radiogroup",id:Ii(s),"aria-labelledby":Do(s),"data-orientation":a("orientation"),"data-disabled":kt(o),"aria-orientation":a("orientation"),dir:a("dir"),style:{position:"relative"}})},getLabelProps(){return e.element({...Xn.label.attrs,dir:a("dir"),"data-orientation":a("orientation"),"data-disabled":kt(o),id:Do(s),onClick:m})},getItemState:f,getItemProps(d){const l=f(d);return e.label({...Xn.item.attrs,dir:a("dir"),id:bc(s,d.value),htmlFor:ls(s,d.value),...h(d),onPointerMove(){l.disabled||l.hovered||r({type:"SET_HOVERED",value:d.value,hovered:!0})},onPointerLeave(){l.disabled||r({type:"SET_HOVERED",value:null})},onPointerDown(p){l.disabled||(l.focused&&p.pointerType==="mouse"&&p.preventDefault(),r({type:"SET_ACTIVE",value:d.value,active:!0}))},onPointerUp(){l.disabled||r({type:"SET_ACTIVE",value:null})},onClick(){var p;!l.disabled&&Rs()&&((p=cv(s,d.value))==null||p.focus())}})},getItemTextProps(d){return e.element({...Xn.itemText.attrs,dir:a("dir"),id:lv(s,d.value),...h(d)})},getItemControlProps(d){const l=f(d);return e.element({...Xn.itemControl.attrs,dir:a("dir"),id:ov(s,d.value),"data-active":kt(l.active),"aria-hidden":!0,...h(d)})},getItemHiddenInputProps(d){const l=f(d);return e.input({"data-ownedby":Ii(s),id:ls(s,d.value),type:"radio",name:a("name")||a("id"),form:a("form"),value:d.value,onClick(p){if(u){p.preventDefault();return}p.currentTarget.checked&&r({type:"SET_VALUE",value:d.value,isTrusted:!0})},onBlur(){r({type:"SET_FOCUSED",value:null,focused:!1})},onFocus(){r({type:"SET_FOCUSED",value:d.value,focused:!0})},onKeyDown(p){p.defaultPrevented||p.key===" "&&r({type:"SET_ACTIVE",value:d.value,active:!0})},onKeyUp(p){p.defaultPrevented||p.key===" "&&r({type:"SET_ACTIVE",value:null})},disabled:l.disabled,defaultChecked:l.checked,style:oc})},getIndicatorProps(){const d=n.get("indicatorRect");return e.element({id:yc(s),...Xn.indicator.attrs,dir:a("dir"),hidden:n.get("value")==null,"data-disabled":kt(o),"data-orientation":a("orientation"),style:{"--transition-property":"left, top, width, height","--left":d==null?void 0:d.left,"--top":d==null?void 0:d.top,"--width":d==null?void 0:d.width,"--height":d==null?void 0:d.height,position:"absolute",willChange:"var(--transition-property)",transitionProperty:"var(--transition-property)",transitionDuration:n.get("canIndicatorTransition")?"var(--transition-duration, 150ms)":"0ms",transitionTimingFunction:"var(--transition-timing-function)",[a("orientation")==="horizontal"?"left":"top"]:a("orientation")==="horizontal"?"var(--left)":"var(--top)"}})}}}var{not:mv}=fc(),bv={props({props:t}){return{orientation:"vertical",...t}},initialState(){return"idle"},context({prop:t,bindable:e}){return{value:e(()=>({defaultValue:t("defaultValue"),value:t("value"),onChange(n){var r;(r=t("onValueChange"))==null||r({value:n})}})),activeValue:e(()=>({defaultValue:null})),focusedValue:e(()=>({defaultValue:null})),hoveredValue:e(()=>({defaultValue:null})),indicatorRect:e(()=>({defaultValue:{}})),canIndicatorTransition:e(()=>({defaultValue:!1})),fieldsetDisabled:e(()=>({defaultValue:!1})),ssr:e(()=>({defaultValue:!0}))}},refs(){return{indicatorCleanup:null}},computed:{isDisabled:({prop:t,context:e})=>!!t("disabled")||e.get("fieldsetDisabled")},entry:["syncIndicatorRect","syncSsr"],exit:["cleanupObserver"],effects:["trackFormControlState","trackFocusVisible"],watch({track:t,action:e,context:n}){t([()=>n.get("value")],()=>{e(["setIndicatorTransition","syncIndicatorRect","syncInputElements"])})},on:{SET_VALUE:[{guard:mv("isTrusted"),actions:["setValue","dispatchChangeEvent"]},{actions:["setValue"]}],SET_HOVERED:{actions:["setHovered"]},SET_ACTIVE:{actions:["setActive"]},SET_FOCUSED:{actions:["setFocused"]}},states:{idle:{}},implementations:{guards:{isTrusted:({event:t})=>!!t.isTrusted},effects:{trackFormControlState({context:t,scope:e}){return Ls(Qi(e),{onFieldsetDisabledChange(n){t.set("fieldsetDisabled",n)},onFormReset(){t.set("value",t.initial("value"))}})},trackFocusVisible({scope:t}){var e;return mc({root:(e=t.getRootNode)==null?void 0:e.call(t)})}},actions:{setValue({context:t,event:e}){t.set("value",e.value)},setHovered({context:t,event:e}){t.set("hoveredValue",e.value)},setActive({context:t,event:e}){t.set("activeValue",e.value)},setFocused({context:t,event:e}){t.set("focusedValue",e.value)},syncInputElements({context:t,scope:e}){No(e).forEach(r=>{r.checked=r.value===t.get("value")})},setIndicatorTransition({context:t}){t.set("canIndicatorTransition",Tr(t.get("value")))},cleanupObserver({refs:t}){var e;(e=t.get("indicatorCleanup"))==null||e()},syncSsr({context:t}){t.set("ssr",!1)},syncIndicatorRect({context:t,scope:e,refs:n}){var s;if((s=n.get("indicatorCleanup"))==null||s(),!uv(e))return;const r=t.get("value"),i=hv(e,r);if(r==null||!i){t.set("canIndicatorTransition",!1),t.set("indicatorRect",{});return}const a=sc([i],{measure(o){return vv(o)},onEntry({rects:o}){t.set("indicatorRect",pv(o[0]))}});n.set("indicatorCleanup",a)},dispatchChangeEvent({context:t,scope:e}){No(e).forEach(r=>{const i=r.value===t.get("value");i!==r.checked&&nc(r,{checked:i})})}}}};dr()(["dir","disabled","form","getRootNode","id","ids","name","onValueChange","orientation","readOnly","value","defaultValue"]);dr()(["value","disabled","invalid"]);var Ai,yv=(Ai=Yi({api:{},indicatorText:""}),Ai[0]),_v=Ai[1];Ai[2];var wv=ft("<div><div></div> <!></div>");function xv(t,e){const n=Ni();yt(e,!0);const r=U(e,"base",3,"inline-flex items-stretch overflow-hidden"),i=U(e,"background",3,"preset-outlined-surface-200-800"),a=U(e,"border",3,""),s=U(e,"gap",3,"gap-2"),o=U(e,"padding",3,"p-2"),u=U(e,"rounded",3,"rounded-container"),f=U(e,"width",3,""),h=U(e,"classes",3,""),m=U(e,"orientVertical",3,"flex-col items-stretch"),d=U(e,"orientHorizontal",3,"flex-row"),l=U(e,"stateDisabled",3,"disabled"),p=U(e,"stateReadOnly",3,"pointer-events-none"),c=U(e,"indicatorBase",3,"top-[var(--top)] left-[var(--left)] w-[var(--width)] h-[var(--height)]"),g=U(e,"indicatorBg",3,"preset-filled"),b=U(e,"indicatorText",3,"text-surface-contrast-950 dark:text-surface-contrast-50"),_=U(e,"indicatorRounded",3,"rounded-base"),x=U(e,"indicatorClasses",3,""),C=U(e,"labelledby",3,""),k=Nt(e,["$$slots","$$events","$$legacy","base","background","border","gap","padding","rounded","width","classes","orientVertical","orientHorizontal","stateDisabled","stateReadOnly","indicatorBase","indicatorBg","indicatorText","indicatorRounded","indicatorClasses","labelledby","children"]),A=Xi(bv,()=>({id:n,orientation:e.orientation??"horizontal",...k})),I=ct(()=>gv(A,Ki));yv({get api(){return w(I)},get indicatorText(){return b()}});const P=ct(()=>A.prop("orientation")==="vertical"?m():d()),O=ct(()=>A.prop("disabled")?l():""),B=ct(()=>A.prop("readOnly")?p():"");var z=wv();$t(z,v=>({...v,class:`${r()??""} ${w(P)??""} ${i()??""} ${a()??""} ${o()??""} ${s()??""} ${u()??""} ${f()??""} ${w(O)??""} ${w(B)??""} ${h()??""}`,"aria-labelledby":C(),"data-testid":"segment"}),[()=>w(I).getRootProps()]);var E=Z(z);$t(E,v=>({...v,class:`${c()??""} ${g()??""} ${_()??""} ${x()??""}`,"data-testid":"segment-indicator"}),[()=>w(I).getIndicatorProps()]);var R=X(E,2);At(R,()=>e.children??Rt),$(z),J(t,z),_t()}var kv=ft("<label><span><!></span> <input/></label>");function Ev(t,e){yt(e,!0);let n=U(e,"base",3,"btn cursor-pointer z-[1]"),r=U(e,"classes",3,""),i=U(e,"stateDisabled",3,"disabled"),a=U(e,"stateFocused",3,"focused"),s=U(e,"labelBase",3,"pointer-events-none transition-colors duration-100"),o=U(e,"labelClasses",3,""),u=Nt(e,["$$slots","$$events","$$legacy","base","classes","stateDisabled","stateFocused","labelBase","labelClasses","children"]);const f=_v(),h=ct(()=>f.api.getItemState(u)),m=ct(()=>w(h).disabled?i():""),d=ct(()=>w(h).checked?f.indicatorText:""),l=ct(()=>w(h).focused?a():"");var p=kv();$t(p,_=>({..._,class:`${n()??""} ${w(m)??""} ${w(l)??""} ${r()??""}`,"data-testid":"segment-item"}),[()=>f.api.getItemProps(u)]);var c=Z(p);$t(c,_=>({..._,class:`${s()??""} ${w(d)??""} ${o()??""}`,"data-testid":"segment-item-label"}),[()=>f.api.getItemTextProps(u)]);var g=Z(c);At(g,()=>e.children??Rt),$(c);var b=X(c,2);qt(b),$t(b,_=>({..._,"data-testid":"segment-item-input"}),[()=>f.api.getItemHiddenInputProps(u)]),$(p),J(t,p),_t()}const Fo=Object.assign(xv,{Item:Ev});var Cv=Hn("slider").parts("root","label","thumb","valueText","track","range","control","markerGroup","marker","draggingIndicator"),Be=Cv.build(),_c=t=>{var e;return((e=t.ids)==null?void 0:e.root)??`slider:${t.id}`},wc=(t,e)=>{var n,r;return((r=(n=t.ids)==null?void 0:n.thumb)==null?void 0:r.call(n,e))??`slider:${t.id}:thumb:${e}`},cs=(t,e)=>{var n,r;return((r=(n=t.ids)==null?void 0:n.hiddenInput)==null?void 0:r.call(n,e))??`slider:${t.id}:input:${e}`},xc=t=>{var e;return((e=t.ids)==null?void 0:e.control)??`slider:${t.id}:control`},Sv=t=>{var e;return((e=t.ids)==null?void 0:e.track)??`slider:${t.id}:track`},Tv=t=>{var e;return((e=t.ids)==null?void 0:e.range)??`slider:${t.id}:range`},zo=t=>{var e;return((e=t.ids)==null?void 0:e.label)??`slider:${t.id}:label`},Iv=t=>{var e;return((e=t.ids)==null?void 0:e.valueText)??`slider:${t.id}:value-text`},Av=(t,e)=>{var n,r;return((r=(n=t.ids)==null?void 0:n.marker)==null?void 0:r.call(n,e))??`slider:${t.id}:marker:${e}`},Ov=t=>t.getById(_c(t)),Rv=(t,e)=>t.getById(wc(t,e)),kc=t=>ac(Cc(t),"[role=slider]"),Pv=t=>kc(t)[0],Ec=(t,e)=>t.getById(cs(t,e)),Cc=t=>t.getById(xc(t)),Bo=(t,e)=>{const{prop:n,scope:r}=t,i=Cc(r);if(!i)return;const s=eh(e,i).getPercentValue({orientation:n("orientation"),dir:n("dir"),inverted:{y:!0}});return cc(s,n("min"),n("max"),n("step"))},Lv=(t,e)=>{e.forEach((n,r)=>{const i=Ec(t,r);i&&Uf(i,{value:n})})},Dv=t=>({left:(t==null?void 0:t.offsetLeft)??0,top:(t==null?void 0:t.offsetTop)??0,width:(t==null?void 0:t.offsetWidth)??0,height:(t==null?void 0:t.offsetHeight)??0});function Nv(t){const e=t[0],n=t[t.length-1];return[e,n]}function Fv(t){const{prop:e,computed:n}=t,r=n("valuePercent"),[i,a]=Nv(r);if(r.length===1){if(e("origin")==="center"){const s=r[0]<50,o=s?`${r[0]}%`:"50%",u=s?"50%":`${100-r[0]}%`;return{start:o,end:u}}return e("origin")==="end"?{start:`${a}%`,end:"0%"}:{start:"0%",end:`${100-a}%`}}return{start:`${i}%`,end:`${100-a}%`}}function zv(t){const{computed:e}=t,n=e("isVertical"),r=e("isRtl");return n?{position:"absolute",bottom:"var(--slider-range-start)",top:"var(--slider-range-end)"}:{position:"absolute",[r?"right":"left"]:"var(--slider-range-start)",[r?"left":"right"]:"var(--slider-range-end)"}}function Bv(t,e){const{context:n,prop:r}=t,{height:i=0}=n.get("thumbSize")??{},a=is([r("min"),r("max")],[-i/2,i/2]);return parseFloat(a(e).toFixed(2))}function Mv(t,e){const{computed:n,context:r,prop:i}=t,{width:a=0}=r.get("thumbSize")??{};if(n("isRtl")){const u=is([i("max"),i("min")],[-a/2,a/2]);return-1*parseFloat(u(e).toFixed(2))}const o=is([i("min"),i("max")],[-a/2,a/2]);return parseFloat(o(e).toFixed(2))}function Vv(t,e,n){const{computed:r,prop:i}=t;if(i("thumbAlignment")==="center")return`${e}%`;const a=r("isVertical")?Bv(t,n):Mv(t,n);return`calc(${e}% - ${a}px)`}function Sc(t,e){const{prop:n}=t,r=Ns(e,n("min"),n("max"))*100;return Vv(t,r,e)}function Tc(t){const{computed:e,prop:n}=t;let r="visible";return n("thumbAlignment")==="contain"&&!e("hasMeasuredThumbSize")&&(r="hidden"),r}function Mo(t,e){const{computed:n}=t,r=n("isVertical")?"bottom":"insetInlineStart";return{visibility:Tc(t),position:"absolute",transform:"var(--slider-thumb-transform)",[r]:`var(--slider-thumb-offset-${e})`}}function Hv(){return{touchAction:"none",userSelect:"none",WebkitUserSelect:"none",position:"relative"}}function Wv(t){const{context:e,computed:n}=t,r=n("isVertical"),i=n("isRtl"),a=Fv(t),s=e.get("thumbSize");return{...e.get("value").reduce((u,f,h)=>{const m=Sc(t,f);return{...u,[`--slider-thumb-offset-${h}`]:m}},{}),"--slider-thumb-width":Oo(s==null?void 0:s.width),"--slider-thumb-height":Oo(s==null?void 0:s.height),"--slider-thumb-transform":r?"translateY(50%)":i?"translateX(50%)":"translateX(-50%)","--slider-range-start":a.start,"--slider-range-end":a.end}}function Uv(t,e){const{computed:n}=t,r=n("isHorizontal"),i=n("isRtl");return{visibility:Tc(t),position:"absolute",pointerEvents:"none",[r?"insetInlineStart":"bottom"]:Sc(t,e),translate:"var(--tx) var(--ty)","--tx":r?i?"50%":"-50%":"0%","--ty":r?"0%":"50%"}}function jv(){return{userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none",position:"relative"}}function $v(t,e){return e.map((n,r)=>us(t,n,r))}function Cn(t,e){const{context:n,prop:r}=t,i=r("step")*r("minStepsBetweenThumbs");return dc(n.get("value"),r("min"),r("max"),i)[e]}function us(t,e,n){const{prop:r}=t,i=Cn(t,n),a=Fs(e,r("min"),r("max"),r("step"));return Zr(a,i.min,i.max)}function qv(t,e,n){const{context:r,prop:i}=t,a=e??r.get("focusedIndex"),s=Cn(t,a),o=Ph(a,{...s,step:n??i("step"),values:r.get("value")});return o[a]=Zr(o[a],s.min,s.max),o}function Gv(t,e,n){const{context:r,prop:i}=t,a=e??r.get("focusedIndex"),s=Cn(t,a),o=Rh(a,{...s,step:n??i("step"),values:r.get("value")});return o[a]=Zr(o[a],s.min,s.max),o}function Zv(t,e){const{context:n}=t;return Lh(n.get("value"),e)}function Kv(t,e){const{state:n,send:r,context:i,prop:a,computed:s,scope:o}=t,u=a("aria-label"),f=a("aria-labelledby"),h=i.get("value"),m=i.get("focusedIndex"),d=n.matches("focus"),l=n.matches("dragging"),p=s("isDisabled"),c=a("invalid"),g=s("isInteractive"),b=a("orientation")==="horizontal",_=a("orientation")==="vertical";function x(k){return Ns(k,a("min"),a("max"))}function C(k){return cc(k,a("min"),a("max"),a("step"))}return{value:h,dragging:l,focused:d,setValue(k){r({type:"SET_VALUE",value:k})},getThumbValue(k){return h[k]},setThumbValue(k,A){r({type:"SET_VALUE",index:k,value:A})},getValuePercent:x,getPercentValue:C,getThumbPercent(k){return x(h[k])},setThumbPercent(k,A){const I=C(A);r({type:"SET_VALUE",index:k,value:I})},getThumbMin(k){return Cn(t,k).min},getThumbMax(k){return Cn(t,k).max},increment(k){r({type:"INCREMENT",index:k})},decrement(k){r({type:"DECREMENT",index:k})},focus(){g&&r({type:"FOCUS",index:0})},getLabelProps(){return e.label({...Be.label.attrs,dir:a("dir"),"data-disabled":kt(p),"data-orientation":a("orientation"),"data-invalid":kt(c),"data-dragging":kt(l),"data-focus":kt(d),id:zo(o),htmlFor:cs(o,0),onClick(k){var A;g&&(k.preventDefault(),(A=Pv(o))==null||A.focus())},style:{userSelect:"none",WebkitUserSelect:"none"}})},getRootProps(){return e.element({...Be.root.attrs,"data-disabled":kt(p),"data-orientation":a("orientation"),"data-dragging":kt(l),"data-invalid":kt(c),"data-focus":kt(d),id:_c(o),dir:a("dir"),style:Wv(t)})},getValueTextProps(){return e.element({...Be.valueText.attrs,dir:a("dir"),"data-disabled":kt(p),"data-orientation":a("orientation"),"data-invalid":kt(c),"data-focus":kt(d),id:Iv(o)})},getTrackProps(){return e.element({...Be.track.attrs,dir:a("dir"),id:Sv(o),"data-disabled":kt(p),"data-invalid":kt(c),"data-dragging":kt(l),"data-orientation":a("orientation"),"data-focus":kt(d),style:{position:"relative"}})},getThumbProps(k){var R;const{index:A=0,name:I}=k,P=h[A],O=Cn(t,A),B=(R=a("getAriaValueText"))==null?void 0:R({value:P,index:A}),z=Array.isArray(u)?u[A]:u,E=Array.isArray(f)?f[A]:f;return e.element({...Be.thumb.attrs,dir:a("dir"),"data-index":A,"data-name":I,id:wc(o,A),"data-disabled":kt(p),"data-orientation":a("orientation"),"data-focus":kt(d&&m===A),"data-dragging":kt(l&&m===A),draggable:!1,"aria-disabled":cf(p),"aria-label":z,"aria-labelledby":E??zo(o),"aria-orientation":a("orientation"),"aria-valuemax":O.max,"aria-valuemin":O.min,"aria-valuenow":h[A],"aria-valuetext":B,role:"slider",tabIndex:p?void 0:0,style:Mo(t,A),onPointerDown(v){g&&(r({type:"THUMB_POINTER_DOWN",index:A}),v.stopPropagation())},onBlur(){g&&r({type:"BLUR"})},onFocus(){g&&r({type:"FOCUS",index:A})},onKeyDown(v){if(v.defaultPrevented||!g)return;const D=Hf(v)*a("step"),W={ArrowUp(){b||r({type:"ARROW_INC",step:D,src:"ArrowUp"})},ArrowDown(){b||r({type:"ARROW_DEC",step:D,src:"ArrowDown"})},ArrowLeft(){_||r({type:"ARROW_DEC",step:D,src:"ArrowLeft"})},ArrowRight(){_||r({type:"ARROW_INC",step:D,src:"ArrowRight"})},PageUp(){r({type:"ARROW_INC",step:D,src:"PageUp"})},PageDown(){r({type:"ARROW_DEC",step:D,src:"PageDown"})},Home(){r({type:"HOME"})},End(){r({type:"END"})}},V=Bf(v,{dir:a("dir"),orientation:a("orientation")}),K=W[V];K&&(K(v),v.preventDefault(),v.stopPropagation())}})},getHiddenInputProps(k){const{index:A=0,name:I}=k;return e.input({name:I??(a("name")?a("name")+(h.length>1?"[]":""):void 0),form:a("form"),type:"text",hidden:!0,defaultValue:h[A],id:cs(o,A)})},getRangeProps(){return e.element({id:Tv(o),...Be.range.attrs,dir:a("dir"),"data-dragging":kt(l),"data-focus":kt(d),"data-invalid":kt(c),"data-disabled":kt(p),"data-orientation":a("orientation"),style:zv(t)})},getControlProps(){return e.element({...Be.control.attrs,dir:a("dir"),id:xc(o),"data-dragging":kt(l),"data-disabled":kt(p),"data-orientation":a("orientation"),"data-invalid":kt(c),"data-focus":kt(d),style:Hv(),onPointerDown(k){if(!g||!Lf(k)||Nf(k))return;const A=Ps(k);r({type:"POINTER_DOWN",point:A}),k.preventDefault(),k.stopPropagation()}})},getMarkerGroupProps(){return e.element({...Be.markerGroup.attrs,role:"presentation",dir:a("dir"),"aria-hidden":!0,"data-orientation":a("orientation"),style:jv()})},getMarkerProps(k){const A=Uv(t,k.value);let I;return k.value<vh(h)?I="under-value":k.value>ph(h)?I="over-value":I="at-value",e.element({...Be.marker.attrs,id:Av(o,k.value),role:"presentation",dir:a("dir"),"data-orientation":a("orientation"),"data-value":k.value,"data-disabled":kt(p),"data-state":I,style:A})},getDraggingIndicatorProps(k){const{index:A=0}=k,I=A===m&&l;return e.element({...Be.draggingIndicator.attrs,role:"presentation",dir:a("dir"),hidden:!I,"data-orientation":a("orientation"),"data-state":I?"open":"closed",style:Mo(t,A)})}}}var Xv=(t,e)=>(t==null?void 0:t.width)===(e==null?void 0:e.width)&&(t==null?void 0:t.height)===(e==null?void 0:e.height),Vo=(t,e,n,r,i)=>dc(t,e,n,i*r).map(s=>{const o=Fs(s.value,s.min,s.max,r),u=Zr(o,s.min,s.max);if(!Ah(u,e,n))throw new Error("[zag-js/slider] The configured `min`, `max`, `step` or `minStepsBetweenThumbs` values are invalid");return u}),Yv={props({props:t}){const e=t.min??0,n=t.max??100,r=t.step??1,i=t.defaultValue??[e],a=t.minStepsBetweenThumbs??0;return{dir:"ltr",thumbAlignment:"contain",origin:"start",orientation:"horizontal",minStepsBetweenThumbs:a,...t,defaultValue:Vo(i,e,n,r,a),value:t.value?Vo(t.value,e,n,r,a):void 0,max:n,step:r,min:e}},initialState(){return"idle"},context({prop:t,bindable:e,getContext:n}){return{thumbSize:e(()=>({defaultValue:t("thumbSize")||null})),value:e(()=>({defaultValue:t("defaultValue"),value:t("value"),isEqual:Zi,hash(r){return r.join(",")},onChange(r){var i;(i=t("onValueChange"))==null||i({value:r})}})),focusedIndex:e(()=>({defaultValue:-1,onChange(r){var a;const i=n();(a=t("onFocusChange"))==null||a({focusedIndex:r,value:i.get("value")})}})),fieldsetDisabled:e(()=>({defaultValue:!1}))}},computed:{isHorizontal:({prop:t})=>t("orientation")==="horizontal",isVertical:({prop:t})=>t("orientation")==="vertical",isRtl:({prop:t})=>t("orientation")==="horizontal"&&t("dir")==="rtl",isDisabled:({context:t,prop:e})=>!!e("disabled")||t.get("fieldsetDisabled"),isInteractive:({prop:t,computed:e})=>!(t("readOnly")||e("isDisabled")),hasMeasuredThumbSize:({context:t})=>t.get("thumbSize")!=null,valuePercent({context:t,prop:e}){return t.get("value").map(n=>100*Ns(n,e("min"),e("max")))}},watch({track:t,action:e,context:n}){t([()=>n.hash("value")],()=>{e(["syncInputElements","dispatchChangeEvent"])})},effects:["trackFormControlState","trackThumbSize"],on:{SET_VALUE:[{guard:"hasIndex",actions:["setValueAtIndex"]},{actions:["setValue"]}],INCREMENT:{actions:["incrementThumbAtIndex"]},DECREMENT:{actions:["decrementThumbAtIndex"]}},states:{idle:{on:{POINTER_DOWN:{target:"dragging",actions:["setClosestThumbIndex","setPointerValue","focusActiveThumb"]},FOCUS:{target:"focus",actions:["setFocusedIndex"]},THUMB_POINTER_DOWN:{target:"dragging",actions:["setFocusedIndex","focusActiveThumb"]}}},focus:{entry:["focusActiveThumb"],on:{POINTER_DOWN:{target:"dragging",actions:["setClosestThumbIndex","setPointerValue","focusActiveThumb"]},THUMB_POINTER_DOWN:{target:"dragging",actions:["setFocusedIndex","focusActiveThumb"]},ARROW_DEC:{actions:["decrementThumbAtIndex","invokeOnChangeEnd"]},ARROW_INC:{actions:["incrementThumbAtIndex","invokeOnChangeEnd"]},HOME:{actions:["setFocusedThumbToMin","invokeOnChangeEnd"]},END:{actions:["setFocusedThumbToMax","invokeOnChangeEnd"]},BLUR:{target:"idle",actions:["clearFocusedIndex"]}}},dragging:{entry:["focusActiveThumb"],effects:["trackPointerMove"],on:{POINTER_UP:{target:"focus",actions:["invokeOnChangeEnd"]},POINTER_MOVE:{actions:["setPointerValue"]}}}},implementations:{guards:{hasIndex:({event:t})=>t.index!=null},effects:{trackFormControlState({context:t,scope:e}){return Ls(Ov(e),{onFieldsetDisabledChange(n){t.set("fieldsetDisabled",n)},onFormReset(){t.set("value",t.initial("value"))}})},trackPointerMove({scope:t,send:e}){return ah(t.getDoc(),{onPointerMove(n){e({type:"POINTER_MOVE",point:n.point})},onPointerUp(){e({type:"POINTER_UP"})}})},trackThumbSize({context:t,scope:e,prop:n}){if(!(n("thumbAlignment")!=="contain"||n("thumbSize")))return sc(kc(e),{box:"border-box",measure(r){return Dv(r)},onEntry({rects:r}){if(r.length===0)return;const i=Nh(r[0],["width","height"]);Xv(t.get("thumbSize"),i)||t.set("thumbSize",i)}})}},actions:{dispatchChangeEvent({context:t,scope:e}){Lv(e,t.get("value"))},syncInputElements({context:t,scope:e}){t.get("value").forEach((n,r)=>{const i=Ec(e,r);tc(i,n.toString())})},invokeOnChangeEnd({prop:t,context:e}){queueMicrotask(()=>{var n;(n=t("onValueChangeEnd"))==null||n({value:e.get("value")})})},setClosestThumbIndex(t){const{context:e,event:n}=t,r=Bo(t,n.point);if(r==null)return;const i=Zv(t,r);e.set("focusedIndex",i)},setFocusedIndex({context:t,event:e}){t.set("focusedIndex",e.index)},clearFocusedIndex({context:t}){t.set("focusedIndex",-1)},setPointerValue(t){queueMicrotask(()=>{const{context:e,event:n}=t,r=Bo(t,n.point);if(r==null)return;const i=e.get("focusedIndex"),a=us(t,r,i);e.set("value",s=>_r(s,i,a))})},focusActiveThumb({scope:t,context:e}){Ee(()=>{const n=Rv(t,e.get("focusedIndex"));n==null||n.focus({preventScroll:!0})})},decrementThumbAtIndex(t){const{context:e,event:n}=t,r=qv(t,n.index,n.step);e.set("value",r)},incrementThumbAtIndex(t){const{context:e,event:n}=t,r=Gv(t,n.index,n.step);e.set("value",r)},setFocusedThumbToMin(t){const{context:e}=t,n=e.get("focusedIndex"),{min:r}=Cn(t,n);e.set("value",i=>_r(i,n,r))},setFocusedThumbToMax(t){const{context:e}=t,n=e.get("focusedIndex"),{max:r}=Cn(t,n);e.set("value",i=>_r(i,n,r))},setValueAtIndex(t){const{context:e,event:n}=t,r=us(t,n.value,n.index);e.set("value",i=>_r(i,n.index,r))},setValue(t){const{context:e,event:n}=t,r=$v(t,n.value);e.set("value",r)}}}};dr()(["aria-label","aria-labelledby","dir","disabled","form","getAriaValueText","getRootNode","id","ids","invalid","max","min","minStepsBetweenThumbs","name","onFocusChange","onValueChange","onValueChangeEnd","orientation","origin","readOnly","step","thumbAlignment","thumbAlignment","thumbSize","value","defaultValue"]);dr()(["index","name"]);var Jv=ft('<div><div data-testid="slider-thumb"></div> <input/></div>'),Qv=ft("<span><!></span>"),tp=ft("<div></div>"),ep=ft('<div><div><div><div></div></div> <div style="display: flex; align-items: center; transform: translateY(-100%);" data-testid="slider-thumb-wrapper"></div></div> <!></div>');function Ic(t,e){const n=Ni();yt(e,!0);const r=U(e,"markers",19,()=>[]),i=U(e,"height",3,"h-1.5"),a=U(e,"base",3,"w-full bg-green"),s=U(e,"spaceY",3,""),o=U(e,"classes",3,""),u=U(e,"controlBase",3,""),f=U(e,"controlClasses",3,""),h=U(e,"trackBase",3,"overflow-hidden"),m=U(e,"trackBg",3,"bg-surface-200-800"),d=U(e,"trackRounded",3,"rounded-full"),l=U(e,"trackClasses",3,""),p=U(e,"meterBase",3,""),c=U(e,"meterBg",3,"bg-surface-950-50"),g=U(e,"meterRounded",3,"rounded-container"),b=U(e,"meterClasses",3,""),_=U(e,"thumbBase",3,"ring-inset transition-scale duration-100 ease-in-out"),x=U(e,"thumbSize",3,"size-8 md:size-5"),C=U(e,"thumbBg",3,"bg-surface-50-950"),k=U(e,"thumbRingSize",3,"ring-2"),A=U(e,"thumbRingColor",3,"ring-surface-950-50"),I=U(e,"thumbRounded",3,"rounded-full"),P=U(e,"thumbCursor",3,"hover:cursor-pointer"),O=U(e,"thumbClasses",3,""),B=U(e,"markersBase",3,""),z=U(e,"markersClasses",3,""),E=U(e,"markBase",3,""),R=U(e,"markText",3,"text-[10px]"),v=U(e,"markOpacity",3,"opacity-50"),D=U(e,"markClasses",3,""),W=U(e,"stateDisabled",3,"disabled"),V=U(e,"stateReadOnly",3,"cursor-not-allowed"),K=Nt(e,["$$slots","$$events","$$legacy","markers","height","base","spaceY","classes","controlBase","controlClasses","trackBase","trackBg","trackRounded","trackClasses","meterBase","meterBg","meterRounded","meterClasses","thumbBase","thumbSize","thumbBg","thumbRingSize","thumbRingColor","thumbRounded","thumbCursor","thumbClasses","markersBase","markersClasses","markBase","markText","markOpacity","markClasses","stateDisabled","stateReadOnly","mark"]),j=Xi(Yv,()=>({id:n,...K})),et=ct(()=>Kv(j,Ki)),N=ct(()=>j.prop("disabled")?W():""),M=ct(()=>j.prop("readOnly")?V():P());var ot=ep();$t(ot,vt=>({...vt,class:`${a()??""} ${i()??""} ${s()??""} ${w(N)??""} ${o()??""}`,"data-testid":"slider"}),[()=>w(et).getRootProps()]);var rt=Z(ot);$t(rt,vt=>({...vt,class:`${u()??""} ${f()??""}`,"data-testid":"slider-control"}),[()=>w(et).getControlProps()]);var Q=Z(rt);$t(Q,vt=>({...vt,class:`${h()??""} ${m()??""} ${i()??""} ${d()??""} ${l()??""}`,"data-testid":"slider-track"}),[()=>w(et).getTrackProps()]);var wt=Z(Q);$t(wt,vt=>({...vt,class:`${p()??""} ${i()??""} ${c()??""} ${g()??""} ${b()??""}`,"data-testid":"slider-meter"}),[()=>w(et).getRangeProps()]),$(Q);var St=X(Q,2);fe(St,21,()=>w(et).value,de,(vt,Ct,Bt)=>{var Mt=Jv();$t(Mt,F=>({...F}),[()=>w(et).getThumbProps({index:Bt})]);var y=Z(Mt),q=X(y,2);qt(q),$t(q,F=>({...F,"data-testid":"slider-input"}),[()=>w(et).getHiddenInputProps({index:Bt})]),$(Mt),Ot(()=>ne(y,1,`${_()??""} ${x()??""} ${C()??""} ${k()??""} ${A()??""} ${I()??""} ${w(M)??""} ${O()??""}`)),J(vt,Mt)}),$(St),$(rt);var dt=X(rt,2);{var xt=vt=>{var Ct=tp();$t(Ct,Bt=>({...Bt,class:`${B()??""} ${z()??""}`,"data-testid":"slider-markers"}),[()=>w(et).getMarkerGroupProps()]),fe(Ct,21,r,de,(Bt,Mt)=>{var y=Qv();$t(y,S=>({...S,class:`${E()??""} ${R()??""} ${v()??""} ${D()??""}`,"data-testid":"slider-mark"}),[()=>w(et).getMarkerProps({value:w(Mt)})]);var q=Z(y);{var F=S=>{var L=Et(),G=ht(L);At(G,()=>e.mark,()=>w(Mt)),J(S,L)},T=S=>{var L=qr();Ot(()=>oe(L,w(Mt))),J(S,L)};Dt(q,S=>{e.mark?S(F):S(T,!1)})}$(y),J(Bt,y)}),$(Ct),J(vt,Ct)};Dt(dt,vt=>{r().length>0&&vt(xt)})}$(ot),Ot(()=>ne(St,1,za(i()))),J(t,ot),_t()}var np=Hn("switch").parts("root","label","control","thumb"),ni=np.build(),Ac=t=>{var e;return((e=t.ids)==null?void 0:e.root)??`switch:${t.id}`},Ho=t=>{var e;return((e=t.ids)==null?void 0:e.label)??`switch:${t.id}:label`},rp=t=>{var e;return((e=t.ids)==null?void 0:e.thumb)??`switch:${t.id}:thumb`},ip=t=>{var e;return((e=t.ids)==null?void 0:e.control)??`switch:${t.id}:control`},ds=t=>{var e;return((e=t.ids)==null?void 0:e.hiddenInput)??`switch:${t.id}:input`},ap=t=>t.getById(Ac(t)),rr=t=>t.getById(ds(t));function sp(t,e){const{context:n,send:r,prop:i,scope:a}=t,s=i("disabled"),o=i("readOnly"),u=!!n.get("checked"),f=!s&&n.get("focused"),h=!s&&n.get("focusVisible"),m={"data-active":kt(n.get("active")),"data-focus":kt(f),"data-focus-visible":kt(h),"data-readonly":kt(o),"data-hover":kt(n.get("hovered")),"data-disabled":kt(s),"data-state":u?"checked":"unchecked","data-invalid":kt(i("invalid"))};return{checked:u,disabled:s,focused:f,setChecked(d){r({type:"CHECKED.SET",checked:d,isTrusted:!1})},toggleChecked(){r({type:"CHECKED.TOGGLE",checked:u,isTrusted:!1})},getRootProps(){return e.label({...ni.root.attrs,...m,dir:i("dir"),id:Ac(a),htmlFor:ds(a),onPointerMove(){s||r({type:"CONTEXT.SET",context:{hovered:!0}})},onPointerLeave(){s||r({type:"CONTEXT.SET",context:{hovered:!1}})},onClick(d){var p;if(s)return;we(d)===rr(a)&&d.stopPropagation(),Rs()&&((p=rr(a))==null||p.focus())}})},getLabelProps(){return e.element({...ni.label.attrs,...m,dir:i("dir"),id:Ho(a)})},getThumbProps(){return e.element({...ni.thumb.attrs,...m,dir:i("dir"),id:rp(a),"aria-hidden":!0})},getControlProps(){return e.element({...ni.control.attrs,...m,dir:i("dir"),id:ip(a),"aria-hidden":!0})},getHiddenInputProps(){return e.input({id:ds(a),type:"checkbox",required:i("required"),defaultChecked:u,disabled:s,"aria-labelledby":Ho(a),"aria-invalid":i("invalid"),name:i("name"),form:i("form"),value:i("value"),style:oc,onFocus(){const d=Ti();r({type:"CONTEXT.SET",context:{focused:!0,focusVisible:d}})},onBlur(){r({type:"CONTEXT.SET",context:{focused:!1,focusVisible:!1}})},onClick(d){if(o){d.preventDefault();return}const l=d.currentTarget.checked;r({type:"CHECKED.SET",checked:l,isTrusted:!0})}})}}}var{not:Wo}=fc(),op={props({props:t}){return{defaultChecked:!1,label:"switch",value:"on",...t}},initialState(){return"ready"},context({prop:t,bindable:e}){return{checked:e(()=>({defaultValue:t("defaultChecked"),value:t("checked"),onChange(n){var r;(r=t("onCheckedChange"))==null||r({checked:n})}})),fieldsetDisabled:e(()=>({defaultValue:!1})),focusVisible:e(()=>({defaultValue:!1})),active:e(()=>({defaultValue:!1})),focused:e(()=>({defaultValue:!1})),hovered:e(()=>({defaultValue:!1}))}},computed:{isDisabled:({context:t,prop:e})=>e("disabled")||t.get("fieldsetDisabled")},watch({track:t,prop:e,context:n,action:r}){t([()=>e("disabled")],()=>{r(["removeFocusIfNeeded"])}),t([()=>n.get("checked")],()=>{r(["syncInputElement"])})},effects:["trackFormControlState","trackPressEvent","trackFocusVisible"],on:{"CHECKED.TOGGLE":[{guard:Wo("isTrusted"),actions:["toggleChecked","dispatchChangeEvent"]},{actions:["toggleChecked"]}],"CHECKED.SET":[{guard:Wo("isTrusted"),actions:["setChecked","dispatchChangeEvent"]},{actions:["setChecked"]}],"CONTEXT.SET":{actions:["setContext"]}},states:{ready:{}},implementations:{guards:{isTrusted:({event:t})=>!!t.isTrusted},effects:{trackPressEvent({computed:t,scope:e,context:n}){if(!t("isDisabled"))return sh({pointerNode:ap(e),keyboardNode:rr(e),isValidKey:r=>r.key===" ",onPress:()=>n.set("active",!1),onPressStart:()=>n.set("active",!0),onPressEnd:()=>n.set("active",!1)})},trackFocusVisible({computed:t,scope:e}){if(!t("isDisabled"))return mc({root:e.getRootNode()})},trackFormControlState({context:t,send:e,scope:n}){return Ls(rr(n),{onFieldsetDisabledChange(r){t.set("fieldsetDisabled",r)},onFormReset(){const r=t.initial("checked");e({type:"CHECKED.SET",checked:!!r,src:"form-reset"})}})}},actions:{setContext({context:t,event:e}){for(const n in e.context)t.set(n,e.context[n])},syncInputElement({context:t,scope:e}){const n=rr(e);n&&ec(n,!!t.get("checked"))},removeFocusIfNeeded({context:t,prop:e}){e("disabled")&&t.set("focused",!1)},setChecked({context:t,event:e}){t.set("checked",e.checked)},toggleChecked({context:t}){t.set("checked",!t.get("checked"))},dispatchChangeEvent({context:t,scope:e}){const n=rr(e);nc(n,{checked:t.get("checked")})}}}};dr()(["checked","defaultChecked","dir","disabled","form","getRootNode","id","ids","invalid","label","name","onCheckedChange","readOnly","required","value"]);var lp=ft('<span data-testid="switch-icon-inactive"><!></span>'),cp=ft('<span data-testid="switch-icon-active"><!></span>'),up=ft("<span><!></span>"),dp=ft("<label><input/> <span><span><!> <!></span></span> <!></label>");function Pn(t,e){const n=Ni();yt(e,!0);const r=U(e,"compact",3,!1),i=U(e,"base",3,"inline-flex items-center gap-4"),a=U(e,"classes",3,""),s=U(e,"stateFocused",3,"data-[focus-visible]:focused"),o=U(e,"controlBase",3,"cursor-pointer transition duration-200"),u=U(e,"controlInactive",3,"preset-filled-surface-200-800"),f=U(e,"controlActive",3,"preset-filled-primary-500"),h=U(e,"controlDisabled",3,"opacity-50 cursor-not-allowed"),m=U(e,"controlWidth",3,"w-10"),d=U(e,"controlHeight",3,"h-6"),l=U(e,"controlPadding",3,"p-0.5"),p=U(e,"controlRounded",3,"rounded-full"),c=U(e,"controlHover",3,"hover:brightness-90 dark:hover:brightness-110"),g=U(e,"controlClasses",3,""),b=U(e,"thumbBase",3,"right-0 aspect-square h-full flex justify-center items-center text-right cursor-pointer"),_=U(e,"thumbInactive",3,"preset-filled-surface-50-950"),x=U(e,"thumbActive",3,"bg-surface-50 text-surface-contrast-50"),C=U(e,"thumbRounded",3,"rounded-full"),k=U(e,"thumbTranslateX",3,"translate-x-4 rtl:-translate-x-4"),A=U(e,"thumbTransition",3,"transition"),I=U(e,"thumbEase",3,"ease-in-out"),P=U(e,"thumbDuration",3,"duration-200"),O=U(e,"thumbClasses",3,""),B=U(e,"labelBase",3,""),z=U(e,"labelClasses",3,""),E=U(e,"iconInactiveBase",3,"pointer-events-none"),R=U(e,"iconActiveBase",3,"pointer-events-none"),v=Nt(e,["$$slots","$$events","$$legacy","compact","base","classes","stateFocused","controlBase","controlInactive","controlActive","controlDisabled","controlWidth","controlHeight","controlPadding","controlRounded","controlHover","controlClasses","thumbBase","thumbInactive","thumbActive","thumbRounded","thumbTranslateX","thumbTransition","thumbEase","thumbDuration","thumbClasses","labelBase","labelClasses","iconInactiveBase","iconActiveBase","children","inactiveChild","activeChild"]),D=Xi(op,()=>({id:n,...v})),W=ct(()=>sp(D,Ki)),V=ct(()=>r()?b():o()),K=ct(()=>r()?"":d()),j=ct(()=>r()?"":l()),et=ct(()=>r()?u():_()),N=ct(()=>r()?f():x()),M=ct(()=>r()?"":k()),ot=ct(()=>w(W).checked?f():u()),rt=ct(()=>w(W).checked?`${w(N)} ${w(M)}`:w(et)),Q=ct(()=>w(W).disabled?h():""),wt=ct(()=>w(W).focused?s():"");var St=dp();$t(St,T=>({...T,class:`${i()??""} ${a()??""}`,"data-testid":"switch"}),[()=>w(W).getRootProps()]);var dt=Z(St);qt(dt),$t(dt,T=>({...T,"data-testid":"switch-input"}),[()=>w(W).getHiddenInputProps()]);var xt=X(dt,2);$t(xt,T=>({...T,class:`${w(V)??""} ${w(ot)??""} ${w(wt)??""} ${m()??""} ${w(K)??""} ${w(j)??""} ${p()??""} ${c()??""} ${w(Q)??""} ${g()??""}`,"data-testid":"switch-control"}),[()=>w(W).getControlProps()]);var vt=Z(xt);$t(vt,T=>({...T,class:`${b()??""} ${w(rt)??""} ${C()??""} ${A()??""} ${I()??""} ${P()??""} ${O()??""}`,"data-testid":"switch-thumb"}),[()=>w(W).getThumbProps()]);var Ct=Z(vt);{var Bt=T=>{var S=lp(),L=Z(S);At(L,()=>e.inactiveChild),$(S),Ot(()=>ne(S,1,za(E()))),J(T,S)};Dt(Ct,T=>{!w(W).checked&&e.inactiveChild&&T(Bt)})}var Mt=X(Ct,2);{var y=T=>{var S=cp(),L=Z(S);At(L,()=>e.activeChild),$(S),Ot(()=>ne(S,1,za(R()))),J(T,S)};Dt(Mt,T=>{w(W).checked&&e.activeChild&&T(y)})}$(vt),$(xt);var q=X(xt,2);{var F=T=>{var S=up();$t(S,G=>({...G,class:`${B()??""} ${z()??""}`,"data-testid":"switch-label"}),[()=>w(W).getLabelProps()]);var L=Z(S);At(L,()=>e.children),$(S),J(T,S)};Dt(q,T=>{e.children&&T(F)})}$(St),J(t,St),_t()}var Oi;Oi=Yi({fluid:!1,api:{}}),Oi[0];Oi[1];Oi[2];function fp(t){const e={each(n){var r;for(let i=0;i<((r=t.frames)==null?void 0:r.length);i+=1){const a=t.frames[i];a&&n(a)}},addEventListener(n,r,i){return e.each(a=>{try{a.document.addEventListener(n,r,i)}catch{}}),()=>{try{e.removeEventListener(n,r,i)}catch{}}},removeEventListener(n,r,i){e.each(a=>{try{a.document.removeEventListener(n,r,i)}catch{}})}};return e}function hp(t){const e=t.frameElement!=null?t.parent:null;return{addEventListener:(n,r,i)=>{try{e==null||e.addEventListener(n,r,i)}catch{}return()=>{try{e==null||e.removeEventListener(n,r,i)}catch{}}},removeEventListener:(n,r,i)=>{try{e==null||e.removeEventListener(n,r,i)}catch{}}}}var Uo="pointerdown.outside",jo="focus.outside";function vp(t){for(const e of t)if(re(e)&&En(e))return!0;return!1}var Oc=t=>"clientY"in t;function pp(t,e){if(!Oc(e)||!t)return!1;const n=t.getBoundingClientRect();return n.width===0||n.height===0?!1:n.top<=e.clientY&&e.clientY<=n.top+n.height&&n.left<=e.clientX&&e.clientX<=n.left+n.width}function gp(t,e){return t.y<=e.y&&e.y<=t.y+t.height&&t.x<=e.x&&e.x<=t.x+t.width}function $o(t,e){if(!e||!Oc(t))return!1;const n=e.scrollHeight>e.clientHeight,r=n&&t.clientX>e.offsetLeft+e.clientWidth,i=e.scrollWidth>e.clientWidth,a=i&&t.clientY>e.offsetTop+e.clientHeight,s={x:e.offsetLeft,y:e.offsetTop,width:e.clientWidth+(n?16:0),height:e.clientHeight+(i?16:0)},o={x:t.clientX,y:t.clientY};return gp(s,o)?r||a:!1}function mp(t,e){const{exclude:n,onFocusOutside:r,onPointerDownOutside:i,onInteractOutside:a,defer:s}=e;if(!t)return;const o=Ce(t),u=ae(t),f=fp(u),h=hp(u);function m(_,x){if(!re(x)||!x.isConnected||Br(t,x)||pp(t,_))return!1;const C=o.querySelector(`[aria-controls="${t.id}"]`);if(C){const A=Qa(C);if($o(_,A))return!1}const k=Qa(t);return $o(_,k)?!1:!(n!=null&&n(x))}const d=new Set,l=zr(t==null?void 0:t.getRootNode());function p(_){function x(C){var P;const k=s&&!Co()?Ee:O=>O(),A=C??_,I=((P=A==null?void 0:A.composedPath)==null?void 0:P.call(A))??[A==null?void 0:A.target];k(()=>{const O=l?I[0]:we(_);if(!(!t||!m(_,O))){if(i||a){const B=ns(i,a);t.addEventListener(Uo,B,{once:!0})}qo(t,Uo,{bubbles:!1,cancelable:!0,detail:{originalEvent:A,contextmenu:Df(A),focusable:vp(I),target:O}})}})}_.pointerType==="touch"?(d.forEach(C=>C()),d.add(Kt(o,"click",x,{once:!0})),d.add(h.addEventListener("click",x,{once:!0})),d.add(f.addEventListener("click",x,{once:!0}))):x()}const c=new Set,g=setTimeout(()=>{c.add(Kt(o,"pointerdown",p,!0)),c.add(h.addEventListener("pointerdown",p,!0)),c.add(f.addEventListener("pointerdown",p,!0))},0);function b(_){(s?Ee:C=>C())(()=>{const C=we(_);if(!(!t||!m(_,C))){if(r||a){const k=ns(r,a);t.addEventListener(jo,k,{once:!0})}qo(t,jo,{bubbles:!1,cancelable:!0,detail:{originalEvent:_,contextmenu:!1,focusable:En(C),target:C}})}})}return Co()||(c.add(Kt(o,"focusin",b,!0)),c.add(h.addEventListener("focusin",b,!0)),c.add(f.addEventListener("focusin",b,!0))),()=>{clearTimeout(g),d.forEach(_=>_()),c.forEach(_=>_())}}function bp(t,e){const{defer:n}=e,r=n?Ee:a=>a(),i=[];return i.push(r(()=>{const a=typeof t=="function"?t():t;i.push(mp(a,e))})),()=>{i.forEach(a=>a==null?void 0:a())}}function qo(t,e,n){const r=t.ownerDocument.defaultView||window,i=new r.CustomEvent(e,n);return t.dispatchEvent(i)}function yp(t,e){const n=r=>{r.key==="Escape"&&(r.isComposing||e==null||e(r))};return Kt(Ce(t),"keydown",n,{capture:!0})}var Re={layers:[],branches:[],count(){return this.layers.length},pointerBlockingLayers(){return this.layers.filter(t=>t.pointerBlocking)},topMostPointerBlockingLayer(){return[...this.pointerBlockingLayers()].slice(-1)[0]},hasPointerBlockingLayer(){return this.pointerBlockingLayers().length>0},isBelowPointerBlockingLayer(t){var r;const e=this.indexOf(t),n=this.topMostPointerBlockingLayer()?this.indexOf((r=this.topMostPointerBlockingLayer())==null?void 0:r.node):-1;return e<n},isTopMost(t){const e=this.layers[this.count()-1];return(e==null?void 0:e.node)===t},getNestedLayers(t){return Array.from(this.layers).slice(this.indexOf(t)+1)},isInNestedLayer(t,e){return this.getNestedLayers(t).some(n=>Br(n.node,e))},isInBranch(t){return Array.from(this.branches).some(e=>Br(e,t))},add(t){const e=this.layers.push(t);t.node.style.setProperty("--layer-index",`${e}`)},addBranch(t){this.branches.push(t)},remove(t){const e=this.indexOf(t);e<0||(e<this.count()-1&&this.getNestedLayers(t).forEach(r=>r.dismiss()),this.layers.splice(e,1),t.style.removeProperty("--layer-index"))},removeBranch(t){const e=this.branches.indexOf(t);e>=0&&this.branches.splice(e,1)},indexOf(t){return this.layers.findIndex(e=>e.node===t)},dismiss(t){var e;(e=this.layers[this.indexOf(t)])==null||e.dismiss()},clear(){this.remove(this.layers[0].node)}},Go;function Zo(){Re.layers.forEach(({node:t})=>{t.style.pointerEvents=Re.isBelowPointerBlockingLayer(t)?"none":"auto"})}function _p(t){t.style.pointerEvents=""}function wp(t,e){const n=Ce(t),r=[];if(Re.hasPointerBlockingLayer()&&!n.body.hasAttribute("data-inert")&&(Go=document.body.style.pointerEvents,queueMicrotask(()=>{n.body.style.pointerEvents="none",n.body.setAttribute("data-inert","")})),e){const i=fh(e,a=>{r.push(es(a,{pointerEvents:"auto"}))});r.push(i)}return()=>{Re.hasPointerBlockingLayer()||(queueMicrotask(()=>{n.body.style.pointerEvents=Go,n.body.removeAttribute("data-inert"),n.body.style.length===0&&n.body.removeAttribute("style")}),r.forEach(i=>i()))}}function xp(t,e){const{warnOnMissingNode:n=!0}=e;if(n&&!t){as("[@zag-js/dismissable] node is `null` or `undefined`");return}if(!t)return;const{onDismiss:r,pointerBlocking:i,exclude:a,debug:s}=e,o={dismiss:r,node:t,pointerBlocking:i};Re.add(o),Zo();function u(l){var c,g;const p=we(l.detail.originalEvent);Re.isBelowPointerBlockingLayer(t)||Re.isInBranch(p)||((c=e.onPointerDownOutside)==null||c.call(e,l),(g=e.onInteractOutside)==null||g.call(e,l),!l.defaultPrevented&&(s&&console.log("onPointerDownOutside:",l.detail.originalEvent),r==null||r()))}function f(l){var c,g;const p=we(l.detail.originalEvent);Re.isInBranch(p)||((c=e.onFocusOutside)==null||c.call(e,l),(g=e.onInteractOutside)==null||g.call(e,l),!l.defaultPrevented&&(s&&console.log("onFocusOutside:",l.detail.originalEvent),r==null||r()))}function h(l){var p;Re.isTopMost(t)&&((p=e.onEscapeKeyDown)==null||p.call(e,l),!l.defaultPrevented&&r&&(l.preventDefault(),r()))}function m(l){var b;if(!t)return!1;const p=typeof a=="function"?a():a,c=Array.isArray(p)?p:[p],g=(b=e.persistentElements)==null?void 0:b.map(_=>_()).filter(re);return g&&c.push(...g),c.some(_=>Br(_,l))||Re.isInNestedLayer(t,l)}const d=[i?wp(t,e.persistentElements):void 0,yp(t,h),bp(t,{exclude:m,onFocusOutside:f,onPointerDownOutside:u,defer:e.defer})];return()=>{Re.remove(t),Zo(),_p(t),d.forEach(l=>l==null?void 0:l())}}function kp(t,e){const{defer:n}=e,r=n?Ee:a=>a(),i=[];return i.push(r(()=>{const a=Fn(t)?t():t;i.push(xp(a,e))})),()=>{i.forEach(a=>a==null?void 0:a())}}const Ep=["top","right","bottom","left"],Sn=Math.min,pe=Math.max,Ri=Math.round,ri=Math.floor,$e=t=>({x:t,y:t}),Cp={left:"right",right:"left",bottom:"top",top:"bottom"},Sp={start:"end",end:"start"};function fs(t,e,n){return pe(t,Sn(e,n))}function dn(t,e){return typeof t=="function"?t(e):t}function fn(t){return t.split("-")[0]}function fr(t){return t.split("-")[1]}function Bs(t){return t==="x"?"y":"x"}function Ms(t){return t==="y"?"height":"width"}function Ue(t){return["top","bottom"].includes(fn(t))?"y":"x"}function Vs(t){return Bs(Ue(t))}function Tp(t,e,n){n===void 0&&(n=!1);const r=fr(t),i=Vs(t),a=Ms(i);let s=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(s=Pi(s)),[s,Pi(s)]}function Ip(t){const e=Pi(t);return[hs(t),e,hs(e)]}function hs(t){return t.replace(/start|end/g,e=>Sp[e])}function Ap(t,e,n){const r=["left","right"],i=["right","left"],a=["top","bottom"],s=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?a:s;default:return[]}}function Op(t,e,n,r){const i=fr(t);let a=Ap(fn(t),n==="start",r);return i&&(a=a.map(s=>s+"-"+i),e&&(a=a.concat(a.map(hs)))),a}function Pi(t){return t.replace(/left|right|bottom|top/g,e=>Cp[e])}function Rp(t){return{top:0,right:0,bottom:0,left:0,...t}}function Rc(t){return typeof t!="number"?Rp(t):{top:t,right:t,bottom:t,left:t}}function Li(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function Ko(t,e,n){let{reference:r,floating:i}=t;const a=Ue(e),s=Vs(e),o=Ms(s),u=fn(e),f=a==="y",h=r.x+r.width/2-i.width/2,m=r.y+r.height/2-i.height/2,d=r[o]/2-i[o]/2;let l;switch(u){case"top":l={x:h,y:r.y-i.height};break;case"bottom":l={x:h,y:r.y+r.height};break;case"right":l={x:r.x+r.width,y:m};break;case"left":l={x:r.x-i.width,y:m};break;default:l={x:r.x,y:r.y}}switch(fr(e)){case"start":l[s]-=d*(n&&f?-1:1);break;case"end":l[s]+=d*(n&&f?-1:1);break}return l}const Pp=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:a=[],platform:s}=n,o=a.filter(Boolean),u=await(s.isRTL==null?void 0:s.isRTL(e));let f=await s.getElementRects({reference:t,floating:e,strategy:i}),{x:h,y:m}=Ko(f,r,u),d=r,l={},p=0;for(let c=0;c<o.length;c++){const{name:g,fn:b}=o[c],{x:_,y:x,data:C,reset:k}=await b({x:h,y:m,initialPlacement:r,placement:d,strategy:i,middlewareData:l,rects:f,platform:s,elements:{reference:t,floating:e}});h=_??h,m=x??m,l={...l,[g]:{...l[g],...C}},k&&p<=50&&(p++,typeof k=="object"&&(k.placement&&(d=k.placement),k.rects&&(f=k.rects===!0?await s.getElementRects({reference:t,floating:e,strategy:i}):k.rects),{x:h,y:m}=Ko(f,d,u)),c=-1)}return{x:h,y:m,placement:d,strategy:i,middlewareData:l}};async function Vr(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:a,rects:s,elements:o,strategy:u}=t,{boundary:f="clippingAncestors",rootBoundary:h="viewport",elementContext:m="floating",altBoundary:d=!1,padding:l=0}=dn(e,t),p=Rc(l),g=o[d?m==="floating"?"reference":"floating":m],b=Li(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(g)))==null||n?g:g.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(o.floating)),boundary:f,rootBoundary:h,strategy:u})),_=m==="floating"?{x:r,y:i,width:s.floating.width,height:s.floating.height}:s.reference,x=await(a.getOffsetParent==null?void 0:a.getOffsetParent(o.floating)),C=await(a.isElement==null?void 0:a.isElement(x))?await(a.getScale==null?void 0:a.getScale(x))||{x:1,y:1}:{x:1,y:1},k=Li(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:_,offsetParent:x,strategy:u}):_);return{top:(b.top-k.top+p.top)/C.y,bottom:(k.bottom-b.bottom+p.bottom)/C.y,left:(b.left-k.left+p.left)/C.x,right:(k.right-b.right+p.right)/C.x}}const Lp=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:a,platform:s,elements:o,middlewareData:u}=e,{element:f,padding:h=0}=dn(t,e)||{};if(f==null)return{};const m=Rc(h),d={x:n,y:r},l=Vs(i),p=Ms(l),c=await s.getDimensions(f),g=l==="y",b=g?"top":"left",_=g?"bottom":"right",x=g?"clientHeight":"clientWidth",C=a.reference[p]+a.reference[l]-d[l]-a.floating[p],k=d[l]-a.reference[l],A=await(s.getOffsetParent==null?void 0:s.getOffsetParent(f));let I=A?A[x]:0;(!I||!await(s.isElement==null?void 0:s.isElement(A)))&&(I=o.floating[x]||a.floating[p]);const P=C/2-k/2,O=I/2-c[p]/2-1,B=Sn(m[b],O),z=Sn(m[_],O),E=B,R=I-c[p]-z,v=I/2-c[p]/2+P,D=fs(E,v,R),W=!u.arrow&&fr(i)!=null&&v!==D&&a.reference[p]/2-(v<E?B:z)-c[p]/2<0,V=W?v<E?v-E:v-R:0;return{[l]:d[l]+V,data:{[l]:D,centerOffset:v-D-V,...W&&{alignmentOffset:V}},reset:W}}}),Dp=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:a,rects:s,initialPlacement:o,platform:u,elements:f}=e,{mainAxis:h=!0,crossAxis:m=!0,fallbackPlacements:d,fallbackStrategy:l="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:c=!0,...g}=dn(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const b=fn(i),_=Ue(o),x=fn(o)===o,C=await(u.isRTL==null?void 0:u.isRTL(f.floating)),k=d||(x||!c?[Pi(o)]:Ip(o)),A=p!=="none";!d&&A&&k.push(...Op(o,c,p,C));const I=[o,...k],P=await Vr(e,g),O=[];let B=((r=a.flip)==null?void 0:r.overflows)||[];if(h&&O.push(P[b]),m){const v=Tp(i,s,C);O.push(P[v[0]],P[v[1]])}if(B=[...B,{placement:i,overflows:O}],!O.every(v=>v<=0)){var z,E;const v=(((z=a.flip)==null?void 0:z.index)||0)+1,D=I[v];if(D&&(!(m==="alignment"?_!==Ue(D):!1)||B.every(K=>K.overflows[0]>0&&Ue(K.placement)===_)))return{data:{index:v,overflows:B},reset:{placement:D}};let W=(E=B.filter(V=>V.overflows[0]<=0).sort((V,K)=>V.overflows[1]-K.overflows[1])[0])==null?void 0:E.placement;if(!W)switch(l){case"bestFit":{var R;const V=(R=B.filter(K=>{if(A){const j=Ue(K.placement);return j===_||j==="y"}return!0}).map(K=>[K.placement,K.overflows.filter(j=>j>0).reduce((j,et)=>j+et,0)]).sort((K,j)=>K[1]-j[1])[0])==null?void 0:R[0];V&&(W=V);break}case"initialPlacement":W=o;break}if(i!==W)return{reset:{placement:W}}}return{}}}};function Xo(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function Yo(t){return Ep.some(e=>t[e]>=0)}const Np=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=dn(t,e);switch(r){case"referenceHidden":{const a=await Vr(e,{...i,elementContext:"reference"}),s=Xo(a,n.reference);return{data:{referenceHiddenOffsets:s,referenceHidden:Yo(s)}}}case"escaped":{const a=await Vr(e,{...i,altBoundary:!0}),s=Xo(a,n.floating);return{data:{escapedOffsets:s,escaped:Yo(s)}}}default:return{}}}}};async function Fp(t,e){const{placement:n,platform:r,elements:i}=t,a=await(r.isRTL==null?void 0:r.isRTL(i.floating)),s=fn(n),o=fr(n),u=Ue(n)==="y",f=["left","top"].includes(s)?-1:1,h=a&&u?-1:1,m=dn(e,t);let{mainAxis:d,crossAxis:l,alignmentAxis:p}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return o&&typeof p=="number"&&(l=o==="end"?p*-1:p),u?{x:l*h,y:d*f}:{x:d*f,y:l*h}}const zp=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:a,placement:s,middlewareData:o}=e,u=await Fp(e,t);return s===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:i+u.x,y:a+u.y,data:{...u,placement:s}}}}},Bp=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:a=!0,crossAxis:s=!1,limiter:o={fn:g=>{let{x:b,y:_}=g;return{x:b,y:_}}},...u}=dn(t,e),f={x:n,y:r},h=await Vr(e,u),m=Ue(fn(i)),d=Bs(m);let l=f[d],p=f[m];if(a){const g=d==="y"?"top":"left",b=d==="y"?"bottom":"right",_=l+h[g],x=l-h[b];l=fs(_,l,x)}if(s){const g=m==="y"?"top":"left",b=m==="y"?"bottom":"right",_=p+h[g],x=p-h[b];p=fs(_,p,x)}const c=o.fn({...e,[d]:l,[m]:p});return{...c,data:{x:c.x-n,y:c.y-r,enabled:{[d]:a,[m]:s}}}}}},Mp=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:a,middlewareData:s}=e,{offset:o=0,mainAxis:u=!0,crossAxis:f=!0}=dn(t,e),h={x:n,y:r},m=Ue(i),d=Bs(m);let l=h[d],p=h[m];const c=dn(o,e),g=typeof c=="number"?{mainAxis:c,crossAxis:0}:{mainAxis:0,crossAxis:0,...c};if(u){const x=d==="y"?"height":"width",C=a.reference[d]-a.floating[x]+g.mainAxis,k=a.reference[d]+a.reference[x]-g.mainAxis;l<C?l=C:l>k&&(l=k)}if(f){var b,_;const x=d==="y"?"width":"height",C=["top","left"].includes(fn(i)),k=a.reference[m]-a.floating[x]+(C&&((b=s.offset)==null?void 0:b[m])||0)+(C?0:g.crossAxis),A=a.reference[m]+a.reference[x]+(C?0:((_=s.offset)==null?void 0:_[m])||0)-(C?g.crossAxis:0);p<k?p=k:p>A&&(p=A)}return{[d]:l,[m]:p}}}},Vp=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:a,platform:s,elements:o}=e,{apply:u=()=>{},...f}=dn(t,e),h=await Vr(e,f),m=fn(i),d=fr(i),l=Ue(i)==="y",{width:p,height:c}=a.floating;let g,b;m==="top"||m==="bottom"?(g=m,b=d===(await(s.isRTL==null?void 0:s.isRTL(o.floating))?"start":"end")?"left":"right"):(b=m,g=d==="end"?"top":"bottom");const _=c-h.top-h.bottom,x=p-h.left-h.right,C=Sn(c-h[g],_),k=Sn(p-h[b],x),A=!e.middlewareData.shift;let I=C,P=k;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(P=x),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(I=_),A&&!d){const B=pe(h.left,0),z=pe(h.right,0),E=pe(h.top,0),R=pe(h.bottom,0);l?P=p-2*(B!==0||z!==0?B+z:pe(h.left,h.right)):I=c-2*(E!==0||R!==0?E+R:pe(h.top,h.bottom))}await u({...e,availableWidth:P,availableHeight:I});const O=await s.getDimensions(o.floating);return p!==O.width||c!==O.height?{reset:{rects:!0}}:{}}}};function ta(){return typeof window<"u"}function hr(t){return Pc(t)?(t.nodeName||"").toLowerCase():"#document"}function ge(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ke(t){var e;return(e=(Pc(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Pc(t){return ta()?t instanceof Node||t instanceof ge(t).Node:!1}function Le(t){return ta()?t instanceof Element||t instanceof ge(t).Element:!1}function Ze(t){return ta()?t instanceof HTMLElement||t instanceof ge(t).HTMLElement:!1}function Jo(t){return!ta()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof ge(t).ShadowRoot}function Kr(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=De(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function Hp(t){return["table","td","th"].includes(hr(t))}function ea(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Hs(t){const e=Ws(),n=Le(t)?De(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Wp(t){let e=Tn(t);for(;Ze(e)&&!cr(e);){if(Hs(e))return e;if(ea(e))return null;e=Tn(e)}return null}function Ws(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function cr(t){return["html","body","#document"].includes(hr(t))}function De(t){return ge(t).getComputedStyle(t)}function na(t){return Le(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Tn(t){if(hr(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Jo(t)&&t.host||Ke(t);return Jo(e)?e.host:e}function Lc(t){const e=Tn(t);return cr(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ze(e)&&Kr(e)?e:Lc(e)}function Hr(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Lc(t),a=i===((r=t.ownerDocument)==null?void 0:r.body),s=ge(i);if(a){const o=vs(s);return e.concat(s,s.visualViewport||[],Kr(i)?i:[],o&&n?Hr(o):[])}return e.concat(i,Hr(i,[],n))}function vs(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Dc(t){const e=De(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Ze(t),a=i?t.offsetWidth:n,s=i?t.offsetHeight:r,o=Ri(n)!==a||Ri(r)!==s;return o&&(n=a,r=s),{width:n,height:r,$:o}}function Us(t){return Le(t)?t:t.contextElement}function ar(t){const e=Us(t);if(!Ze(e))return $e(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:a}=Dc(e);let s=(a?Ri(n.width):n.width)/r,o=(a?Ri(n.height):n.height)/i;return(!s||!Number.isFinite(s))&&(s=1),(!o||!Number.isFinite(o))&&(o=1),{x:s,y:o}}const Up=$e(0);function Nc(t){const e=ge(t);return!Ws()||!e.visualViewport?Up:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function jp(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==ge(t)?!1:e}function Un(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),a=Us(t);let s=$e(1);e&&(r?Le(r)&&(s=ar(r)):s=ar(t));const o=jp(a,n,r)?Nc(a):$e(0);let u=(i.left+o.x)/s.x,f=(i.top+o.y)/s.y,h=i.width/s.x,m=i.height/s.y;if(a){const d=ge(a),l=r&&Le(r)?ge(r):r;let p=d,c=vs(p);for(;c&&r&&l!==p;){const g=ar(c),b=c.getBoundingClientRect(),_=De(c),x=b.left+(c.clientLeft+parseFloat(_.paddingLeft))*g.x,C=b.top+(c.clientTop+parseFloat(_.paddingTop))*g.y;u*=g.x,f*=g.y,h*=g.x,m*=g.y,u+=x,f+=C,p=ge(c),c=vs(p)}}return Li({width:h,height:m,x:u,y:f})}function js(t,e){const n=na(t).scrollLeft;return e?e.left+n:Un(Ke(t)).left+n}function Fc(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:js(t,r)),a=r.top+e.scrollTop;return{x:i,y:a}}function $p(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const a=i==="fixed",s=Ke(r),o=e?ea(e.floating):!1;if(r===s||o&&a)return n;let u={scrollLeft:0,scrollTop:0},f=$e(1);const h=$e(0),m=Ze(r);if((m||!m&&!a)&&((hr(r)!=="body"||Kr(s))&&(u=na(r)),Ze(r))){const l=Un(r);f=ar(r),h.x=l.x+r.clientLeft,h.y=l.y+r.clientTop}const d=s&&!m&&!a?Fc(s,u,!0):$e(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-u.scrollLeft*f.x+h.x+d.x,y:n.y*f.y-u.scrollTop*f.y+h.y+d.y}}function qp(t){return Array.from(t.getClientRects())}function Gp(t){const e=Ke(t),n=na(t),r=t.ownerDocument.body,i=pe(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=pe(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let s=-n.scrollLeft+js(t);const o=-n.scrollTop;return De(r).direction==="rtl"&&(s+=pe(e.clientWidth,r.clientWidth)-i),{width:i,height:a,x:s,y:o}}function Zp(t,e){const n=ge(t),r=Ke(t),i=n.visualViewport;let a=r.clientWidth,s=r.clientHeight,o=0,u=0;if(i){a=i.width,s=i.height;const f=Ws();(!f||f&&e==="fixed")&&(o=i.offsetLeft,u=i.offsetTop)}return{width:a,height:s,x:o,y:u}}function Kp(t,e){const n=Un(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,a=Ze(t)?ar(t):$e(1),s=t.clientWidth*a.x,o=t.clientHeight*a.y,u=i*a.x,f=r*a.y;return{width:s,height:o,x:u,y:f}}function Qo(t,e,n){let r;if(e==="viewport")r=Zp(t,n);else if(e==="document")r=Gp(Ke(t));else if(Le(e))r=Kp(e,n);else{const i=Nc(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Li(r)}function zc(t,e){const n=Tn(t);return n===e||!Le(n)||cr(n)?!1:De(n).position==="fixed"||zc(n,e)}function Xp(t,e){const n=e.get(t);if(n)return n;let r=Hr(t,[],!1).filter(o=>Le(o)&&hr(o)!=="body"),i=null;const a=De(t).position==="fixed";let s=a?Tn(t):t;for(;Le(s)&&!cr(s);){const o=De(s),u=Hs(s);!u&&o.position==="fixed"&&(i=null),(a?!u&&!i:!u&&o.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Kr(s)&&!u&&zc(t,s))?r=r.filter(h=>h!==s):i=o,s=Tn(s)}return e.set(t,r),r}function Yp(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const s=[...n==="clippingAncestors"?ea(e)?[]:Xp(e,this._c):[].concat(n),r],o=s[0],u=s.reduce((f,h)=>{const m=Qo(e,h,i);return f.top=pe(m.top,f.top),f.right=Sn(m.right,f.right),f.bottom=Sn(m.bottom,f.bottom),f.left=pe(m.left,f.left),f},Qo(e,o,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function Jp(t){const{width:e,height:n}=Dc(t);return{width:e,height:n}}function Qp(t,e,n){const r=Ze(e),i=Ke(e),a=n==="fixed",s=Un(t,!0,a,e);let o={scrollLeft:0,scrollTop:0};const u=$e(0);function f(){u.x=js(i)}if(r||!r&&!a)if((hr(e)!=="body"||Kr(i))&&(o=na(e)),r){const l=Un(e,!0,a,e);u.x=l.x+e.clientLeft,u.y=l.y+e.clientTop}else i&&f();a&&!r&&i&&f();const h=i&&!r&&!a?Fc(i,o):$e(0),m=s.left+o.scrollLeft-u.x-h.x,d=s.top+o.scrollTop-u.y-h.y;return{x:m,y:d,width:s.width,height:s.height}}function Ea(t){return De(t).position==="static"}function tl(t,e){if(!Ze(t)||De(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Ke(t)===n&&(n=n.ownerDocument.body),n}function Bc(t,e){const n=ge(t);if(ea(t))return n;if(!Ze(t)){let i=Tn(t);for(;i&&!cr(i);){if(Le(i)&&!Ea(i))return i;i=Tn(i)}return n}let r=tl(t,e);for(;r&&Hp(r)&&Ea(r);)r=tl(r,e);return r&&cr(r)&&Ea(r)&&!Hs(r)?n:r||Wp(t)||n}const tg=async function(t){const e=this.getOffsetParent||Bc,n=this.getDimensions,r=await n(t.floating);return{reference:Qp(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function eg(t){return De(t).direction==="rtl"}const ng={convertOffsetParentRelativeRectToViewportRelativeRect:$p,getDocumentElement:Ke,getClippingRect:Yp,getOffsetParent:Bc,getElementRects:tg,getClientRects:qp,getDimensions:Jp,getScale:ar,isElement:Le,isRTL:eg};function Mc(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function rg(t,e){let n=null,r;const i=Ke(t);function a(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function s(o,u){o===void 0&&(o=!1),u===void 0&&(u=1),a();const f=t.getBoundingClientRect(),{left:h,top:m,width:d,height:l}=f;if(o||e(),!d||!l)return;const p=ri(m),c=ri(i.clientWidth-(h+d)),g=ri(i.clientHeight-(m+l)),b=ri(h),x={rootMargin:-p+"px "+-c+"px "+-g+"px "+-b+"px",threshold:pe(0,Sn(1,u))||1};let C=!0;function k(A){const I=A[0].intersectionRatio;if(I!==u){if(!C)return s();I?s(!1,I):r=setTimeout(()=>{s(!1,1e-7)},1e3)}I===1&&!Mc(f,t.getBoundingClientRect())&&s(),C=!1}try{n=new IntersectionObserver(k,{...x,root:i.ownerDocument})}catch{n=new IntersectionObserver(k,x)}n.observe(t)}return s(!0),a}function ig(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:a=!0,elementResize:s=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,f=Us(t),h=i||a?[...f?Hr(f):[],...Hr(e)]:[];h.forEach(b=>{i&&b.addEventListener("scroll",n,{passive:!0}),a&&b.addEventListener("resize",n)});const m=f&&o?rg(f,n):null;let d=-1,l=null;s&&(l=new ResizeObserver(b=>{let[_]=b;_&&_.target===f&&l&&(l.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var x;(x=l)==null||x.observe(e)})),n()}),f&&!u&&l.observe(f),l.observe(e));let p,c=u?Un(t):null;u&&g();function g(){const b=Un(t);c&&!Mc(c,b)&&n(),c=b,p=requestAnimationFrame(g)}return n(),()=>{var b;h.forEach(_=>{i&&_.removeEventListener("scroll",n),a&&_.removeEventListener("resize",n)}),m==null||m(),(b=l)==null||b.disconnect(),l=null,u&&cancelAnimationFrame(p)}}const ag=zp,sg=Bp,og=Dp,lg=Vp,cg=Np,ug=Lp,dg=Mp,fg=(t,e,n)=>{const r=new Map,i={platform:ng,...n},a={...i.platform,_c:r};return Pp(t,e,{...i,platform:a})};function el(t=0,e=0,n=0,r=0){if(typeof DOMRect=="function")return new DOMRect(t,e,n,r);const i={x:t,y:e,width:n,height:r,top:e,right:t+n,bottom:e+r,left:t};return{...i,toJSON:()=>i}}function hg(t){if(!t)return el();const{x:e,y:n,width:r,height:i}=t;return el(e,n,r,i)}function vg(t,e){return{contextElement:re(t)?t:void 0,getBoundingClientRect:()=>{const n=t,r=e==null?void 0:e(n);return r||!n?hg(r):n.getBoundingClientRect()}}}var mr=t=>({variable:t,reference:`var(${t})`}),nn={arrowSize:mr("--arrow-size"),arrowSizeHalf:mr("--arrow-size-half"),arrowBg:mr("--arrow-background"),transformOrigin:mr("--transform-origin"),arrowOffset:mr("--arrow-offset")},pg=t=>({top:"bottom center","top-start":t?`${t.x}px bottom`:"left bottom","top-end":t?`${t.x}px bottom`:"right bottom",bottom:"top center","bottom-start":t?`${t.x}px top`:"top left","bottom-end":t?`${t.x}px top`:"top right",left:"right center","left-start":t?`right ${t.y}px`:"right top","left-end":t?`right ${t.y}px`:"right bottom",right:"left center","right-start":t?`left ${t.y}px`:"left top","right-end":t?`left ${t.y}px`:"left bottom"}),gg={name:"transformOrigin",fn({placement:t,elements:e,middlewareData:n}){const{arrow:r}=n,i=pg(r)[t],{floating:a}=e;return a.style.setProperty(nn.transformOrigin.variable,i),{data:{transformOrigin:i}}}},mg={name:"rects",fn({rects:t}){return{data:t}}},bg=t=>{if(t)return{name:"shiftArrow",fn({placement:e,middlewareData:n}){if(!n.arrow)return{};const{x:r,y:i}=n.arrow,a=e.split("-")[0];return Object.assign(t.style,{left:r!=null?`${r}px`:"",top:i!=null?`${i}px`:"",[a]:`calc(100% + ${nn.arrowOffset.reference})`}),{}}}};function yg(t){const[e,n]=t.split("-");return{side:e,align:n,hasAlign:n!=null}}var _g={strategy:"absolute",placement:"bottom",listeners:!0,gutter:8,flip:!0,slide:!0,overlap:!1,sameWidth:!1,fitViewport:!1,overflowPadding:8,arrowPadding:4};function nl(t,e){const n=t.devicePixelRatio||1;return Math.round(e*n)/n}function Vc(t){return yh(t.boundary)}function wg(t,e){if(t)return ug({element:t,padding:e.arrowPadding})}function xg(t,e){if(!mh(e.offset??e.gutter))return ag(({placement:n})=>{var f,h;const r=((t==null?void 0:t.clientHeight)||0)/2,i=((f=e.offset)==null?void 0:f.mainAxis)??e.gutter,a=typeof i=="number"?i+r:i??r,{hasAlign:s}=yg(n),o=s?void 0:e.shift,u=((h=e.offset)==null?void 0:h.crossAxis)??o;return zs({crossAxis:u,mainAxis:a,alignmentAxis:e.shift})})}function kg(t){if(t.flip)return og({boundary:Vc(t),padding:t.overflowPadding,fallbackPlacements:t.flip===!0?void 0:t.flip})}function Eg(t){if(!(!t.slide&&!t.overlap))return sg({boundary:Vc(t),mainAxis:t.slide,crossAxis:t.overlap,padding:t.overflowPadding,limiter:dg()})}function Cg(t){return lg({padding:t.overflowPadding,apply({elements:e,rects:n,availableHeight:r,availableWidth:i}){const a=e.floating,s=Math.round(n.reference.width);i=Math.floor(i),r=Math.floor(r),a.style.setProperty("--reference-width",`${s}px`),a.style.setProperty("--available-width",`${i}px`),a.style.setProperty("--available-height",`${r}px`)}})}function Sg(t){var e;if(t.hideWhenDetached)return cg({strategy:"referenceHidden",boundary:((e=t.boundary)==null?void 0:e.call(t))??"clippingAncestors"})}function Tg(t){return t?t===!0?{ancestorResize:!0,ancestorScroll:!0,elementResize:!0,layoutShift:!0}:t:{}}function Ig(t,e,n={}){const r=vg(t,n.getAnchorRect);if(!e||!r)return;const i=Object.assign({},_g,n),a=e.querySelector("[data-part=arrow]"),s=[xg(a,i),kg(i),Eg(i),wg(a,i),bg(a),gg,Cg(i),Sg(i),mg],{placement:o,strategy:u,onComplete:f,onPositioned:h}=i,m=async()=>{var C;if(!r||!e)return;const c=await fg(r,e,{placement:o,middleware:s,strategy:u});f==null||f(c),h==null||h({placed:!0});const g=ae(e),b=nl(g,c.x),_=nl(g,c.y);e.style.setProperty("--x",`${b}px`),e.style.setProperty("--y",`${_}px`),i.hideWhenDetached&&(((C=c.middlewareData.hide)==null?void 0:C.referenceHidden)?(e.style.setProperty("visibility","hidden"),e.style.setProperty("pointer-events","none")):(e.style.removeProperty("visibility"),e.style.removeProperty("pointer-events")));const x=e.firstElementChild;if(x){const k=xf(x);e.style.setProperty("--z-index",k.zIndex)}},d=async()=>{n.updatePosition?(await n.updatePosition({updatePosition:m}),h==null||h({placed:!0})):await m()},l=Tg(i.listeners),p=i.listeners?ig(r,e,d,l):wh;return d(),()=>{p==null||p(),h==null||h({placed:!1})}}function rl(t,e,n={}){const{defer:r,...i}=n,a=r?Ee:o=>o(),s=[];return s.push(a(()=>{const o=typeof t=="function"?t():t,u=typeof e=="function"?e():e;s.push(Ig(o,u,i))})),()=>{s.forEach(o=>o==null?void 0:o())}}var Ag={bottom:"rotate(45deg)",left:"rotate(135deg)",top:"rotate(225deg)",right:"rotate(315deg)"};function Og(t={}){const{placement:e,sameWidth:n,fitViewport:r,strategy:i="absolute"}=t;return{arrow:{position:"absolute",width:nn.arrowSize.reference,height:nn.arrowSize.reference,[nn.arrowSizeHalf.variable]:`calc(${nn.arrowSize.reference} / 2)`,[nn.arrowOffset.variable]:`calc(${nn.arrowSizeHalf.reference} * -1)`},arrowTip:{transform:e?Ag[e.split("-")[0]]:void 0,background:nn.arrowBg.reference,top:"0",left:"0",width:"100%",height:"100%",position:"absolute",zIndex:"inherit"},floating:{position:i,isolation:"isolate",minWidth:n?void 0:"max-content",width:n?"var(--reference-width)":void 0,maxWidth:r?"var(--available-width)":void 0,maxHeight:r?"var(--available-height)":void 0,pointerEvents:e?void 0:"none",top:"0px",left:"0px",transform:e?"translate3d(var(--x), var(--y), 0)":"translate3d(0, -100vh, 0)",zIndex:"var(--z-index)"}}}var Yn=new WeakMap,ii=new WeakMap,ai={},Ca=0,Hc=t=>t&&(t.host||Hc(t.parentNode)),Rg=(t,e)=>e.map(n=>{if(t.contains(n))return n;const r=Hc(n);return r&&t.contains(r)?r:(console.error("[zag-js > ariaHidden] target",n,"in not contained inside",t,". Doing nothing"),null)}).filter(n=>!!n),Pg=t=>t.localName==="next-route-announcer"||t.localName==="script"||t.hasAttribute("aria-live")?!0:t.matches("[data-live-announcer]"),Lg=(t,e)=>{const{parentNode:n,markerName:r,controlAttribute:i}=e,a=Rg(n,Array.isArray(t)?t:[t]);ai[r]||(ai[r]=new WeakMap);const s=ai[r],o=[],u=new Set,f=new Set(a),h=d=>{!d||u.has(d)||(u.add(d),h(d.parentNode))};a.forEach(h);const m=d=>{!d||f.has(d)||Array.prototype.forEach.call(d.children,l=>{if(u.has(l))m(l);else try{if(Pg(l))return;const c=l.getAttribute(i)==="true",g=(Yn.get(l)||0)+1,b=(s.get(l)||0)+1;Yn.set(l,g),s.set(l,b),o.push(l),g===1&&c&&ii.set(l,!0),b===1&&l.setAttribute(r,""),c||l.setAttribute(i,"true")}catch(p){console.error("[zag-js > ariaHidden] cannot operate on ",l,p)}})};return m(n),u.clear(),Ca++,()=>{o.forEach(d=>{const l=Yn.get(d)-1,p=s.get(d)-1;Yn.set(d,l),s.set(d,p),l||(ii.has(d)||d.removeAttribute(i),ii.delete(d)),p||d.removeAttribute(r)}),Ca--,Ca||(Yn=new WeakMap,Yn=new WeakMap,ii=new WeakMap,ai={})}},Dg=t=>(Array.isArray(t)?t[0]:t).ownerDocument.body,Ng=(t,e=Dg(t),n="data-aria-hidden")=>{if(e)return Lg(t,{parentNode:e,markerName:n,controlAttribute:"aria-hidden"})},Fg=t=>{const e=requestAnimationFrame(()=>t());return()=>cancelAnimationFrame(e)};function zg(t,e={}){const{defer:n=!0}=e,r=n?Fg:a=>a(),i=[];return i.push(r(()=>{const s=(typeof t=="function"?t():t).filter(Boolean);s.length!==0&&i.push(Ng(s))})),()=>{i.forEach(a=>a==null?void 0:a())}}var Bg=Object.defineProperty,Mg=(t,e,n)=>e in t?Bg(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Gt=(t,e,n)=>Mg(t,typeof e!="symbol"?e+"":e,n),il={activateTrap(t,e){if(t.length>0){const r=t[t.length-1];r!==e&&r.pause()}const n=t.indexOf(e);n===-1||t.splice(n,1),t.push(e)},deactivateTrap(t,e){const n=t.indexOf(e);n!==-1&&t.splice(n,1),t.length>0&&t[t.length-1].unpause()}},Vg=[],Hg=class{constructor(t,e){Gt(this,"trapStack"),Gt(this,"config"),Gt(this,"doc"),Gt(this,"state",{containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0}),Gt(this,"listenerCleanups",[]),Gt(this,"handleFocus",r=>{const i=we(r),a=this.findContainerIndex(i,r)>=0;if(a||As(i))a&&(this.state.mostRecentlyFocusedNode=i);else{r.stopImmediatePropagation();let s,o=!0;if(this.state.mostRecentlyFocusedNode)if(gr(this.state.mostRecentlyFocusedNode)>0){const u=this.findContainerIndex(this.state.mostRecentlyFocusedNode),{tabbableNodes:f}=this.state.containerGroups[u];if(f.length>0){const h=f.findIndex(m=>m===this.state.mostRecentlyFocusedNode);h>=0&&(this.config.isKeyForward(this.state.recentNavEvent)?h+1<f.length&&(s=f[h+1],o=!1):h-1>=0&&(s=f[h-1],o=!1))}}else this.state.containerGroups.some(u=>u.tabbableNodes.some(f=>gr(f)>0))||(o=!1);else o=!1;o&&(s=this.findNextNavNode({target:this.state.mostRecentlyFocusedNode,isBackward:this.config.isKeyBackward(this.state.recentNavEvent)})),s?this.tryFocus(s):this.tryFocus(this.state.mostRecentlyFocusedNode||this.getInitialFocusNode())}this.state.recentNavEvent=void 0}),Gt(this,"handlePointerDown",r=>{const i=we(r);if(!(this.findContainerIndex(i,r)>=0)){if(yr(this.config.clickOutsideDeactivates,r)){this.deactivate({returnFocus:this.config.returnFocusOnDeactivate});return}yr(this.config.allowOutsideClick,r)||r.preventDefault()}}),Gt(this,"handleClick",r=>{const i=we(r);this.findContainerIndex(i,r)>=0||yr(this.config.clickOutsideDeactivates,r)||yr(this.config.allowOutsideClick,r)||(r.preventDefault(),r.stopImmediatePropagation())}),Gt(this,"handleTabKey",r=>{if(this.config.isKeyForward(r)||this.config.isKeyBackward(r)){this.state.recentNavEvent=r;const i=this.config.isKeyBackward(r),a=this.findNextNavNode({event:r,isBackward:i});if(!a)return;br(r)&&r.preventDefault(),this.tryFocus(a)}}),Gt(this,"handleEscapeKey",r=>{Wg(r)&&yr(this.config.escapeDeactivates,r)!==!1&&(r.preventDefault(),this.deactivate())}),Gt(this,"_mutationObserver"),Gt(this,"setupMutationObserver",()=>{const r=this.doc.defaultView||window;this._mutationObserver=new r.MutationObserver(i=>{i.some(s=>Array.from(s.removedNodes).some(u=>u===this.state.mostRecentlyFocusedNode))&&this.tryFocus(this.getInitialFocusNode())})}),Gt(this,"updateObservedNodes",()=>{var r;(r=this._mutationObserver)==null||r.disconnect(),this.state.active&&!this.state.paused&&this.state.containers.map(i=>{var a;(a=this._mutationObserver)==null||a.observe(i,{subtree:!0,childList:!0})})}),Gt(this,"getInitialFocusNode",()=>{let r=this.getNodeForOption("initialFocus",{hasFallback:!0});if(r===!1)return!1;if(r===void 0||r&&!En(r))if(this.findContainerIndex(this.doc.activeElement)>=0)r=this.doc.activeElement;else{const i=this.state.tabbableGroups[0];r=i&&i.firstTabbableNode||this.getNodeForOption("fallbackFocus")}else r===null&&(r=this.getNodeForOption("fallbackFocus"));if(!r)throw new Error("Your focus-trap needs to have at least one focusable element");return r.isConnected||(r=this.getNodeForOption("fallbackFocus")),r}),Gt(this,"tryFocus",r=>{if(r!==!1&&r!==Jl(this.doc)){if(!r||!r.focus){this.tryFocus(this.getInitialFocusNode());return}r.focus({preventScroll:!!this.config.preventScroll}),this.state.mostRecentlyFocusedNode=r,Ug(r)&&r.select()}}),Gt(this,"deactivate",r=>{if(!this.state.active)return this;const i={onDeactivate:this.config.onDeactivate,onPostDeactivate:this.config.onPostDeactivate,checkCanReturnFocus:this.config.checkCanReturnFocus,...r};clearTimeout(this.state.delayInitialFocusTimer),this.state.delayInitialFocusTimer=void 0,this.removeListeners(),this.state.active=!1,this.state.paused=!1,this.updateObservedNodes(),il.deactivateTrap(this.trapStack,this);const a=this.getOption(i,"onDeactivate"),s=this.getOption(i,"onPostDeactivate"),o=this.getOption(i,"checkCanReturnFocus"),u=this.getOption(i,"returnFocus","returnFocusOnDeactivate");a==null||a();const f=()=>{al(()=>{if(u){const h=this.getReturnFocusNode(this.state.nodeFocusedBeforeActivation);this.tryFocus(h)}s==null||s()})};if(u&&o){const h=this.getReturnFocusNode(this.state.nodeFocusedBeforeActivation);return o(h).then(f,f),this}return f(),this}),Gt(this,"pause",r=>{if(this.state.paused||!this.state.active)return this;const i=this.getOption(r,"onPause"),a=this.getOption(r,"onPostPause");return this.state.paused=!0,i==null||i(),this.removeListeners(),this.updateObservedNodes(),a==null||a(),this}),Gt(this,"unpause",r=>{if(!this.state.paused||!this.state.active)return this;const i=this.getOption(r,"onUnpause"),a=this.getOption(r,"onPostUnpause");return this.state.paused=!1,i==null||i(),this.updateTabbableNodes(),this.addListeners(),this.updateObservedNodes(),a==null||a(),this}),Gt(this,"updateContainerElements",r=>(this.state.containers=Array.isArray(r)?r.filter(Boolean):[r].filter(Boolean),this.state.active&&this.updateTabbableNodes(),this.updateObservedNodes(),this)),Gt(this,"getReturnFocusNode",r=>{const i=this.getNodeForOption("setReturnFocus",{params:[r]});return i||(i===!1?!1:r)}),Gt(this,"getOption",(r,i,a)=>r&&r[i]!==void 0?r[i]:this.config[a||i]),Gt(this,"getNodeForOption",(r,{hasFallback:i=!1,params:a=[]}={})=>{let s=this.config[r];if(typeof s=="function"&&(s=s(...a)),s===!0&&(s=void 0),!s){if(s===void 0||s===!1)return s;throw new Error(`\`${r}\` was specified but was not a node, or did not return a node`)}let o=s;if(typeof s=="string"){try{o=this.doc.querySelector(s)}catch(u){throw new Error(`\`${r}\` appears to be an invalid selector; error="${u.message}"`)}if(!o&&!i)throw new Error(`\`${r}\` as selector refers to no known node`)}return o}),Gt(this,"findNextNavNode",r=>{const{event:i,isBackward:a=!1}=r,s=r.target||we(i);this.updateTabbableNodes();let o=null;if(this.state.tabbableGroups.length>0){const u=this.findContainerIndex(s,i),f=u>=0?this.state.containerGroups[u]:void 0;if(u<0)a?o=this.state.tabbableGroups[this.state.tabbableGroups.length-1].lastTabbableNode:o=this.state.tabbableGroups[0].firstTabbableNode;else if(a){let h=this.state.tabbableGroups.findIndex(({firstTabbableNode:m})=>s===m);if(h<0&&((f==null?void 0:f.container)===s||En(s)&&!_n(s)&&!(f!=null&&f.nextTabbableNode(s,!1)))&&(h=u),h>=0){const m=h===0?this.state.tabbableGroups.length-1:h-1,d=this.state.tabbableGroups[m];o=gr(s)>=0?d.lastTabbableNode:d.lastDomTabbableNode}else br(i)||(o=f==null?void 0:f.nextTabbableNode(s,!1))}else{let h=this.state.tabbableGroups.findIndex(({lastTabbableNode:m})=>s===m);if(h<0&&((f==null?void 0:f.container)===s||En(s)&&!_n(s)&&!(f!=null&&f.nextTabbableNode(s)))&&(h=u),h>=0){const m=h===this.state.tabbableGroups.length-1?0:h+1,d=this.state.tabbableGroups[m];o=gr(s)>=0?d.firstTabbableNode:d.firstDomTabbableNode}else br(i)||(o=f==null?void 0:f.nextTabbableNode(s))}}else o=this.getNodeForOption("fallbackFocus");return o}),this.trapStack=e.trapStack||Vg;const n={returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward(r){return br(r)&&!r.shiftKey},isKeyBackward(r){return br(r)&&r.shiftKey},...e};this.doc=n.document||Ce(Array.isArray(t)?t[0]:t),this.config=n,this.updateContainerElements(t),this.setupMutationObserver()}get active(){return this.state.active}get paused(){return this.state.paused}findContainerIndex(t,e){const n=typeof(e==null?void 0:e.composedPath)=="function"?e.composedPath():void 0;return this.state.containerGroups.findIndex(({container:r,tabbableNodes:i})=>r.contains(t)||(n==null?void 0:n.includes(r))||i.find(a=>a===t))}updateTabbableNodes(){if(this.state.containerGroups=this.state.containers.map(t=>{const e=Gr(t),n=ic(t),r=e.length>0?e[0]:void 0,i=e.length>0?e[e.length-1]:void 0,a=n.find(f=>_n(f)),s=n.slice().reverse().find(f=>_n(f)),o=!!e.find(f=>gr(f)>0);function u(f,h=!0){const m=e.indexOf(f);return m<0?h?n.slice(n.indexOf(f)+1).find(d=>_n(d)):n.slice(0,n.indexOf(f)).reverse().find(d=>_n(d)):e[m+(h?1:-1)]}return{container:t,tabbableNodes:e,focusableNodes:n,posTabIndexesFound:o,firstTabbableNode:r,lastTabbableNode:i,firstDomTabbableNode:a,lastDomTabbableNode:s,nextTabbableNode:u}}),this.state.tabbableGroups=this.state.containerGroups.filter(t=>t.tabbableNodes.length>0),this.state.tabbableGroups.length<=0&&!this.getNodeForOption("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(this.state.containerGroups.find(t=>t.posTabIndexesFound)&&this.state.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")}addListeners(){if(this.state.active)return il.activateTrap(this.trapStack,this),this.state.delayInitialFocusTimer=this.config.delayInitialFocus?al(()=>{this.tryFocus(this.getInitialFocusNode())}):this.tryFocus(this.getInitialFocusNode()),this.listenerCleanups.push(Kt(this.doc,"focusin",this.handleFocus,!0),Kt(this.doc,"mousedown",this.handlePointerDown,{capture:!0,passive:!1}),Kt(this.doc,"touchstart",this.handlePointerDown,{capture:!0,passive:!1}),Kt(this.doc,"click",this.handleClick,{capture:!0,passive:!1}),Kt(this.doc,"keydown",this.handleTabKey,{capture:!0,passive:!1}),Kt(this.doc,"keydown",this.handleEscapeKey)),this}removeListeners(){if(this.state.active)return this.listenerCleanups.forEach(t=>t()),this.listenerCleanups=[],this}activate(t){if(this.state.active)return this;const e=this.getOption(t,"onActivate"),n=this.getOption(t,"onPostActivate"),r=this.getOption(t,"checkCanFocusTrap");r||this.updateTabbableNodes(),this.state.active=!0,this.state.paused=!1,this.state.nodeFocusedBeforeActivation=this.doc.activeElement||null,e==null||e();const i=()=>{r&&this.updateTabbableNodes(),this.addListeners(),this.updateObservedNodes(),n==null||n()};return r?(r(this.state.containers.concat()).then(i,i),this):(i(),this)}},br=t=>t.key==="Tab",yr=(t,...e)=>typeof t=="function"?t(...e):t,Wg=t=>!t.isComposing&&t.key==="Escape",al=t=>setTimeout(t,0),Ug=t=>t.localName==="input"&&"select"in t&&typeof t.select=="function";function jg(t,e={}){let n;const r=Ee(()=>{const i=typeof t=="function"?t():t;if(i){n=new Hg(i,{escapeDeactivates:!1,allowOutsideClick:!0,preventScroll:!0,returnFocusOnDeactivate:!0,delayInitialFocus:!1,fallbackFocus:i,...e,document:Ce(i)});try{n.activate()}catch{}}});return function(){n==null||n.deactivate(),r()}}var Sa="data-scroll-lock";function $g(t){const e=t.getBoundingClientRect().left;return Math.round(e)+t.scrollLeft?"paddingLeft":"paddingRight"}function qg(t){const e=t??document,n=e.defaultView??window,{documentElement:r,body:i}=e;if(i.hasAttribute(Sa))return;const s=n.innerWidth-r.clientWidth;i.setAttribute(Sa,"");const o=()=>ch(r,"--scrollbar-width",`${s}px`),u=$g(r),f=()=>es(i,{overflow:"hidden",[u]:`${s}px`}),h=()=>{const{scrollX:d,scrollY:l,visualViewport:p}=n,c=(p==null?void 0:p.offsetLeft)??0,g=(p==null?void 0:p.offsetTop)??0,b=es(i,{position:"fixed",overflow:"hidden",top:`${-(l-Math.floor(g))}px`,left:`${-(d-Math.floor(c))}px`,right:"0",[u]:`${s}px`});return()=>{b==null||b(),n.scrollTo({left:d,top:l,behavior:"instant"})}},m=[o(),qi()?h():f()];return()=>{m.forEach(d=>d==null?void 0:d()),i.removeAttribute(Sa)}}var Gg=Hn("popover").parts("arrow","arrowTip","anchor","trigger","indicator","positioner","content","title","description","closeTrigger"),Me=Gg.build(),Wc=t=>{var e;return((e=t.ids)==null?void 0:e.anchor)??`popover:${t.id}:anchor`},Uc=t=>{var e;return((e=t.ids)==null?void 0:e.trigger)??`popover:${t.id}:trigger`},ps=t=>{var e;return((e=t.ids)==null?void 0:e.content)??`popover:${t.id}:content`},jc=t=>{var e;return((e=t.ids)==null?void 0:e.positioner)??`popover:${t.id}:popper`},Zg=t=>{var e;return((e=t.ids)==null?void 0:e.arrow)??`popover:${t.id}:arrow`},gs=t=>{var e;return((e=t.ids)==null?void 0:e.title)??`popover:${t.id}:title`},ms=t=>{var e;return((e=t.ids)==null?void 0:e.description)??`popover:${t.id}:desc`},Kg=t=>{var e;return((e=t.ids)==null?void 0:e.closeTrigger)??`popover:${t.id}:close`},sl=t=>t.getById(Wc(t)),Jn=t=>t.getById(Uc(t)),Qn=t=>t.getById(ps(t)),ol=t=>t.getById(jc(t)),Xg=t=>t.getById(gs(t)),Yg=t=>t.getById(ms(t));function Jg(t,e){const{state:n,context:r,send:i,computed:a,prop:s,scope:o}=t,u=n.matches("open"),f=r.get("currentPlacement"),h=a("currentPortalled"),m=r.get("renderedElements"),d=Og({...s("positioning"),placement:f});return{portalled:h,open:u,setOpen(l){n.matches("open")!==l&&i({type:l?"OPEN":"CLOSE"})},reposition(l={}){i({type:"POSITIONING.SET",options:l})},getArrowProps(){return e.element({id:Zg(o),...Me.arrow.attrs,dir:s("dir"),style:d.arrow})},getArrowTipProps(){return e.element({...Me.arrowTip.attrs,dir:s("dir"),style:d.arrowTip})},getAnchorProps(){return e.element({...Me.anchor.attrs,dir:s("dir"),id:Wc(o)})},getTriggerProps(){return e.button({...Me.trigger.attrs,dir:s("dir"),type:"button","data-placement":f,id:Uc(o),"aria-haspopup":"dialog","aria-expanded":u,"data-state":u?"open":"closed","aria-controls":ps(o),onPointerDown(l){Rs()&&l.currentTarget.focus()},onClick(l){l.defaultPrevented||i({type:"TOGGLE"})},onBlur(l){i({type:"TRIGGER_BLUR",target:l.relatedTarget})}})},getIndicatorProps(){return e.element({...Me.indicator.attrs,dir:s("dir"),"data-state":u?"open":"closed"})},getPositionerProps(){return e.element({id:jc(o),...Me.positioner.attrs,dir:s("dir"),style:d.floating})},getContentProps(){return e.element({...Me.content.attrs,dir:s("dir"),id:ps(o),tabIndex:-1,role:"dialog",hidden:!u,"data-state":u?"open":"closed","data-expanded":kt(u),"aria-labelledby":m.title?gs(o):void 0,"aria-describedby":m.description?ms(o):void 0,"data-placement":f})},getTitleProps(){return e.element({...Me.title.attrs,id:gs(o),dir:s("dir")})},getDescriptionProps(){return e.element({...Me.description.attrs,id:ms(o),dir:s("dir")})},getCloseTriggerProps(){return e.button({...Me.closeTrigger.attrs,dir:s("dir"),id:Kg(o),type:"button","aria-label":"close",onClick(l){l.defaultPrevented||(l.stopPropagation(),i({type:"CLOSE"}))}})}}}var Qg={props({props:t}){return{closeOnInteractOutside:!0,closeOnEscape:!0,autoFocus:!0,modal:!1,portalled:!0,...t,positioning:{placement:"bottom",...t.positioning}}},initialState({prop:t}){return t("open")||t("defaultOpen")?"open":"closed"},context({bindable:t}){return{currentPlacement:t(()=>({defaultValue:void 0})),renderedElements:t(()=>({defaultValue:{title:!0,description:!0}}))}},computed:{currentPortalled:({prop:t})=>!!t("modal")||!!t("portalled")},watch({track:t,prop:e,action:n}){t([()=>e("open")],()=>{n(["toggleVisibility"])})},entry:["checkRenderedElements"],states:{closed:{on:{"CONTROLLED.OPEN":{target:"open",actions:["setInitialFocus"]},TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus"]}],OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus"]}]}},open:{effects:["trapFocus","preventScroll","hideContentBelow","trackPositioning","trackDismissableElement","proxyTabFocus"],on:{"CONTROLLED.CLOSE":{target:"closed",actions:["setFinalFocus"]},CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose","setFinalFocus"]}],TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"POSITIONING.SET":{actions:["reposition"]}}}},implementations:{guards:{isOpenControlled:({prop:t})=>t("open")!=null},effects:{trackPositioning({context:t,prop:e,scope:n}){t.set("currentPlacement",e("positioning").placement);const r=sl(n)??Jn(n);return rl(r,()=>ol(n),{...e("positioning"),defer:!0,onComplete(a){t.set("currentPlacement",a.placement)}})},trackDismissableElement({send:t,prop:e,scope:n}){const r=()=>Qn(n);let i=!0;return kp(r,{pointerBlocking:e("modal"),exclude:Jn(n),defer:!0,onEscapeKeyDown(a){var s;(s=e("onEscapeKeyDown"))==null||s(a),!e("closeOnEscape")&&a.preventDefault()},onInteractOutside(a){var s;(s=e("onInteractOutside"))==null||s(a),!a.defaultPrevented&&(i=!(a.detail.focusable||a.detail.contextmenu),e("closeOnInteractOutside")||a.preventDefault())},onPointerDownOutside:e("onPointerDownOutside"),onFocusOutside:e("onFocusOutside"),persistentElements:e("persistentElements"),onDismiss(){t({type:"CLOSE",src:"interact-outside",restoreFocus:i})}})},proxyTabFocus({prop:t,scope:e}){return t("modal")||!t("portalled")?void 0:lh(()=>Qn(e),{triggerElement:Jn(e),defer:!0,onFocus(r){r.focus({preventScroll:!0})}})},hideContentBelow({prop:t,scope:e}){return t("modal")?zg(()=>[Qn(e),Jn(e)],{defer:!0}):void 0},preventScroll({prop:t,scope:e}){if(t("modal"))return qg(e.getDoc())},trapFocus({prop:t,scope:e}){return t("modal")?jg(()=>Qn(e),{initialFocus:()=>To({root:Qn(e),getInitialEl:t("initialFocusEl"),enabled:t("autoFocus")})}):void 0}},actions:{reposition({event:t,prop:e,scope:n,context:r}){const i=sl(n)??Jn(n);rl(i,()=>ol(n),{...e("positioning"),...t.options,defer:!0,listeners:!1,onComplete(s){r.set("currentPlacement",s.placement)}})},checkRenderedElements({context:t,scope:e}){Ee(()=>{Object.assign(t.get("renderedElements"),{title:!!Xg(e),description:!!Yg(e)})})},setInitialFocus({prop:t,scope:e}){t("modal")||Ee(()=>{const n=To({root:Qn(e),getInitialEl:t("initialFocusEl"),enabled:t("autoFocus")});n==null||n.focus({preventScroll:!0})})},setFinalFocus({event:t,scope:e}){var r;const n=t.restoreFocus??((r=t.previousEvent)==null?void 0:r.restoreFocus);n!=null&&!n||Ee(()=>{const i=Jn(e);i==null||i.focus({preventScroll:!0})})},invokeOnOpen({prop:t}){var e;(e=t("onOpenChange"))==null||e({open:!0})},invokeOnClose({prop:t}){var e;(e=t("onOpenChange"))==null||e({open:!1})},toggleVisibility({event:t,send:e,prop:n}){e({type:n("open")?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:t})}}}};dr()(["autoFocus","closeOnEscape","closeOnInteractOutside","dir","getRootNode","id","ids","initialFocusEl","modal","onEscapeKeyDown","onFocusOutside","onInteractOutside","onOpenChange","onPointerDownOutside","defaultOpen","open","persistentElements","portalled","positioning"]);var tm=ft("<button><!></button>"),em=ft("<div><div></div></div>"),nm=ft("<div><!> <div><!></div></div>"),rm=ft('<span data-testid="popover"><!> <div><!></div></span>');function ra(t,e){const n=Ni();yt(e,!0);const r=U(e,"arrow",3,!1),i=U(e,"zIndex",3,"auto"),a=U(e,"base",3,""),s=U(e,"classes",3,""),o=U(e,"triggerBase",3,""),u=U(e,"triggerBackground",3,""),f=U(e,"triggerClasses",3,""),h=U(e,"triggerAriaLabel",3,""),m=U(e,"positionerBase",3,""),d=U(e,"positionerClasses",3,""),l=U(e,"contentBase",3,""),p=U(e,"contentBackground",3,""),c=U(e,"contentClasses",3,""),g=U(e,"arrowBase",3,""),b=U(e,"arrowBackground",3,"!bg-surface-200 dark:!bg-surface-800"),_=U(e,"arrowClasses",3,""),x=Nt(e,["$$slots","$$events","$$legacy","arrow","zIndex","base","classes","triggerBase","triggerBackground","triggerClasses","triggerAriaLabel","positionerBase","positionerClasses","contentBase","contentBackground","contentClasses","arrowBase","arrowBackground","arrowClasses","trigger","content","onclick"]),C=Xi(Qg,()=>({id:n,...x})),k=ct(()=>Jg(C,Ki)),A=ct(()=>Zh(w(k).getTriggerProps(),{onclick:e.onclick}));var I=rm(),P=Z(I);{var O=R=>{var v=tm();$t(v,()=>({...w(A),class:`${o()??""} ${u()??""} ${f()??""}`,type:"button","aria-label":h()}));var D=Z(v);At(D,()=>e.trigger),$(v),J(R,v)};Dt(P,R=>{e.trigger&&R(O)})}var B=X(P,2);$t(B,R=>({...R,class:`${m()??""} ${d()??""}`}),[()=>w(k).getPositionerProps()]);var z=Z(B);{var E=R=>{var v=nm();$t(v,j=>({...j,style:`z-index: ${i()??""};`}),[()=>w(k).getContentProps()]);var D=Z(v);{var W=j=>{var et=em();$t(et,M=>({...M}),[()=>w(k).getArrowProps()]);var N=Z(et);$t(N,M=>({...M,class:`${g()??""} ${b()??""} ${_()??""}`}),[()=>w(k).getArrowTipProps()]),$(et),J(j,et)};Dt(D,j=>{r()&&j(W)})}var V=X(D,2),K=Z(V);At(K,()=>e.content??Rt),$(V),$(v),Ot(()=>ne(V,1,`${l()??""} ${p()??""} ${c()??""}`)),Qu(3,v,()=>Qh,()=>({duration:100})),J(R,v)};Dt(z,R=>{w(k).open&&R(E)})}$(B),Zu(B,(R,v)=>wa==null?void 0:wa(R,v),()=>({disabled:!w(k).portalled})),$(I),Ot(()=>ne(I,1,`${a()??""} ${s()??""}`)),J(t,I),_t()}function kn(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Ta={exports:{}},ll;function im(){return ll||(ll=1,function(t,e){(function(n){t.exports=n()})(function(){return function n(r,i,a){function s(f,h){if(!i[f]){if(!r[f]){var m=typeof kn=="function"&&kn;if(!h&&m)return m(f,!0);if(o)return o(f,!0);var d=new Error("Cannot find module '"+f+"'");throw d.code="MODULE_NOT_FOUND",d}var l=i[f]={exports:{}};r[f][0].call(l.exports,function(p){var c=r[f][1][p];return s(c||p)},l,l.exports,n,r,i,a)}return i[f].exports}for(var o=typeof kn=="function"&&kn,u=0;u<a.length;u++)s(a[u]);return s}({1:[function(n,r,i){function a(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}r.exports=a,a.EventEmitter=a,a.prototype._events=void 0,a.prototype._maxListeners=void 0,a.defaultMaxListeners=10,a.prototype.setMaxListeners=function(h){if(!o(h)||h<0||isNaN(h))throw TypeError("n must be a positive number");return this._maxListeners=h,this},a.prototype.emit=function(h){var m,d,l,p,c,g;if(this._events||(this._events={}),h==="error"&&(!this._events.error||u(this._events.error)&&!this._events.error.length)){if(m=arguments[1],m instanceof Error)throw m;var b=new Error('Uncaught, unspecified "error" event. ('+m+")");throw b.context=m,b}if(d=this._events[h],f(d))return!1;if(s(d))switch(arguments.length){case 1:d.call(this);break;case 2:d.call(this,arguments[1]);break;case 3:d.call(this,arguments[1],arguments[2]);break;default:p=Array.prototype.slice.call(arguments,1),d.apply(this,p)}else if(u(d))for(p=Array.prototype.slice.call(arguments,1),g=d.slice(),l=g.length,c=0;c<l;c++)g[c].apply(this,p);return!0},a.prototype.addListener=function(h,m){var d;if(!s(m))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",h,s(m.listener)?m.listener:m),this._events[h]?u(this._events[h])?this._events[h].push(m):this._events[h]=[this._events[h],m]:this._events[h]=m,u(this._events[h])&&!this._events[h].warned&&(f(this._maxListeners)?d=a.defaultMaxListeners:d=this._maxListeners,d&&d>0&&this._events[h].length>d&&(this._events[h].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[h].length),typeof console.trace=="function"&&console.trace())),this},a.prototype.on=a.prototype.addListener,a.prototype.once=function(h,m){if(!s(m))throw TypeError("listener must be a function");var d=!1;function l(){this.removeListener(h,l),d||(d=!0,m.apply(this,arguments))}return l.listener=m,this.on(h,l),this},a.prototype.removeListener=function(h,m){var d,l,p,c;if(!s(m))throw TypeError("listener must be a function");if(!this._events||!this._events[h])return this;if(d=this._events[h],p=d.length,l=-1,d===m||s(d.listener)&&d.listener===m)delete this._events[h],this._events.removeListener&&this.emit("removeListener",h,m);else if(u(d)){for(c=p;c-- >0;)if(d[c]===m||d[c].listener&&d[c].listener===m){l=c;break}if(l<0)return this;d.length===1?(d.length=0,delete this._events[h]):d.splice(l,1),this._events.removeListener&&this.emit("removeListener",h,m)}return this},a.prototype.removeAllListeners=function(h){var m,d;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[h]&&delete this._events[h],this;if(arguments.length===0){for(m in this._events)m!=="removeListener"&&this.removeAllListeners(m);return this.removeAllListeners("removeListener"),this._events={},this}if(d=this._events[h],s(d))this.removeListener(h,d);else if(d)for(;d.length;)this.removeListener(h,d[d.length-1]);return delete this._events[h],this},a.prototype.listeners=function(h){var m;return!this._events||!this._events[h]?m=[]:s(this._events[h])?m=[this._events[h]]:m=this._events[h].slice(),m},a.prototype.listenerCount=function(h){if(this._events){var m=this._events[h];if(s(m))return 1;if(m)return m.length}return 0},a.listenerCount=function(h,m){return h.listenerCount(m)};function s(h){return typeof h=="function"}function o(h){return typeof h=="number"}function u(h){return typeof h=="object"&&h!==null}function f(h){return h===void 0}},{}],2:[function(n,r,i){var a,s,o,u,f;f=navigator.userAgent.toLowerCase(),u=navigator.platform.toLowerCase(),a=f.match(/(opera|ie|firefox|chrome|version)[\s\/:]([\w\d\.]+)?.*?(safari|version[\s\/:]([\w\d\.]+)|$)/)||[null,"unknown",0],o=a[1]==="ie"&&document.documentMode,s={name:a[1]==="version"?a[3]:a[1],version:o||parseFloat(a[1]==="opera"&&a[4]?a[4]:a[2]),platform:{name:f.match(/ip(?:ad|od|hone)/)?"ios":(f.match(/(?:webos|android)/)||u.match(/mac|win|linux/)||["other"])[0]}},s[s.name]=!0,s[s.name+parseInt(s.version,10)]=!0,s.platform[s.platform.name]=!0,r.exports=s},{}],3:[function(n,r,i){var a,s,o,u=function(d,l){for(var p in l)f.call(l,p)&&(d[p]=l[p]);function c(){this.constructor=d}return c.prototype=l.prototype,d.prototype=new c,d.__super__=l.prototype,d},f={}.hasOwnProperty,h=[].indexOf||function(d){for(var l=0,p=this.length;l<p;l++)if(l in this&&this[l]===d)return l;return-1},m=[].slice;a=n("events").EventEmitter,o=n("./browser.coffee"),s=function(d){var l,p;u(c,d),l={workerScript:"gif.worker.js",workers:2,repeat:0,background:"#fff",quality:10,width:null,height:null,transparent:null,debug:!1,dither:!1},p={delay:500,copy:!1};function c(g){var b,_,x;this.running=!1,this.options={},this.frames=[],this.freeWorkers=[],this.activeWorkers=[],this.setOptions(g);for(_ in l)x=l[_],(b=this.options)[_]==null&&(b[_]=x)}return c.prototype.setOption=function(g,b){if(this.options[g]=b,this._canvas!=null&&(g==="width"||g==="height"))return this._canvas[g]=b},c.prototype.setOptions=function(g){var b,_,x;_=[];for(b in g)f.call(g,b)&&(x=g[b],_.push(this.setOption(b,x)));return _},c.prototype.addFrame=function(g,b){var _,x;b==null&&(b={}),_={},_.transparent=this.options.transparent;for(x in p)_[x]=b[x]||p[x];if(this.options.width==null&&this.setOption("width",g.width),this.options.height==null&&this.setOption("height",g.height),typeof ImageData<"u"&&ImageData!==null&&g instanceof ImageData)_.data=g.data;else if(typeof CanvasRenderingContext2D<"u"&&CanvasRenderingContext2D!==null&&g instanceof CanvasRenderingContext2D||typeof WebGLRenderingContext<"u"&&WebGLRenderingContext!==null&&g instanceof WebGLRenderingContext)b.copy?_.data=this.getContextData(g):_.context=g;else if(g.childNodes!=null)b.copy?_.data=this.getImageData(g):_.image=g;else throw new Error("Invalid image");return this.frames.push(_)},c.prototype.render=function(){var g,b,_;if(this.running)throw new Error("Already running");if(this.options.width==null||this.options.height==null)throw new Error("Width and height must be set prior to rendering");if(this.running=!0,this.nextFrame=0,this.finishedFrames=0,this.imageParts=(function(){var x,C,k;for(k=[],x=0,C=this.frames.length;0<=C?x<C:x>C;0<=C?++x:--x)k.push(null);return k}).call(this),b=this.spawnWorkers(),this.options.globalPalette===!0)this.renderNextFrame();else for(g=0,_=b;0<=_?g<_:g>_;0<=_?++g:--g)this.renderNextFrame();return this.emit("start"),this.emit("progress",0)},c.prototype.abort=function(){for(var g;g=this.activeWorkers.shift(),g!=null;)this.log("killing active worker"),g.terminate();return this.running=!1,this.emit("abort")},c.prototype.spawnWorkers=function(){var g,b,_;return g=Math.min(this.options.workers,this.frames.length),(function(){_=[];for(var x=b=this.freeWorkers.length;b<=g?x<g:x>g;b<=g?x++:x--)_.push(x);return _}).apply(this).forEach(function(x){return function(C){var k;return x.log("spawning worker "+C),k=new Worker(x.options.workerScript),k.onmessage=function(A){return x.activeWorkers.splice(x.activeWorkers.indexOf(k),1),x.freeWorkers.push(k),x.frameFinished(A.data)},x.freeWorkers.push(k)}}(this)),g},c.prototype.frameFinished=function(g){var b,_;if(this.log("frame "+g.index+" finished - "+this.activeWorkers.length+" active"),this.finishedFrames++,this.emit("progress",this.finishedFrames/this.frames.length),this.imageParts[g.index]=g,this.options.globalPalette===!0&&(this.options.globalPalette=g.globalPalette,this.log("global palette analyzed"),this.frames.length>2))for(b=1,_=this.freeWorkers.length;1<=_?b<_:b>_;1<=_?++b:--b)this.renderNextFrame();return h.call(this.imageParts,null)>=0?this.renderNextFrame():this.finishRendering()},c.prototype.finishRendering=function(){var g,b,_,x,C,k,A,I,P,O,B,z,E,R,v,D;for(I=0,R=this.imageParts,C=0,P=R.length;C<P;C++)b=R[C],I+=(b.data.length-1)*b.pageSize+b.cursor;for(I+=b.pageSize-b.cursor,this.log("rendering finished - filesize "+Math.round(I/1e3)+"kb"),g=new Uint8Array(I),z=0,v=this.imageParts,k=0,O=v.length;k<O;k++)for(b=v[k],D=b.data,_=A=0,B=D.length;A<B;_=++A)E=D[_],g.set(E,z),_===b.data.length-1?z+=b.cursor:z+=b.pageSize;return x=new Blob([g],{type:"image/gif"}),this.emit("finished",x,g)},c.prototype.renderNextFrame=function(){var g,b,_;if(this.freeWorkers.length===0)throw new Error("No free workers");if(!(this.nextFrame>=this.frames.length))return g=this.frames[this.nextFrame++],_=this.freeWorkers.shift(),b=this.getTask(g),this.log("starting frame "+(b.index+1)+" of "+this.frames.length),this.activeWorkers.push(_),_.postMessage(b)},c.prototype.getContextData=function(g){return g.getImageData(0,0,this.options.width,this.options.height).data},c.prototype.getImageData=function(g){var b;return this._canvas==null&&(this._canvas=document.createElement("canvas"),this._canvas.width=this.options.width,this._canvas.height=this.options.height),b=this._canvas.getContext("2d"),b.setFill=this.options.background,b.fillRect(0,0,this.options.width,this.options.height),b.drawImage(g,0,0),this.getContextData(b)},c.prototype.getTask=function(g){var b,_;if(b=this.frames.indexOf(g),_={index:b,last:b===this.frames.length-1,delay:g.delay,transparent:g.transparent,width:this.options.width,height:this.options.height,quality:this.options.quality,dither:this.options.dither,globalPalette:this.options.globalPalette,repeat:this.options.repeat,canTransfer:o.name==="chrome"},g.data!=null)_.data=g.data;else if(g.context!=null)_.data=this.getContextData(g.context);else if(g.image!=null)_.data=this.getImageData(g.image);else throw new Error("Invalid frame");return _},c.prototype.log=function(){var g;if(g=1<=arguments.length?m.call(arguments,0):[],!!this.options.debug)return console.log.apply(console,g)},c}(a),r.exports=s},{"./browser.coffee":2,events:1}]},{},[3])(3)})}(Ta)),Ta.exports}var am=im();const sm=ur(am);var Ia={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var cl;function om(){return cl||(cl=1,function(t,e){(function(n){t.exports=n()})(function(){return function n(r,i,a){function s(f,h){if(!i[f]){if(!r[f]){var m=typeof kn=="function"&&kn;if(!h&&m)return m(f,!0);if(o)return o(f,!0);var d=new Error("Cannot find module '"+f+"'");throw d.code="MODULE_NOT_FOUND",d}var l=i[f]={exports:{}};r[f][0].call(l.exports,function(p){var c=r[f][1][p];return s(c||p)},l,l.exports,n,r,i,a)}return i[f].exports}for(var o=typeof kn=="function"&&kn,u=0;u<a.length;u++)s(a[u]);return s}({1:[function(n,r,i){var a=n("./utils"),s=n("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(u){for(var f,h,m,d,l,p,c,g=[],b=0,_=u.length,x=_,C=a.getTypeOf(u)!=="string";b<u.length;)x=_-b,m=C?(f=u[b++],h=b<_?u[b++]:0,b<_?u[b++]:0):(f=u.charCodeAt(b++),h=b<_?u.charCodeAt(b++):0,b<_?u.charCodeAt(b++):0),d=f>>2,l=(3&f)<<4|h>>4,p=1<x?(15&h)<<2|m>>6:64,c=2<x?63&m:64,g.push(o.charAt(d)+o.charAt(l)+o.charAt(p)+o.charAt(c));return g.join("")},i.decode=function(u){var f,h,m,d,l,p,c=0,g=0,b="data:";if(u.substr(0,b.length)===b)throw new Error("Invalid base64 input, it looks like a data url.");var _,x=3*(u=u.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(u.charAt(u.length-1)===o.charAt(64)&&x--,u.charAt(u.length-2)===o.charAt(64)&&x--,x%1!=0)throw new Error("Invalid base64 input, bad content length.");for(_=s.uint8array?new Uint8Array(0|x):new Array(0|x);c<u.length;)f=o.indexOf(u.charAt(c++))<<2|(d=o.indexOf(u.charAt(c++)))>>4,h=(15&d)<<4|(l=o.indexOf(u.charAt(c++)))>>2,m=(3&l)<<6|(p=o.indexOf(u.charAt(c++))),_[g++]=f,l!==64&&(_[g++]=h),p!==64&&(_[g++]=m);return _}},{"./support":30,"./utils":32}],2:[function(n,r,i){var a=n("./external"),s=n("./stream/DataWorker"),o=n("./stream/Crc32Probe"),u=n("./stream/DataLengthProbe");function f(h,m,d,l,p){this.compressedSize=h,this.uncompressedSize=m,this.crc32=d,this.compression=l,this.compressedContent=p}f.prototype={getContentWorker:function(){var h=new s(a.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new u("data_length")),m=this;return h.on("end",function(){if(this.streamInfo.data_length!==m.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),h},getCompressedWorker:function(){return new s(a.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},f.createWorkerFrom=function(h,m,d){return h.pipe(new o).pipe(new u("uncompressedSize")).pipe(m.compressWorker(d)).pipe(new u("compressedSize")).withStreamInfo("compression",m)},r.exports=f},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var a=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new a("STORE compression")},uncompressWorker:function(){return new a("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var a=n("./utils"),s=function(){for(var o,u=[],f=0;f<256;f++){o=f;for(var h=0;h<8;h++)o=1&o?3988292384^o>>>1:o>>>1;u[f]=o}return u}();r.exports=function(o,u){return o!==void 0&&o.length?a.getTypeOf(o)!=="string"?function(f,h,m,d){var l=s,p=d+m;f^=-1;for(var c=d;c<p;c++)f=f>>>8^l[255&(f^h[c])];return-1^f}(0|u,o,o.length,0):function(f,h,m,d){var l=s,p=d+m;f^=-1;for(var c=d;c<p;c++)f=f>>>8^l[255&(f^h.charCodeAt(c))];return-1^f}(0|u,o,o.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var a=null;a=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:a}},{lie:37}],7:[function(n,r,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",s=n("pako"),o=n("./utils"),u=n("./stream/GenericWorker"),f=a?"uint8array":"array";function h(m,d){u.call(this,"FlateWorker/"+m),this._pako=null,this._pakoAction=m,this._pakoOptions=d,this.meta={}}i.magic="\b\0",o.inherits(h,u),h.prototype.processChunk=function(m){this.meta=m.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(f,m.data),!1)},h.prototype.flush=function(){u.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},h.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this._pako=null},h.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var m=this;this._pako.onData=function(d){m.push({data:d,meta:m.meta})}},i.compressWorker=function(m){return new h("Deflate",m)},i.uncompressWorker=function(){return new h("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function a(l,p){var c,g="";for(c=0;c<p;c++)g+=String.fromCharCode(255&l),l>>>=8;return g}function s(l,p,c,g,b,_){var x,C,k=l.file,A=l.compression,I=_!==f.utf8encode,P=o.transformTo("string",_(k.name)),O=o.transformTo("string",f.utf8encode(k.name)),B=k.comment,z=o.transformTo("string",_(B)),E=o.transformTo("string",f.utf8encode(B)),R=O.length!==k.name.length,v=E.length!==B.length,D="",W="",V="",K=k.dir,j=k.date,et={crc32:0,compressedSize:0,uncompressedSize:0};p&&!c||(et.crc32=l.crc32,et.compressedSize=l.compressedSize,et.uncompressedSize=l.uncompressedSize);var N=0;p&&(N|=8),I||!R&&!v||(N|=2048);var M=0,ot=0;K&&(M|=16),b==="UNIX"?(ot=798,M|=function(Q,wt){var St=Q;return Q||(St=wt?16893:33204),(65535&St)<<16}(k.unixPermissions,K)):(ot=20,M|=function(Q){return 63&(Q||0)}(k.dosPermissions)),x=j.getUTCHours(),x<<=6,x|=j.getUTCMinutes(),x<<=5,x|=j.getUTCSeconds()/2,C=j.getUTCFullYear()-1980,C<<=4,C|=j.getUTCMonth()+1,C<<=5,C|=j.getUTCDate(),R&&(W=a(1,1)+a(h(P),4)+O,D+="up"+a(W.length,2)+W),v&&(V=a(1,1)+a(h(z),4)+E,D+="uc"+a(V.length,2)+V);var rt="";return rt+=`
\0`,rt+=a(N,2),rt+=A.magic,rt+=a(x,2),rt+=a(C,2),rt+=a(et.crc32,4),rt+=a(et.compressedSize,4),rt+=a(et.uncompressedSize,4),rt+=a(P.length,2),rt+=a(D.length,2),{fileRecord:m.LOCAL_FILE_HEADER+rt+P+D,dirRecord:m.CENTRAL_FILE_HEADER+a(ot,2)+rt+a(z.length,2)+"\0\0\0\0"+a(M,4)+a(g,4)+P+D+z}}var o=n("../utils"),u=n("../stream/GenericWorker"),f=n("../utf8"),h=n("../crc32"),m=n("../signature");function d(l,p,c,g){u.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=p,this.zipPlatform=c,this.encodeFileName=g,this.streamFiles=l,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(d,u),d.prototype.push=function(l){var p=l.meta.percent||0,c=this.entriesCount,g=this._sources.length;this.accumulate?this.contentBuffer.push(l):(this.bytesWritten+=l.data.length,u.prototype.push.call(this,{data:l.data,meta:{currentFile:this.currentFile,percent:c?(p+100*(c-g-1))/c:100}}))},d.prototype.openedSource=function(l){this.currentSourceOffset=this.bytesWritten,this.currentFile=l.file.name;var p=this.streamFiles&&!l.file.dir;if(p){var c=s(l,p,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:c.fileRecord,meta:{percent:0}})}else this.accumulate=!0},d.prototype.closedSource=function(l){this.accumulate=!1;var p=this.streamFiles&&!l.file.dir,c=s(l,p,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(c.dirRecord),p)this.push({data:function(g){return m.DATA_DESCRIPTOR+a(g.crc32,4)+a(g.compressedSize,4)+a(g.uncompressedSize,4)}(l),meta:{percent:100}});else for(this.push({data:c.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},d.prototype.flush=function(){for(var l=this.bytesWritten,p=0;p<this.dirRecords.length;p++)this.push({data:this.dirRecords[p],meta:{percent:100}});var c=this.bytesWritten-l,g=function(b,_,x,C,k){var A=o.transformTo("string",k(C));return m.CENTRAL_DIRECTORY_END+"\0\0\0\0"+a(b,2)+a(b,2)+a(_,4)+a(x,4)+a(A.length,2)+A}(this.dirRecords.length,c,l,this.zipComment,this.encodeFileName);this.push({data:g,meta:{percent:100}})},d.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},d.prototype.registerPrevious=function(l){this._sources.push(l);var p=this;return l.on("data",function(c){p.processChunk(c)}),l.on("end",function(){p.closedSource(p.previous.streamInfo),p._sources.length?p.prepareNextSource():p.end()}),l.on("error",function(c){p.error(c)}),this},d.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},d.prototype.error=function(l){var p=this._sources;if(!u.prototype.error.call(this,l))return!1;for(var c=0;c<p.length;c++)try{p[c].error(l)}catch{}return!0},d.prototype.lock=function(){u.prototype.lock.call(this);for(var l=this._sources,p=0;p<l.length;p++)l[p].lock()},r.exports=d},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var a=n("../compressions"),s=n("./ZipFileWorker");i.generateWorker=function(o,u,f){var h=new s(u.streamFiles,f,u.platform,u.encodeFileName),m=0;try{o.forEach(function(d,l){m++;var p=function(_,x){var C=_||x,k=a[C];if(!k)throw new Error(C+" is not a valid compression method !");return k}(l.options.compression,u.compression),c=l.options.compressionOptions||u.compressionOptions||{},g=l.dir,b=l.date;l._compressWorker(p,c).withStreamInfo("file",{name:d,dir:g,date:b,comment:l.comment||"",unixPermissions:l.unixPermissions,dosPermissions:l.dosPermissions}).pipe(h)}),h.entriesCount=m}catch(d){h.error(d)}return h}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function a(){if(!(this instanceof a))return new a;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new a;for(var o in this)typeof this[o]!="function"&&(s[o]=this[o]);return s}}(a.prototype=n("./object")).loadAsync=n("./load"),a.support=n("./support"),a.defaults=n("./defaults"),a.version="3.10.1",a.loadAsync=function(s,o){return new a().loadAsync(s,o)},a.external=n("./external"),r.exports=a},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var a=n("./utils"),s=n("./external"),o=n("./utf8"),u=n("./zipEntries"),f=n("./stream/Crc32Probe"),h=n("./nodejsUtils");function m(d){return new s.Promise(function(l,p){var c=d.decompressed.getContentWorker().pipe(new f);c.on("error",function(g){p(g)}).on("end",function(){c.streamInfo.crc32!==d.decompressed.crc32?p(new Error("Corrupted zip : CRC32 mismatch")):l()}).resume()})}r.exports=function(d,l){var p=this;return l=a.extend(l||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),h.isNode&&h.isStream(d)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):a.prepareContent("the loaded zip file",d,!0,l.optimizedBinaryString,l.base64).then(function(c){var g=new u(l);return g.load(c),g}).then(function(c){var g=[s.Promise.resolve(c)],b=c.files;if(l.checkCRC32)for(var _=0;_<b.length;_++)g.push(m(b[_]));return s.Promise.all(g)}).then(function(c){for(var g=c.shift(),b=g.files,_=0;_<b.length;_++){var x=b[_],C=x.fileNameStr,k=a.resolve(x.fileNameStr);p.file(k,x.decompressed,{binary:!0,optimizedBinaryString:!0,date:x.date,dir:x.dir,comment:x.fileCommentStr.length?x.fileCommentStr:null,unixPermissions:x.unixPermissions,dosPermissions:x.dosPermissions,createFolders:l.createFolders}),x.dir||(p.file(k).unsafeOriginalName=C)}return g.zipComment.length&&(p.comment=g.zipComment),p})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var a=n("../utils"),s=n("../stream/GenericWorker");function o(u,f){s.call(this,"Nodejs stream input adapter for "+u),this._upstreamEnded=!1,this._bindStream(f)}a.inherits(o,s),o.prototype._bindStream=function(u){var f=this;(this._stream=u).pause(),u.on("data",function(h){f.push({data:h,meta:{percent:0}})}).on("error",function(h){f.isPaused?this.generatedError=h:f.error(h)}).on("end",function(){f.isPaused?f._upstreamEnded=!0:f.end()})},o.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var a=n("readable-stream").Readable;function s(o,u,f){a.call(this,u),this._helper=o;var h=this;o.on("data",function(m,d){h.push(m)||h._helper.pause(),f&&f(d)}).on("error",function(m){h.emit("error",m)}).on("end",function(){h.push(null)})}n("../utils").inherits(s,a),s.prototype._read=function(){this._helper.resume()},r.exports=s},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(a,s){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(a,s);if(typeof a=="number")throw new Error('The "data" argument must not be a number');return new Buffer(a,s)},allocBuffer:function(a){if(Buffer.alloc)return Buffer.alloc(a);var s=new Buffer(a);return s.fill(0),s},isBuffer:function(a){return Buffer.isBuffer(a)},isStream:function(a){return a&&typeof a.on=="function"&&typeof a.pause=="function"&&typeof a.resume=="function"}}},{}],15:[function(n,r,i){function a(k,A,I){var P,O=o.getTypeOf(A),B=o.extend(I||{},h);B.date=B.date||new Date,B.compression!==null&&(B.compression=B.compression.toUpperCase()),typeof B.unixPermissions=="string"&&(B.unixPermissions=parseInt(B.unixPermissions,8)),B.unixPermissions&&16384&B.unixPermissions&&(B.dir=!0),B.dosPermissions&&16&B.dosPermissions&&(B.dir=!0),B.dir&&(k=b(k)),B.createFolders&&(P=g(k))&&_.call(this,P,!0);var z=O==="string"&&B.binary===!1&&B.base64===!1;I&&I.binary!==void 0||(B.binary=!z),(A instanceof m&&A.uncompressedSize===0||B.dir||!A||A.length===0)&&(B.base64=!1,B.binary=!0,A="",B.compression="STORE",O="string");var E=null;E=A instanceof m||A instanceof u?A:p.isNode&&p.isStream(A)?new c(k,A):o.prepareContent(k,A,B.binary,B.optimizedBinaryString,B.base64);var R=new d(k,E,B);this.files[k]=R}var s=n("./utf8"),o=n("./utils"),u=n("./stream/GenericWorker"),f=n("./stream/StreamHelper"),h=n("./defaults"),m=n("./compressedObject"),d=n("./zipObject"),l=n("./generate"),p=n("./nodejsUtils"),c=n("./nodejs/NodejsStreamInputAdapter"),g=function(k){k.slice(-1)==="/"&&(k=k.substring(0,k.length-1));var A=k.lastIndexOf("/");return 0<A?k.substring(0,A):""},b=function(k){return k.slice(-1)!=="/"&&(k+="/"),k},_=function(k,A){return A=A!==void 0?A:h.createFolders,k=b(k),this.files[k]||a.call(this,k,null,{dir:!0,createFolders:A}),this.files[k]};function x(k){return Object.prototype.toString.call(k)==="[object RegExp]"}var C={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(k){var A,I,P;for(A in this.files)P=this.files[A],(I=A.slice(this.root.length,A.length))&&A.slice(0,this.root.length)===this.root&&k(I,P)},filter:function(k){var A=[];return this.forEach(function(I,P){k(I,P)&&A.push(P)}),A},file:function(k,A,I){if(arguments.length!==1)return k=this.root+k,a.call(this,k,A,I),this;if(x(k)){var P=k;return this.filter(function(B,z){return!z.dir&&P.test(B)})}var O=this.files[this.root+k];return O&&!O.dir?O:null},folder:function(k){if(!k)return this;if(x(k))return this.filter(function(O,B){return B.dir&&k.test(O)});var A=this.root+k,I=_.call(this,A),P=this.clone();return P.root=I.name,P},remove:function(k){k=this.root+k;var A=this.files[k];if(A||(k.slice(-1)!=="/"&&(k+="/"),A=this.files[k]),A&&!A.dir)delete this.files[k];else for(var I=this.filter(function(O,B){return B.name.slice(0,k.length)===k}),P=0;P<I.length;P++)delete this.files[I[P].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(k){var A,I={};try{if((I=o.extend(k||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=I.type.toLowerCase(),I.compression=I.compression.toUpperCase(),I.type==="binarystring"&&(I.type="string"),!I.type)throw new Error("No output type specified.");o.checkSupport(I.type),I.platform!=="darwin"&&I.platform!=="freebsd"&&I.platform!=="linux"&&I.platform!=="sunos"||(I.platform="UNIX"),I.platform==="win32"&&(I.platform="DOS");var P=I.comment||this.comment||"";A=l.generateWorker(this,I,P)}catch(O){(A=new u("error")).error(O)}return new f(A,I.type||"string",I.mimeType)},generateAsync:function(k,A){return this.generateInternalStream(k).accumulate(A)},generateNodeStream:function(k,A){return(k=k||{}).type||(k.type="nodebuffer"),this.generateInternalStream(k).toNodejsStream(A)}};r.exports=C},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var a=n("./DataReader");function s(o){a.call(this,o);for(var u=0;u<this.data.length;u++)o[u]=255&o[u]}n("../utils").inherits(s,a),s.prototype.byteAt=function(o){return this.data[this.zero+o]},s.prototype.lastIndexOfSignature=function(o){for(var u=o.charCodeAt(0),f=o.charCodeAt(1),h=o.charCodeAt(2),m=o.charCodeAt(3),d=this.length-4;0<=d;--d)if(this.data[d]===u&&this.data[d+1]===f&&this.data[d+2]===h&&this.data[d+3]===m)return d-this.zero;return-1},s.prototype.readAndCheckSignature=function(o){var u=o.charCodeAt(0),f=o.charCodeAt(1),h=o.charCodeAt(2),m=o.charCodeAt(3),d=this.readData(4);return u===d[0]&&f===d[1]&&h===d[2]&&m===d[3]},s.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var u=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,u},r.exports=s},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var a=n("../utils");function s(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var u,f=0;for(this.checkOffset(o),u=this.index+o-1;u>=this.index;u--)f=(f<<8)+this.byteAt(u);return this.index+=o,f},readString:function(o){return a.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},r.exports=s},{"../utils":32}],19:[function(n,r,i){var a=n("./Uint8ArrayReader");function s(o){a.call(this,o)}n("../utils").inherits(s,a),s.prototype.readData=function(o){this.checkOffset(o);var u=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,u},r.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var a=n("./DataReader");function s(o){a.call(this,o)}n("../utils").inherits(s,a),s.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},s.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},s.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},s.prototype.readData=function(o){this.checkOffset(o);var u=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,u},r.exports=s},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var a=n("./ArrayReader");function s(o){a.call(this,o)}n("../utils").inherits(s,a),s.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var u=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,u},r.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var a=n("../utils"),s=n("../support"),o=n("./ArrayReader"),u=n("./StringReader"),f=n("./NodeBufferReader"),h=n("./Uint8ArrayReader");r.exports=function(m){var d=a.getTypeOf(m);return a.checkSupport(d),d!=="string"||s.uint8array?d==="nodebuffer"?new f(m):s.uint8array?new h(a.transformTo("uint8array",m)):new o(a.transformTo("array",m)):new u(m)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var a=n("./GenericWorker"),s=n("../utils");function o(u){a.call(this,"ConvertWorker to "+u),this.destType=u}s.inherits(o,a),o.prototype.processChunk=function(u){this.push({data:s.transformTo(this.destType,u.data),meta:u.meta})},r.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var a=n("./GenericWorker"),s=n("../crc32");function o(){a.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(o,a),o.prototype.processChunk=function(u){this.streamInfo.crc32=s(u.data,this.streamInfo.crc32||0),this.push(u)},r.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var a=n("../utils"),s=n("./GenericWorker");function o(u){s.call(this,"DataLengthProbe for "+u),this.propName=u,this.withStreamInfo(u,0)}a.inherits(o,s),o.prototype.processChunk=function(u){if(u){var f=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=f+u.data.length}s.prototype.processChunk.call(this,u)},r.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var a=n("../utils"),s=n("./GenericWorker");function o(u){s.call(this,"DataWorker");var f=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,u.then(function(h){f.dataIsReady=!0,f.data=h,f.max=h&&h.length||0,f.type=a.getTypeOf(h),f.isPaused||f._tickAndRepeat()},function(h){f.error(h)})}a.inherits(o,s),o.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,a.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(a.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var u=null,f=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":u=this.data.substring(this.index,f);break;case"uint8array":u=this.data.subarray(this.index,f);break;case"array":case"nodebuffer":u=this.data.slice(this.index,f)}return this.index=f,this.push({data:u,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function a(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}a.prototype={push:function(s){this.emit("data",s)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(s){this.emit("error",s)}return!0},error:function(s){return!this.isFinished&&(this.isPaused?this.generatedError=s:(this.isFinished=!0,this.emit("error",s),this.previous&&this.previous.error(s),this.cleanUp()),!0)},on:function(s,o){return this._listeners[s].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(s,o){if(this._listeners[s])for(var u=0;u<this._listeners[s].length;u++)this._listeners[s][u].call(this,o)},pipe:function(s){return s.registerPrevious(this)},registerPrevious:function(s){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=s.streamInfo,this.mergeStreamInfo(),this.previous=s;var o=this;return s.on("data",function(u){o.processChunk(u)}),s.on("end",function(){o.end()}),s.on("error",function(u){o.error(u)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var s=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),s=!0),this.previous&&this.previous.resume(),!s},flush:function(){},processChunk:function(s){this.push(s)},withStreamInfo:function(s,o){return this.extraStreamInfo[s]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var s in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,s)&&(this.streamInfo[s]=this.extraStreamInfo[s])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var s="Worker "+this.name;return this.previous?this.previous+" -> "+s:s}},r.exports=a},{}],29:[function(n,r,i){var a=n("../utils"),s=n("./ConvertWorker"),o=n("./GenericWorker"),u=n("../base64"),f=n("../support"),h=n("../external"),m=null;if(f.nodestream)try{m=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function d(p,c){return new h.Promise(function(g,b){var _=[],x=p._internalType,C=p._outputType,k=p._mimeType;p.on("data",function(A,I){_.push(A),c&&c(I)}).on("error",function(A){_=[],b(A)}).on("end",function(){try{var A=function(I,P,O){switch(I){case"blob":return a.newBlob(a.transformTo("arraybuffer",P),O);case"base64":return u.encode(P);default:return a.transformTo(I,P)}}(C,function(I,P){var O,B=0,z=null,E=0;for(O=0;O<P.length;O++)E+=P[O].length;switch(I){case"string":return P.join("");case"array":return Array.prototype.concat.apply([],P);case"uint8array":for(z=new Uint8Array(E),O=0;O<P.length;O++)z.set(P[O],B),B+=P[O].length;return z;case"nodebuffer":return Buffer.concat(P);default:throw new Error("concat : unsupported type '"+I+"'")}}(x,_),k);g(A)}catch(I){b(I)}_=[]}).resume()})}function l(p,c,g){var b=c;switch(c){case"blob":case"arraybuffer":b="uint8array";break;case"base64":b="string"}try{this._internalType=b,this._outputType=c,this._mimeType=g,a.checkSupport(b),this._worker=p.pipe(new s(b)),p.lock()}catch(_){this._worker=new o("error"),this._worker.error(_)}}l.prototype={accumulate:function(p){return d(this,p)},on:function(p,c){var g=this;return p==="data"?this._worker.on(p,function(b){c.call(g,b.data,b.meta)}):this._worker.on(p,function(){a.delay(c,arguments,g)}),this},resume:function(){return a.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(p){if(a.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new m(this,{objectMode:this._outputType!=="nodebuffer"},p)}},r.exports=l},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var a=new ArrayBuffer(0);try{i.blob=new Blob([a],{type:"application/zip"}).size===0}catch{try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(a),i.blob=s.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var a=n("./utils"),s=n("./support"),o=n("./nodejsUtils"),u=n("./stream/GenericWorker"),f=new Array(256),h=0;h<256;h++)f[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;f[254]=f[254]=1;function m(){u.call(this,"utf-8 decode"),this.leftOver=null}function d(){u.call(this,"utf-8 encode")}i.utf8encode=function(l){return s.nodebuffer?o.newBufferFrom(l,"utf-8"):function(p){var c,g,b,_,x,C=p.length,k=0;for(_=0;_<C;_++)(64512&(g=p.charCodeAt(_)))==55296&&_+1<C&&(64512&(b=p.charCodeAt(_+1)))==56320&&(g=65536+(g-55296<<10)+(b-56320),_++),k+=g<128?1:g<2048?2:g<65536?3:4;for(c=s.uint8array?new Uint8Array(k):new Array(k),_=x=0;x<k;_++)(64512&(g=p.charCodeAt(_)))==55296&&_+1<C&&(64512&(b=p.charCodeAt(_+1)))==56320&&(g=65536+(g-55296<<10)+(b-56320),_++),g<128?c[x++]=g:(g<2048?c[x++]=192|g>>>6:(g<65536?c[x++]=224|g>>>12:(c[x++]=240|g>>>18,c[x++]=128|g>>>12&63),c[x++]=128|g>>>6&63),c[x++]=128|63&g);return c}(l)},i.utf8decode=function(l){return s.nodebuffer?a.transformTo("nodebuffer",l).toString("utf-8"):function(p){var c,g,b,_,x=p.length,C=new Array(2*x);for(c=g=0;c<x;)if((b=p[c++])<128)C[g++]=b;else if(4<(_=f[b]))C[g++]=65533,c+=_-1;else{for(b&=_===2?31:_===3?15:7;1<_&&c<x;)b=b<<6|63&p[c++],_--;1<_?C[g++]=65533:b<65536?C[g++]=b:(b-=65536,C[g++]=55296|b>>10&1023,C[g++]=56320|1023&b)}return C.length!==g&&(C.subarray?C=C.subarray(0,g):C.length=g),a.applyFromCharCode(C)}(l=a.transformTo(s.uint8array?"uint8array":"array",l))},a.inherits(m,u),m.prototype.processChunk=function(l){var p=a.transformTo(s.uint8array?"uint8array":"array",l.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var c=p;(p=new Uint8Array(c.length+this.leftOver.length)).set(this.leftOver,0),p.set(c,this.leftOver.length)}else p=this.leftOver.concat(p);this.leftOver=null}var g=function(_,x){var C;for((x=x||_.length)>_.length&&(x=_.length),C=x-1;0<=C&&(192&_[C])==128;)C--;return C<0||C===0?x:C+f[_[C]]>x?C:x}(p),b=p;g!==p.length&&(s.uint8array?(b=p.subarray(0,g),this.leftOver=p.subarray(g,p.length)):(b=p.slice(0,g),this.leftOver=p.slice(g,p.length))),this.push({data:i.utf8decode(b),meta:l.meta})},m.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=m,a.inherits(d,u),d.prototype.processChunk=function(l){this.push({data:i.utf8encode(l.data),meta:l.meta})},i.Utf8EncodeWorker=d},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var a=n("./support"),s=n("./base64"),o=n("./nodejsUtils"),u=n("./external");function f(c){return c}function h(c,g){for(var b=0;b<c.length;++b)g[b]=255&c.charCodeAt(b);return g}n("setimmediate"),i.newBlob=function(c,g){i.checkSupport("blob");try{return new Blob([c],{type:g})}catch{try{var b=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return b.append(c),b.getBlob(g)}catch{throw new Error("Bug : can't construct the Blob.")}}};var m={stringifyByChunk:function(c,g,b){var _=[],x=0,C=c.length;if(C<=b)return String.fromCharCode.apply(null,c);for(;x<C;)g==="array"||g==="nodebuffer"?_.push(String.fromCharCode.apply(null,c.slice(x,Math.min(x+b,C)))):_.push(String.fromCharCode.apply(null,c.subarray(x,Math.min(x+b,C)))),x+=b;return _.join("")},stringifyByChar:function(c){for(var g="",b=0;b<c.length;b++)g+=String.fromCharCode(c[b]);return g},applyCanBeUsed:{uint8array:function(){try{return a.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return a.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}}()}};function d(c){var g=65536,b=i.getTypeOf(c),_=!0;if(b==="uint8array"?_=m.applyCanBeUsed.uint8array:b==="nodebuffer"&&(_=m.applyCanBeUsed.nodebuffer),_)for(;1<g;)try{return m.stringifyByChunk(c,b,g)}catch{g=Math.floor(g/2)}return m.stringifyByChar(c)}function l(c,g){for(var b=0;b<c.length;b++)g[b]=c[b];return g}i.applyFromCharCode=d;var p={};p.string={string:f,array:function(c){return h(c,new Array(c.length))},arraybuffer:function(c){return p.string.uint8array(c).buffer},uint8array:function(c){return h(c,new Uint8Array(c.length))},nodebuffer:function(c){return h(c,o.allocBuffer(c.length))}},p.array={string:d,array:f,arraybuffer:function(c){return new Uint8Array(c).buffer},uint8array:function(c){return new Uint8Array(c)},nodebuffer:function(c){return o.newBufferFrom(c)}},p.arraybuffer={string:function(c){return d(new Uint8Array(c))},array:function(c){return l(new Uint8Array(c),new Array(c.byteLength))},arraybuffer:f,uint8array:function(c){return new Uint8Array(c)},nodebuffer:function(c){return o.newBufferFrom(new Uint8Array(c))}},p.uint8array={string:d,array:function(c){return l(c,new Array(c.length))},arraybuffer:function(c){return c.buffer},uint8array:f,nodebuffer:function(c){return o.newBufferFrom(c)}},p.nodebuffer={string:d,array:function(c){return l(c,new Array(c.length))},arraybuffer:function(c){return p.nodebuffer.uint8array(c).buffer},uint8array:function(c){return l(c,new Uint8Array(c.length))},nodebuffer:f},i.transformTo=function(c,g){if(g=g||"",!c)return g;i.checkSupport(c);var b=i.getTypeOf(g);return p[b][c](g)},i.resolve=function(c){for(var g=c.split("/"),b=[],_=0;_<g.length;_++){var x=g[_];x==="."||x===""&&_!==0&&_!==g.length-1||(x===".."?b.pop():b.push(x))}return b.join("/")},i.getTypeOf=function(c){return typeof c=="string"?"string":Object.prototype.toString.call(c)==="[object Array]"?"array":a.nodebuffer&&o.isBuffer(c)?"nodebuffer":a.uint8array&&c instanceof Uint8Array?"uint8array":a.arraybuffer&&c instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(c){if(!a[c.toLowerCase()])throw new Error(c+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(c){var g,b,_="";for(b=0;b<(c||"").length;b++)_+="\\x"+((g=c.charCodeAt(b))<16?"0":"")+g.toString(16).toUpperCase();return _},i.delay=function(c,g,b){setImmediate(function(){c.apply(b||null,g||[])})},i.inherits=function(c,g){function b(){}b.prototype=g.prototype,c.prototype=new b},i.extend=function(){var c,g,b={};for(c=0;c<arguments.length;c++)for(g in arguments[c])Object.prototype.hasOwnProperty.call(arguments[c],g)&&b[g]===void 0&&(b[g]=arguments[c][g]);return b},i.prepareContent=function(c,g,b,_,x){return u.Promise.resolve(g).then(function(C){return a.blob&&(C instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(C))!==-1)&&typeof FileReader<"u"?new u.Promise(function(k,A){var I=new FileReader;I.onload=function(P){k(P.target.result)},I.onerror=function(P){A(P.target.error)},I.readAsArrayBuffer(C)}):C}).then(function(C){var k=i.getTypeOf(C);return k?(k==="arraybuffer"?C=i.transformTo("uint8array",C):k==="string"&&(x?C=s.decode(C):b&&_!==!0&&(C=function(A){return h(A,a.uint8array?new Uint8Array(A.length):new Array(A.length))}(C))),C):u.Promise.reject(new Error("Can't read the data of '"+c+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var a=n("./reader/readerFor"),s=n("./utils"),o=n("./signature"),u=n("./zipEntry"),f=n("./support");function h(m){this.files=[],this.loadOptions=m}h.prototype={checkSignature:function(m){if(!this.reader.readAndCheckSignature(m)){this.reader.index-=4;var d=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(d)+", expected "+s.pretty(m)+")")}},isSignature:function(m,d){var l=this.reader.index;this.reader.setIndex(m);var p=this.reader.readString(4)===d;return this.reader.setIndex(l),p},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var m=this.reader.readData(this.zipCommentLength),d=f.uint8array?"uint8array":"array",l=s.transformTo(d,m);this.zipComment=this.loadOptions.decodeFileName(l)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var m,d,l,p=this.zip64EndOfCentralSize-44;0<p;)m=this.reader.readInt(2),d=this.reader.readInt(4),l=this.reader.readData(d),this.zip64ExtensibleData[m]={id:m,length:d,value:l}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var m,d;for(m=0;m<this.files.length;m++)d=this.files[m],this.reader.setIndex(d.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),d.readLocalPart(this.reader),d.handleUTF8(),d.processAttributes()},readCentralDir:function(){var m;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(m=new u({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(m);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var m=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(m<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(m);var d=m;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(m=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(m),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var l=this.centralDirOffset+this.centralDirSize;this.zip64&&(l+=20,l+=12+this.zip64EndOfCentralSize);var p=d-l;if(0<p)this.isSignature(d,o.CENTRAL_FILE_HEADER)||(this.reader.zero=p);else if(p<0)throw new Error("Corrupted zip: missing "+Math.abs(p)+" bytes.")},prepareReader:function(m){this.reader=a(m)},load:function(m){this.prepareReader(m),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=h},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var a=n("./reader/readerFor"),s=n("./utils"),o=n("./compressedObject"),u=n("./crc32"),f=n("./utf8"),h=n("./compressions"),m=n("./support");function d(l,p){this.options=l,this.loadOptions=p}d.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(l){var p,c;if(l.skip(22),this.fileNameLength=l.readInt(2),c=l.readInt(2),this.fileName=l.readData(this.fileNameLength),l.skip(c),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((p=function(g){for(var b in h)if(Object.prototype.hasOwnProperty.call(h,b)&&h[b].magic===g)return h[b];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,p,l.readData(this.compressedSize))},readCentralPart:function(l){this.versionMadeBy=l.readInt(2),l.skip(2),this.bitFlag=l.readInt(2),this.compressionMethod=l.readString(2),this.date=l.readDate(),this.crc32=l.readInt(4),this.compressedSize=l.readInt(4),this.uncompressedSize=l.readInt(4);var p=l.readInt(2);if(this.extraFieldsLength=l.readInt(2),this.fileCommentLength=l.readInt(2),this.diskNumberStart=l.readInt(2),this.internalFileAttributes=l.readInt(2),this.externalFileAttributes=l.readInt(4),this.localHeaderOffset=l.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");l.skip(p),this.readExtraFields(l),this.parseZIP64ExtraField(l),this.fileComment=l.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var l=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),l==0&&(this.dosPermissions=63&this.externalFileAttributes),l==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var l=a(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=l.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=l.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=l.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=l.readInt(4))}},readExtraFields:function(l){var p,c,g,b=l.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});l.index+4<b;)p=l.readInt(2),c=l.readInt(2),g=l.readData(c),this.extraFields[p]={id:p,length:c,value:g};l.setIndex(b)},handleUTF8:function(){var l=m.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=f.utf8decode(this.fileName),this.fileCommentStr=f.utf8decode(this.fileComment);else{var p=this.findExtraFieldUnicodePath();if(p!==null)this.fileNameStr=p;else{var c=s.transformTo(l,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(c)}var g=this.findExtraFieldUnicodeComment();if(g!==null)this.fileCommentStr=g;else{var b=s.transformTo(l,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(b)}}},findExtraFieldUnicodePath:function(){var l=this.extraFields[28789];if(l){var p=a(l.value);return p.readInt(1)!==1||u(this.fileName)!==p.readInt(4)?null:f.utf8decode(p.readData(l.length-5))}return null},findExtraFieldUnicodeComment:function(){var l=this.extraFields[25461];if(l){var p=a(l.value);return p.readInt(1)!==1||u(this.fileComment)!==p.readInt(4)?null:f.utf8decode(p.readData(l.length-5))}return null}},r.exports=d},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function a(p,c,g){this.name=p,this.dir=g.dir,this.date=g.date,this.comment=g.comment,this.unixPermissions=g.unixPermissions,this.dosPermissions=g.dosPermissions,this._data=c,this._dataBinary=g.binary,this.options={compression:g.compression,compressionOptions:g.compressionOptions}}var s=n("./stream/StreamHelper"),o=n("./stream/DataWorker"),u=n("./utf8"),f=n("./compressedObject"),h=n("./stream/GenericWorker");a.prototype={internalStream:function(p){var c=null,g="string";try{if(!p)throw new Error("No output type specified.");var b=(g=p.toLowerCase())==="string"||g==="text";g!=="binarystring"&&g!=="text"||(g="string"),c=this._decompressWorker();var _=!this._dataBinary;_&&!b&&(c=c.pipe(new u.Utf8EncodeWorker)),!_&&b&&(c=c.pipe(new u.Utf8DecodeWorker))}catch(x){(c=new h("error")).error(x)}return new s(c,g,"")},async:function(p,c){return this.internalStream(p).accumulate(c)},nodeStream:function(p,c){return this.internalStream(p||"nodebuffer").toNodejsStream(c)},_compressWorker:function(p,c){if(this._data instanceof f&&this._data.compression.magic===p.magic)return this._data.getCompressedWorker();var g=this._decompressWorker();return this._dataBinary||(g=g.pipe(new u.Utf8EncodeWorker)),f.createWorkerFrom(g,p,c)},_decompressWorker:function(){return this._data instanceof f?this._data.getContentWorker():this._data instanceof h?this._data:new o(this._data)}};for(var m=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],d=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},l=0;l<m.length;l++)a.prototype[m[l]]=d;r.exports=a},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(a){var s,o,u=a.MutationObserver||a.WebKitMutationObserver;if(u){var f=0,h=new u(p),m=a.document.createTextNode("");h.observe(m,{characterData:!0}),s=function(){m.data=f=++f%2}}else if(a.setImmediate||a.MessageChannel===void 0)s="document"in a&&"onreadystatechange"in a.document.createElement("script")?function(){var c=a.document.createElement("script");c.onreadystatechange=function(){p(),c.onreadystatechange=null,c.parentNode.removeChild(c),c=null},a.document.documentElement.appendChild(c)}:function(){setTimeout(p,0)};else{var d=new a.MessageChannel;d.port1.onmessage=p,s=function(){d.port2.postMessage(0)}}var l=[];function p(){var c,g;o=!0;for(var b=l.length;b;){for(g=l,l=[],c=-1;++c<b;)g[c]();b=l.length}o=!1}r.exports=function(c){l.push(c)!==1||o||s()}}).call(this,typeof ei<"u"?ei:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var a=n("immediate");function s(){}var o={},u=["REJECTED"],f=["FULFILLED"],h=["PENDING"];function m(b){if(typeof b!="function")throw new TypeError("resolver must be a function");this.state=h,this.queue=[],this.outcome=void 0,b!==s&&c(this,b)}function d(b,_,x){this.promise=b,typeof _=="function"&&(this.onFulfilled=_,this.callFulfilled=this.otherCallFulfilled),typeof x=="function"&&(this.onRejected=x,this.callRejected=this.otherCallRejected)}function l(b,_,x){a(function(){var C;try{C=_(x)}catch(k){return o.reject(b,k)}C===b?o.reject(b,new TypeError("Cannot resolve promise with itself")):o.resolve(b,C)})}function p(b){var _=b&&b.then;if(b&&(typeof b=="object"||typeof b=="function")&&typeof _=="function")return function(){_.apply(b,arguments)}}function c(b,_){var x=!1;function C(I){x||(x=!0,o.reject(b,I))}function k(I){x||(x=!0,o.resolve(b,I))}var A=g(function(){_(k,C)});A.status==="error"&&C(A.value)}function g(b,_){var x={};try{x.value=b(_),x.status="success"}catch(C){x.status="error",x.value=C}return x}(r.exports=m).prototype.finally=function(b){if(typeof b!="function")return this;var _=this.constructor;return this.then(function(x){return _.resolve(b()).then(function(){return x})},function(x){return _.resolve(b()).then(function(){throw x})})},m.prototype.catch=function(b){return this.then(null,b)},m.prototype.then=function(b,_){if(typeof b!="function"&&this.state===f||typeof _!="function"&&this.state===u)return this;var x=new this.constructor(s);return this.state!==h?l(x,this.state===f?b:_,this.outcome):this.queue.push(new d(x,b,_)),x},d.prototype.callFulfilled=function(b){o.resolve(this.promise,b)},d.prototype.otherCallFulfilled=function(b){l(this.promise,this.onFulfilled,b)},d.prototype.callRejected=function(b){o.reject(this.promise,b)},d.prototype.otherCallRejected=function(b){l(this.promise,this.onRejected,b)},o.resolve=function(b,_){var x=g(p,_);if(x.status==="error")return o.reject(b,x.value);var C=x.value;if(C)c(b,C);else{b.state=f,b.outcome=_;for(var k=-1,A=b.queue.length;++k<A;)b.queue[k].callFulfilled(_)}return b},o.reject=function(b,_){b.state=u,b.outcome=_;for(var x=-1,C=b.queue.length;++x<C;)b.queue[x].callRejected(_);return b},m.resolve=function(b){return b instanceof this?b:o.resolve(new this(s),b)},m.reject=function(b){var _=new this(s);return o.reject(_,b)},m.all=function(b){var _=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=b.length,C=!1;if(!x)return this.resolve([]);for(var k=new Array(x),A=0,I=-1,P=new this(s);++I<x;)O(b[I],I);return P;function O(B,z){_.resolve(B).then(function(E){k[z]=E,++A!==x||C||(C=!0,o.resolve(P,k))},function(E){C||(C=!0,o.reject(P,E))})}},m.race=function(b){var _=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=b.length,C=!1;if(!x)return this.resolve([]);for(var k=-1,A=new this(s);++k<x;)I=b[k],_.resolve(I).then(function(P){C||(C=!0,o.resolve(A,P))},function(P){C||(C=!0,o.reject(A,P))});var I;return A}},{immediate:36}],38:[function(n,r,i){var a={};(0,n("./lib/utils/common").assign)(a,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=a},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var a=n("./zlib/deflate"),s=n("./utils/common"),o=n("./utils/strings"),u=n("./zlib/messages"),f=n("./zlib/zstream"),h=Object.prototype.toString,m=0,d=-1,l=0,p=8;function c(b){if(!(this instanceof c))return new c(b);this.options=s.assign({level:d,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:l,to:""},b||{});var _=this.options;_.raw&&0<_.windowBits?_.windowBits=-_.windowBits:_.gzip&&0<_.windowBits&&_.windowBits<16&&(_.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var x=a.deflateInit2(this.strm,_.level,_.method,_.windowBits,_.memLevel,_.strategy);if(x!==m)throw new Error(u[x]);if(_.header&&a.deflateSetHeader(this.strm,_.header),_.dictionary){var C;if(C=typeof _.dictionary=="string"?o.string2buf(_.dictionary):h.call(_.dictionary)==="[object ArrayBuffer]"?new Uint8Array(_.dictionary):_.dictionary,(x=a.deflateSetDictionary(this.strm,C))!==m)throw new Error(u[x]);this._dict_set=!0}}function g(b,_){var x=new c(_);if(x.push(b,!0),x.err)throw x.msg||u[x.err];return x.result}c.prototype.push=function(b,_){var x,C,k=this.strm,A=this.options.chunkSize;if(this.ended)return!1;C=_===~~_?_:_===!0?4:0,typeof b=="string"?k.input=o.string2buf(b):h.call(b)==="[object ArrayBuffer]"?k.input=new Uint8Array(b):k.input=b,k.next_in=0,k.avail_in=k.input.length;do{if(k.avail_out===0&&(k.output=new s.Buf8(A),k.next_out=0,k.avail_out=A),(x=a.deflate(k,C))!==1&&x!==m)return this.onEnd(x),!(this.ended=!0);k.avail_out!==0&&(k.avail_in!==0||C!==4&&C!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(s.shrinkBuf(k.output,k.next_out))):this.onData(s.shrinkBuf(k.output,k.next_out)))}while((0<k.avail_in||k.avail_out===0)&&x!==1);return C===4?(x=a.deflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===m):C!==2||(this.onEnd(m),!(k.avail_out=0))},c.prototype.onData=function(b){this.chunks.push(b)},c.prototype.onEnd=function(b){b===m&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=b,this.msg=this.strm.msg},i.Deflate=c,i.deflate=g,i.deflateRaw=function(b,_){return(_=_||{}).raw=!0,g(b,_)},i.gzip=function(b,_){return(_=_||{}).gzip=!0,g(b,_)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var a=n("./zlib/inflate"),s=n("./utils/common"),o=n("./utils/strings"),u=n("./zlib/constants"),f=n("./zlib/messages"),h=n("./zlib/zstream"),m=n("./zlib/gzheader"),d=Object.prototype.toString;function l(c){if(!(this instanceof l))return new l(c);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},c||{});var g=this.options;g.raw&&0<=g.windowBits&&g.windowBits<16&&(g.windowBits=-g.windowBits,g.windowBits===0&&(g.windowBits=-15)),!(0<=g.windowBits&&g.windowBits<16)||c&&c.windowBits||(g.windowBits+=32),15<g.windowBits&&g.windowBits<48&&(15&g.windowBits)==0&&(g.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var b=a.inflateInit2(this.strm,g.windowBits);if(b!==u.Z_OK)throw new Error(f[b]);this.header=new m,a.inflateGetHeader(this.strm,this.header)}function p(c,g){var b=new l(g);if(b.push(c,!0),b.err)throw b.msg||f[b.err];return b.result}l.prototype.push=function(c,g){var b,_,x,C,k,A,I=this.strm,P=this.options.chunkSize,O=this.options.dictionary,B=!1;if(this.ended)return!1;_=g===~~g?g:g===!0?u.Z_FINISH:u.Z_NO_FLUSH,typeof c=="string"?I.input=o.binstring2buf(c):d.call(c)==="[object ArrayBuffer]"?I.input=new Uint8Array(c):I.input=c,I.next_in=0,I.avail_in=I.input.length;do{if(I.avail_out===0&&(I.output=new s.Buf8(P),I.next_out=0,I.avail_out=P),(b=a.inflate(I,u.Z_NO_FLUSH))===u.Z_NEED_DICT&&O&&(A=typeof O=="string"?o.string2buf(O):d.call(O)==="[object ArrayBuffer]"?new Uint8Array(O):O,b=a.inflateSetDictionary(this.strm,A)),b===u.Z_BUF_ERROR&&B===!0&&(b=u.Z_OK,B=!1),b!==u.Z_STREAM_END&&b!==u.Z_OK)return this.onEnd(b),!(this.ended=!0);I.next_out&&(I.avail_out!==0&&b!==u.Z_STREAM_END&&(I.avail_in!==0||_!==u.Z_FINISH&&_!==u.Z_SYNC_FLUSH)||(this.options.to==="string"?(x=o.utf8border(I.output,I.next_out),C=I.next_out-x,k=o.buf2string(I.output,x),I.next_out=C,I.avail_out=P-C,C&&s.arraySet(I.output,I.output,x,C,0),this.onData(k)):this.onData(s.shrinkBuf(I.output,I.next_out)))),I.avail_in===0&&I.avail_out===0&&(B=!0)}while((0<I.avail_in||I.avail_out===0)&&b!==u.Z_STREAM_END);return b===u.Z_STREAM_END&&(_=u.Z_FINISH),_===u.Z_FINISH?(b=a.inflateEnd(this.strm),this.onEnd(b),this.ended=!0,b===u.Z_OK):_!==u.Z_SYNC_FLUSH||(this.onEnd(u.Z_OK),!(I.avail_out=0))},l.prototype.onData=function(c){this.chunks.push(c)},l.prototype.onEnd=function(c){c===u.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=c,this.msg=this.strm.msg},i.Inflate=l,i.inflate=p,i.inflateRaw=function(c,g){return(g=g||{}).raw=!0,p(c,g)},i.ungzip=p},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(u){for(var f=Array.prototype.slice.call(arguments,1);f.length;){var h=f.shift();if(h){if(typeof h!="object")throw new TypeError(h+"must be non-object");for(var m in h)h.hasOwnProperty(m)&&(u[m]=h[m])}}return u},i.shrinkBuf=function(u,f){return u.length===f?u:u.subarray?u.subarray(0,f):(u.length=f,u)};var s={arraySet:function(u,f,h,m,d){if(f.subarray&&u.subarray)u.set(f.subarray(h,h+m),d);else for(var l=0;l<m;l++)u[d+l]=f[h+l]},flattenChunks:function(u){var f,h,m,d,l,p;for(f=m=0,h=u.length;f<h;f++)m+=u[f].length;for(p=new Uint8Array(m),f=d=0,h=u.length;f<h;f++)l=u[f],p.set(l,d),d+=l.length;return p}},o={arraySet:function(u,f,h,m,d){for(var l=0;l<m;l++)u[d+l]=f[h+l]},flattenChunks:function(u){return[].concat.apply([],u)}};i.setTyped=function(u){u?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,s)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,o))},i.setTyped(a)},{}],42:[function(n,r,i){var a=n("./common"),s=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var u=new a.Buf8(256),f=0;f<256;f++)u[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;function h(m,d){if(d<65537&&(m.subarray&&o||!m.subarray&&s))return String.fromCharCode.apply(null,a.shrinkBuf(m,d));for(var l="",p=0;p<d;p++)l+=String.fromCharCode(m[p]);return l}u[254]=u[254]=1,i.string2buf=function(m){var d,l,p,c,g,b=m.length,_=0;for(c=0;c<b;c++)(64512&(l=m.charCodeAt(c)))==55296&&c+1<b&&(64512&(p=m.charCodeAt(c+1)))==56320&&(l=65536+(l-55296<<10)+(p-56320),c++),_+=l<128?1:l<2048?2:l<65536?3:4;for(d=new a.Buf8(_),c=g=0;g<_;c++)(64512&(l=m.charCodeAt(c)))==55296&&c+1<b&&(64512&(p=m.charCodeAt(c+1)))==56320&&(l=65536+(l-55296<<10)+(p-56320),c++),l<128?d[g++]=l:(l<2048?d[g++]=192|l>>>6:(l<65536?d[g++]=224|l>>>12:(d[g++]=240|l>>>18,d[g++]=128|l>>>12&63),d[g++]=128|l>>>6&63),d[g++]=128|63&l);return d},i.buf2binstring=function(m){return h(m,m.length)},i.binstring2buf=function(m){for(var d=new a.Buf8(m.length),l=0,p=d.length;l<p;l++)d[l]=m.charCodeAt(l);return d},i.buf2string=function(m,d){var l,p,c,g,b=d||m.length,_=new Array(2*b);for(l=p=0;l<b;)if((c=m[l++])<128)_[p++]=c;else if(4<(g=u[c]))_[p++]=65533,l+=g-1;else{for(c&=g===2?31:g===3?15:7;1<g&&l<b;)c=c<<6|63&m[l++],g--;1<g?_[p++]=65533:c<65536?_[p++]=c:(c-=65536,_[p++]=55296|c>>10&1023,_[p++]=56320|1023&c)}return h(_,p)},i.utf8border=function(m,d){var l;for((d=d||m.length)>m.length&&(d=m.length),l=d-1;0<=l&&(192&m[l])==128;)l--;return l<0||l===0?d:l+u[m[l]]>d?l:d}},{"./common":41}],43:[function(n,r,i){r.exports=function(a,s,o,u){for(var f=65535&a|0,h=a>>>16&65535|0,m=0;o!==0;){for(o-=m=2e3<o?2e3:o;h=h+(f=f+s[u++]|0)|0,--m;);f%=65521,h%=65521}return f|h<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var a=function(){for(var s,o=[],u=0;u<256;u++){s=u;for(var f=0;f<8;f++)s=1&s?3988292384^s>>>1:s>>>1;o[u]=s}return o}();r.exports=function(s,o,u,f){var h=a,m=f+u;s^=-1;for(var d=f;d<m;d++)s=s>>>8^h[255&(s^o[d])];return-1^s}},{}],46:[function(n,r,i){var a,s=n("../utils/common"),o=n("./trees"),u=n("./adler32"),f=n("./crc32"),h=n("./messages"),m=0,d=4,l=0,p=-2,c=-1,g=4,b=2,_=8,x=9,C=286,k=30,A=19,I=2*C+1,P=15,O=3,B=258,z=B+O+1,E=42,R=113,v=1,D=2,W=3,V=4;function K(y,q){return y.msg=h[q],q}function j(y){return(y<<1)-(4<y?9:0)}function et(y){for(var q=y.length;0<=--q;)y[q]=0}function N(y){var q=y.state,F=q.pending;F>y.avail_out&&(F=y.avail_out),F!==0&&(s.arraySet(y.output,q.pending_buf,q.pending_out,F,y.next_out),y.next_out+=F,q.pending_out+=F,y.total_out+=F,y.avail_out-=F,q.pending-=F,q.pending===0&&(q.pending_out=0))}function M(y,q){o._tr_flush_block(y,0<=y.block_start?y.block_start:-1,y.strstart-y.block_start,q),y.block_start=y.strstart,N(y.strm)}function ot(y,q){y.pending_buf[y.pending++]=q}function rt(y,q){y.pending_buf[y.pending++]=q>>>8&255,y.pending_buf[y.pending++]=255&q}function Q(y,q){var F,T,S=y.max_chain_length,L=y.strstart,G=y.prev_length,Y=y.nice_match,H=y.strstart>y.w_size-z?y.strstart-(y.w_size-z):0,it=y.window,lt=y.w_mask,st=y.prev,ut=y.strstart+B,Ft=it[L+G-1],It=it[L+G];y.prev_length>=y.good_match&&(S>>=2),Y>y.lookahead&&(Y=y.lookahead);do if(it[(F=q)+G]===It&&it[F+G-1]===Ft&&it[F]===it[L]&&it[++F]===it[L+1]){L+=2,F++;do;while(it[++L]===it[++F]&&it[++L]===it[++F]&&it[++L]===it[++F]&&it[++L]===it[++F]&&it[++L]===it[++F]&&it[++L]===it[++F]&&it[++L]===it[++F]&&it[++L]===it[++F]&&L<ut);if(T=B-(ut-L),L=ut-B,G<T){if(y.match_start=q,Y<=(G=T))break;Ft=it[L+G-1],It=it[L+G]}}while((q=st[q&lt])>H&&--S!=0);return G<=y.lookahead?G:y.lookahead}function wt(y){var q,F,T,S,L,G,Y,H,it,lt,st=y.w_size;do{if(S=y.window_size-y.lookahead-y.strstart,y.strstart>=st+(st-z)){for(s.arraySet(y.window,y.window,st,st,0),y.match_start-=st,y.strstart-=st,y.block_start-=st,q=F=y.hash_size;T=y.head[--q],y.head[q]=st<=T?T-st:0,--F;);for(q=F=st;T=y.prev[--q],y.prev[q]=st<=T?T-st:0,--F;);S+=st}if(y.strm.avail_in===0)break;if(G=y.strm,Y=y.window,H=y.strstart+y.lookahead,it=S,lt=void 0,lt=G.avail_in,it<lt&&(lt=it),F=lt===0?0:(G.avail_in-=lt,s.arraySet(Y,G.input,G.next_in,lt,H),G.state.wrap===1?G.adler=u(G.adler,Y,lt,H):G.state.wrap===2&&(G.adler=f(G.adler,Y,lt,H)),G.next_in+=lt,G.total_in+=lt,lt),y.lookahead+=F,y.lookahead+y.insert>=O)for(L=y.strstart-y.insert,y.ins_h=y.window[L],y.ins_h=(y.ins_h<<y.hash_shift^y.window[L+1])&y.hash_mask;y.insert&&(y.ins_h=(y.ins_h<<y.hash_shift^y.window[L+O-1])&y.hash_mask,y.prev[L&y.w_mask]=y.head[y.ins_h],y.head[y.ins_h]=L,L++,y.insert--,!(y.lookahead+y.insert<O)););}while(y.lookahead<z&&y.strm.avail_in!==0)}function St(y,q){for(var F,T;;){if(y.lookahead<z){if(wt(y),y.lookahead<z&&q===m)return v;if(y.lookahead===0)break}if(F=0,y.lookahead>=O&&(y.ins_h=(y.ins_h<<y.hash_shift^y.window[y.strstart+O-1])&y.hash_mask,F=y.prev[y.strstart&y.w_mask]=y.head[y.ins_h],y.head[y.ins_h]=y.strstart),F!==0&&y.strstart-F<=y.w_size-z&&(y.match_length=Q(y,F)),y.match_length>=O)if(T=o._tr_tally(y,y.strstart-y.match_start,y.match_length-O),y.lookahead-=y.match_length,y.match_length<=y.max_lazy_match&&y.lookahead>=O){for(y.match_length--;y.strstart++,y.ins_h=(y.ins_h<<y.hash_shift^y.window[y.strstart+O-1])&y.hash_mask,F=y.prev[y.strstart&y.w_mask]=y.head[y.ins_h],y.head[y.ins_h]=y.strstart,--y.match_length!=0;);y.strstart++}else y.strstart+=y.match_length,y.match_length=0,y.ins_h=y.window[y.strstart],y.ins_h=(y.ins_h<<y.hash_shift^y.window[y.strstart+1])&y.hash_mask;else T=o._tr_tally(y,0,y.window[y.strstart]),y.lookahead--,y.strstart++;if(T&&(M(y,!1),y.strm.avail_out===0))return v}return y.insert=y.strstart<O-1?y.strstart:O-1,q===d?(M(y,!0),y.strm.avail_out===0?W:V):y.last_lit&&(M(y,!1),y.strm.avail_out===0)?v:D}function dt(y,q){for(var F,T,S;;){if(y.lookahead<z){if(wt(y),y.lookahead<z&&q===m)return v;if(y.lookahead===0)break}if(F=0,y.lookahead>=O&&(y.ins_h=(y.ins_h<<y.hash_shift^y.window[y.strstart+O-1])&y.hash_mask,F=y.prev[y.strstart&y.w_mask]=y.head[y.ins_h],y.head[y.ins_h]=y.strstart),y.prev_length=y.match_length,y.prev_match=y.match_start,y.match_length=O-1,F!==0&&y.prev_length<y.max_lazy_match&&y.strstart-F<=y.w_size-z&&(y.match_length=Q(y,F),y.match_length<=5&&(y.strategy===1||y.match_length===O&&4096<y.strstart-y.match_start)&&(y.match_length=O-1)),y.prev_length>=O&&y.match_length<=y.prev_length){for(S=y.strstart+y.lookahead-O,T=o._tr_tally(y,y.strstart-1-y.prev_match,y.prev_length-O),y.lookahead-=y.prev_length-1,y.prev_length-=2;++y.strstart<=S&&(y.ins_h=(y.ins_h<<y.hash_shift^y.window[y.strstart+O-1])&y.hash_mask,F=y.prev[y.strstart&y.w_mask]=y.head[y.ins_h],y.head[y.ins_h]=y.strstart),--y.prev_length!=0;);if(y.match_available=0,y.match_length=O-1,y.strstart++,T&&(M(y,!1),y.strm.avail_out===0))return v}else if(y.match_available){if((T=o._tr_tally(y,0,y.window[y.strstart-1]))&&M(y,!1),y.strstart++,y.lookahead--,y.strm.avail_out===0)return v}else y.match_available=1,y.strstart++,y.lookahead--}return y.match_available&&(T=o._tr_tally(y,0,y.window[y.strstart-1]),y.match_available=0),y.insert=y.strstart<O-1?y.strstart:O-1,q===d?(M(y,!0),y.strm.avail_out===0?W:V):y.last_lit&&(M(y,!1),y.strm.avail_out===0)?v:D}function xt(y,q,F,T,S){this.good_length=y,this.max_lazy=q,this.nice_length=F,this.max_chain=T,this.func=S}function vt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=_,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*I),this.dyn_dtree=new s.Buf16(2*(2*k+1)),this.bl_tree=new s.Buf16(2*(2*A+1)),et(this.dyn_ltree),et(this.dyn_dtree),et(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(P+1),this.heap=new s.Buf16(2*C+1),et(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*C+1),et(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ct(y){var q;return y&&y.state?(y.total_in=y.total_out=0,y.data_type=b,(q=y.state).pending=0,q.pending_out=0,q.wrap<0&&(q.wrap=-q.wrap),q.status=q.wrap?E:R,y.adler=q.wrap===2?0:1,q.last_flush=m,o._tr_init(q),l):K(y,p)}function Bt(y){var q=Ct(y);return q===l&&function(F){F.window_size=2*F.w_size,et(F.head),F.max_lazy_match=a[F.level].max_lazy,F.good_match=a[F.level].good_length,F.nice_match=a[F.level].nice_length,F.max_chain_length=a[F.level].max_chain,F.strstart=0,F.block_start=0,F.lookahead=0,F.insert=0,F.match_length=F.prev_length=O-1,F.match_available=0,F.ins_h=0}(y.state),q}function Mt(y,q,F,T,S,L){if(!y)return p;var G=1;if(q===c&&(q=6),T<0?(G=0,T=-T):15<T&&(G=2,T-=16),S<1||x<S||F!==_||T<8||15<T||q<0||9<q||L<0||g<L)return K(y,p);T===8&&(T=9);var Y=new vt;return(y.state=Y).strm=y,Y.wrap=G,Y.gzhead=null,Y.w_bits=T,Y.w_size=1<<Y.w_bits,Y.w_mask=Y.w_size-1,Y.hash_bits=S+7,Y.hash_size=1<<Y.hash_bits,Y.hash_mask=Y.hash_size-1,Y.hash_shift=~~((Y.hash_bits+O-1)/O),Y.window=new s.Buf8(2*Y.w_size),Y.head=new s.Buf16(Y.hash_size),Y.prev=new s.Buf16(Y.w_size),Y.lit_bufsize=1<<S+6,Y.pending_buf_size=4*Y.lit_bufsize,Y.pending_buf=new s.Buf8(Y.pending_buf_size),Y.d_buf=1*Y.lit_bufsize,Y.l_buf=3*Y.lit_bufsize,Y.level=q,Y.strategy=L,Y.method=F,Bt(y)}a=[new xt(0,0,0,0,function(y,q){var F=65535;for(F>y.pending_buf_size-5&&(F=y.pending_buf_size-5);;){if(y.lookahead<=1){if(wt(y),y.lookahead===0&&q===m)return v;if(y.lookahead===0)break}y.strstart+=y.lookahead,y.lookahead=0;var T=y.block_start+F;if((y.strstart===0||y.strstart>=T)&&(y.lookahead=y.strstart-T,y.strstart=T,M(y,!1),y.strm.avail_out===0)||y.strstart-y.block_start>=y.w_size-z&&(M(y,!1),y.strm.avail_out===0))return v}return y.insert=0,q===d?(M(y,!0),y.strm.avail_out===0?W:V):(y.strstart>y.block_start&&(M(y,!1),y.strm.avail_out),v)}),new xt(4,4,8,4,St),new xt(4,5,16,8,St),new xt(4,6,32,32,St),new xt(4,4,16,16,dt),new xt(8,16,32,32,dt),new xt(8,16,128,128,dt),new xt(8,32,128,256,dt),new xt(32,128,258,1024,dt),new xt(32,258,258,4096,dt)],i.deflateInit=function(y,q){return Mt(y,q,_,15,8,0)},i.deflateInit2=Mt,i.deflateReset=Bt,i.deflateResetKeep=Ct,i.deflateSetHeader=function(y,q){return y&&y.state?y.state.wrap!==2?p:(y.state.gzhead=q,l):p},i.deflate=function(y,q){var F,T,S,L;if(!y||!y.state||5<q||q<0)return y?K(y,p):p;if(T=y.state,!y.output||!y.input&&y.avail_in!==0||T.status===666&&q!==d)return K(y,y.avail_out===0?-5:p);if(T.strm=y,F=T.last_flush,T.last_flush=q,T.status===E)if(T.wrap===2)y.adler=0,ot(T,31),ot(T,139),ot(T,8),T.gzhead?(ot(T,(T.gzhead.text?1:0)+(T.gzhead.hcrc?2:0)+(T.gzhead.extra?4:0)+(T.gzhead.name?8:0)+(T.gzhead.comment?16:0)),ot(T,255&T.gzhead.time),ot(T,T.gzhead.time>>8&255),ot(T,T.gzhead.time>>16&255),ot(T,T.gzhead.time>>24&255),ot(T,T.level===9?2:2<=T.strategy||T.level<2?4:0),ot(T,255&T.gzhead.os),T.gzhead.extra&&T.gzhead.extra.length&&(ot(T,255&T.gzhead.extra.length),ot(T,T.gzhead.extra.length>>8&255)),T.gzhead.hcrc&&(y.adler=f(y.adler,T.pending_buf,T.pending,0)),T.gzindex=0,T.status=69):(ot(T,0),ot(T,0),ot(T,0),ot(T,0),ot(T,0),ot(T,T.level===9?2:2<=T.strategy||T.level<2?4:0),ot(T,3),T.status=R);else{var G=_+(T.w_bits-8<<4)<<8;G|=(2<=T.strategy||T.level<2?0:T.level<6?1:T.level===6?2:3)<<6,T.strstart!==0&&(G|=32),G+=31-G%31,T.status=R,rt(T,G),T.strstart!==0&&(rt(T,y.adler>>>16),rt(T,65535&y.adler)),y.adler=1}if(T.status===69)if(T.gzhead.extra){for(S=T.pending;T.gzindex<(65535&T.gzhead.extra.length)&&(T.pending!==T.pending_buf_size||(T.gzhead.hcrc&&T.pending>S&&(y.adler=f(y.adler,T.pending_buf,T.pending-S,S)),N(y),S=T.pending,T.pending!==T.pending_buf_size));)ot(T,255&T.gzhead.extra[T.gzindex]),T.gzindex++;T.gzhead.hcrc&&T.pending>S&&(y.adler=f(y.adler,T.pending_buf,T.pending-S,S)),T.gzindex===T.gzhead.extra.length&&(T.gzindex=0,T.status=73)}else T.status=73;if(T.status===73)if(T.gzhead.name){S=T.pending;do{if(T.pending===T.pending_buf_size&&(T.gzhead.hcrc&&T.pending>S&&(y.adler=f(y.adler,T.pending_buf,T.pending-S,S)),N(y),S=T.pending,T.pending===T.pending_buf_size)){L=1;break}L=T.gzindex<T.gzhead.name.length?255&T.gzhead.name.charCodeAt(T.gzindex++):0,ot(T,L)}while(L!==0);T.gzhead.hcrc&&T.pending>S&&(y.adler=f(y.adler,T.pending_buf,T.pending-S,S)),L===0&&(T.gzindex=0,T.status=91)}else T.status=91;if(T.status===91)if(T.gzhead.comment){S=T.pending;do{if(T.pending===T.pending_buf_size&&(T.gzhead.hcrc&&T.pending>S&&(y.adler=f(y.adler,T.pending_buf,T.pending-S,S)),N(y),S=T.pending,T.pending===T.pending_buf_size)){L=1;break}L=T.gzindex<T.gzhead.comment.length?255&T.gzhead.comment.charCodeAt(T.gzindex++):0,ot(T,L)}while(L!==0);T.gzhead.hcrc&&T.pending>S&&(y.adler=f(y.adler,T.pending_buf,T.pending-S,S)),L===0&&(T.status=103)}else T.status=103;if(T.status===103&&(T.gzhead.hcrc?(T.pending+2>T.pending_buf_size&&N(y),T.pending+2<=T.pending_buf_size&&(ot(T,255&y.adler),ot(T,y.adler>>8&255),y.adler=0,T.status=R)):T.status=R),T.pending!==0){if(N(y),y.avail_out===0)return T.last_flush=-1,l}else if(y.avail_in===0&&j(q)<=j(F)&&q!==d)return K(y,-5);if(T.status===666&&y.avail_in!==0)return K(y,-5);if(y.avail_in!==0||T.lookahead!==0||q!==m&&T.status!==666){var Y=T.strategy===2?function(H,it){for(var lt;;){if(H.lookahead===0&&(wt(H),H.lookahead===0)){if(it===m)return v;break}if(H.match_length=0,lt=o._tr_tally(H,0,H.window[H.strstart]),H.lookahead--,H.strstart++,lt&&(M(H,!1),H.strm.avail_out===0))return v}return H.insert=0,it===d?(M(H,!0),H.strm.avail_out===0?W:V):H.last_lit&&(M(H,!1),H.strm.avail_out===0)?v:D}(T,q):T.strategy===3?function(H,it){for(var lt,st,ut,Ft,It=H.window;;){if(H.lookahead<=B){if(wt(H),H.lookahead<=B&&it===m)return v;if(H.lookahead===0)break}if(H.match_length=0,H.lookahead>=O&&0<H.strstart&&(st=It[ut=H.strstart-1])===It[++ut]&&st===It[++ut]&&st===It[++ut]){Ft=H.strstart+B;do;while(st===It[++ut]&&st===It[++ut]&&st===It[++ut]&&st===It[++ut]&&st===It[++ut]&&st===It[++ut]&&st===It[++ut]&&st===It[++ut]&&ut<Ft);H.match_length=B-(Ft-ut),H.match_length>H.lookahead&&(H.match_length=H.lookahead)}if(H.match_length>=O?(lt=o._tr_tally(H,1,H.match_length-O),H.lookahead-=H.match_length,H.strstart+=H.match_length,H.match_length=0):(lt=o._tr_tally(H,0,H.window[H.strstart]),H.lookahead--,H.strstart++),lt&&(M(H,!1),H.strm.avail_out===0))return v}return H.insert=0,it===d?(M(H,!0),H.strm.avail_out===0?W:V):H.last_lit&&(M(H,!1),H.strm.avail_out===0)?v:D}(T,q):a[T.level].func(T,q);if(Y!==W&&Y!==V||(T.status=666),Y===v||Y===W)return y.avail_out===0&&(T.last_flush=-1),l;if(Y===D&&(q===1?o._tr_align(T):q!==5&&(o._tr_stored_block(T,0,0,!1),q===3&&(et(T.head),T.lookahead===0&&(T.strstart=0,T.block_start=0,T.insert=0))),N(y),y.avail_out===0))return T.last_flush=-1,l}return q!==d?l:T.wrap<=0?1:(T.wrap===2?(ot(T,255&y.adler),ot(T,y.adler>>8&255),ot(T,y.adler>>16&255),ot(T,y.adler>>24&255),ot(T,255&y.total_in),ot(T,y.total_in>>8&255),ot(T,y.total_in>>16&255),ot(T,y.total_in>>24&255)):(rt(T,y.adler>>>16),rt(T,65535&y.adler)),N(y),0<T.wrap&&(T.wrap=-T.wrap),T.pending!==0?l:1)},i.deflateEnd=function(y){var q;return y&&y.state?(q=y.state.status)!==E&&q!==69&&q!==73&&q!==91&&q!==103&&q!==R&&q!==666?K(y,p):(y.state=null,q===R?K(y,-3):l):p},i.deflateSetDictionary=function(y,q){var F,T,S,L,G,Y,H,it,lt=q.length;if(!y||!y.state||(L=(F=y.state).wrap)===2||L===1&&F.status!==E||F.lookahead)return p;for(L===1&&(y.adler=u(y.adler,q,lt,0)),F.wrap=0,lt>=F.w_size&&(L===0&&(et(F.head),F.strstart=0,F.block_start=0,F.insert=0),it=new s.Buf8(F.w_size),s.arraySet(it,q,lt-F.w_size,F.w_size,0),q=it,lt=F.w_size),G=y.avail_in,Y=y.next_in,H=y.input,y.avail_in=lt,y.next_in=0,y.input=q,wt(F);F.lookahead>=O;){for(T=F.strstart,S=F.lookahead-(O-1);F.ins_h=(F.ins_h<<F.hash_shift^F.window[T+O-1])&F.hash_mask,F.prev[T&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=T,T++,--S;);F.strstart=T,F.lookahead=O-1,wt(F)}return F.strstart+=F.lookahead,F.block_start=F.strstart,F.insert=F.lookahead,F.lookahead=0,F.match_length=F.prev_length=O-1,F.match_available=0,y.next_in=Y,y.input=H,y.avail_in=G,F.wrap=L,l},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(a,s){var o,u,f,h,m,d,l,p,c,g,b,_,x,C,k,A,I,P,O,B,z,E,R,v,D;o=a.state,u=a.next_in,v=a.input,f=u+(a.avail_in-5),h=a.next_out,D=a.output,m=h-(s-a.avail_out),d=h+(a.avail_out-257),l=o.dmax,p=o.wsize,c=o.whave,g=o.wnext,b=o.window,_=o.hold,x=o.bits,C=o.lencode,k=o.distcode,A=(1<<o.lenbits)-1,I=(1<<o.distbits)-1;t:do{x<15&&(_+=v[u++]<<x,x+=8,_+=v[u++]<<x,x+=8),P=C[_&A];e:for(;;){if(_>>>=O=P>>>24,x-=O,(O=P>>>16&255)===0)D[h++]=65535&P;else{if(!(16&O)){if((64&O)==0){P=C[(65535&P)+(_&(1<<O)-1)];continue e}if(32&O){o.mode=12;break t}a.msg="invalid literal/length code",o.mode=30;break t}B=65535&P,(O&=15)&&(x<O&&(_+=v[u++]<<x,x+=8),B+=_&(1<<O)-1,_>>>=O,x-=O),x<15&&(_+=v[u++]<<x,x+=8,_+=v[u++]<<x,x+=8),P=k[_&I];n:for(;;){if(_>>>=O=P>>>24,x-=O,!(16&(O=P>>>16&255))){if((64&O)==0){P=k[(65535&P)+(_&(1<<O)-1)];continue n}a.msg="invalid distance code",o.mode=30;break t}if(z=65535&P,x<(O&=15)&&(_+=v[u++]<<x,(x+=8)<O&&(_+=v[u++]<<x,x+=8)),l<(z+=_&(1<<O)-1)){a.msg="invalid distance too far back",o.mode=30;break t}if(_>>>=O,x-=O,(O=h-m)<z){if(c<(O=z-O)&&o.sane){a.msg="invalid distance too far back",o.mode=30;break t}if(R=b,(E=0)===g){if(E+=p-O,O<B){for(B-=O;D[h++]=b[E++],--O;);E=h-z,R=D}}else if(g<O){if(E+=p+g-O,(O-=g)<B){for(B-=O;D[h++]=b[E++],--O;);if(E=0,g<B){for(B-=O=g;D[h++]=b[E++],--O;);E=h-z,R=D}}}else if(E+=g-O,O<B){for(B-=O;D[h++]=b[E++],--O;);E=h-z,R=D}for(;2<B;)D[h++]=R[E++],D[h++]=R[E++],D[h++]=R[E++],B-=3;B&&(D[h++]=R[E++],1<B&&(D[h++]=R[E++]))}else{for(E=h-z;D[h++]=D[E++],D[h++]=D[E++],D[h++]=D[E++],2<(B-=3););B&&(D[h++]=D[E++],1<B&&(D[h++]=D[E++]))}break}}break}}while(u<f&&h<d);u-=B=x>>3,_&=(1<<(x-=B<<3))-1,a.next_in=u,a.next_out=h,a.avail_in=u<f?f-u+5:5-(u-f),a.avail_out=h<d?d-h+257:257-(h-d),o.hold=_,o.bits=x}},{}],49:[function(n,r,i){var a=n("../utils/common"),s=n("./adler32"),o=n("./crc32"),u=n("./inffast"),f=n("./inftrees"),h=1,m=2,d=0,l=-2,p=1,c=852,g=592;function b(E){return(E>>>24&255)+(E>>>8&65280)+((65280&E)<<8)+((255&E)<<24)}function _(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new a.Buf16(320),this.work=new a.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function x(E){var R;return E&&E.state?(R=E.state,E.total_in=E.total_out=R.total=0,E.msg="",R.wrap&&(E.adler=1&R.wrap),R.mode=p,R.last=0,R.havedict=0,R.dmax=32768,R.head=null,R.hold=0,R.bits=0,R.lencode=R.lendyn=new a.Buf32(c),R.distcode=R.distdyn=new a.Buf32(g),R.sane=1,R.back=-1,d):l}function C(E){var R;return E&&E.state?((R=E.state).wsize=0,R.whave=0,R.wnext=0,x(E)):l}function k(E,R){var v,D;return E&&E.state?(D=E.state,R<0?(v=0,R=-R):(v=1+(R>>4),R<48&&(R&=15)),R&&(R<8||15<R)?l:(D.window!==null&&D.wbits!==R&&(D.window=null),D.wrap=v,D.wbits=R,C(E))):l}function A(E,R){var v,D;return E?(D=new _,(E.state=D).window=null,(v=k(E,R))!==d&&(E.state=null),v):l}var I,P,O=!0;function B(E){if(O){var R;for(I=new a.Buf32(512),P=new a.Buf32(32),R=0;R<144;)E.lens[R++]=8;for(;R<256;)E.lens[R++]=9;for(;R<280;)E.lens[R++]=7;for(;R<288;)E.lens[R++]=8;for(f(h,E.lens,0,288,I,0,E.work,{bits:9}),R=0;R<32;)E.lens[R++]=5;f(m,E.lens,0,32,P,0,E.work,{bits:5}),O=!1}E.lencode=I,E.lenbits=9,E.distcode=P,E.distbits=5}function z(E,R,v,D){var W,V=E.state;return V.window===null&&(V.wsize=1<<V.wbits,V.wnext=0,V.whave=0,V.window=new a.Buf8(V.wsize)),D>=V.wsize?(a.arraySet(V.window,R,v-V.wsize,V.wsize,0),V.wnext=0,V.whave=V.wsize):(D<(W=V.wsize-V.wnext)&&(W=D),a.arraySet(V.window,R,v-D,W,V.wnext),(D-=W)?(a.arraySet(V.window,R,v-D,D,0),V.wnext=D,V.whave=V.wsize):(V.wnext+=W,V.wnext===V.wsize&&(V.wnext=0),V.whave<V.wsize&&(V.whave+=W))),0}i.inflateReset=C,i.inflateReset2=k,i.inflateResetKeep=x,i.inflateInit=function(E){return A(E,15)},i.inflateInit2=A,i.inflate=function(E,R){var v,D,W,V,K,j,et,N,M,ot,rt,Q,wt,St,dt,xt,vt,Ct,Bt,Mt,y,q,F,T,S=0,L=new a.Buf8(4),G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!E||!E.state||!E.output||!E.input&&E.avail_in!==0)return l;(v=E.state).mode===12&&(v.mode=13),K=E.next_out,W=E.output,et=E.avail_out,V=E.next_in,D=E.input,j=E.avail_in,N=v.hold,M=v.bits,ot=j,rt=et,q=d;t:for(;;)switch(v.mode){case p:if(v.wrap===0){v.mode=13;break}for(;M<16;){if(j===0)break t;j--,N+=D[V++]<<M,M+=8}if(2&v.wrap&&N===35615){L[v.check=0]=255&N,L[1]=N>>>8&255,v.check=o(v.check,L,2,0),M=N=0,v.mode=2;break}if(v.flags=0,v.head&&(v.head.done=!1),!(1&v.wrap)||(((255&N)<<8)+(N>>8))%31){E.msg="incorrect header check",v.mode=30;break}if((15&N)!=8){E.msg="unknown compression method",v.mode=30;break}if(M-=4,y=8+(15&(N>>>=4)),v.wbits===0)v.wbits=y;else if(y>v.wbits){E.msg="invalid window size",v.mode=30;break}v.dmax=1<<y,E.adler=v.check=1,v.mode=512&N?10:12,M=N=0;break;case 2:for(;M<16;){if(j===0)break t;j--,N+=D[V++]<<M,M+=8}if(v.flags=N,(255&v.flags)!=8){E.msg="unknown compression method",v.mode=30;break}if(57344&v.flags){E.msg="unknown header flags set",v.mode=30;break}v.head&&(v.head.text=N>>8&1),512&v.flags&&(L[0]=255&N,L[1]=N>>>8&255,v.check=o(v.check,L,2,0)),M=N=0,v.mode=3;case 3:for(;M<32;){if(j===0)break t;j--,N+=D[V++]<<M,M+=8}v.head&&(v.head.time=N),512&v.flags&&(L[0]=255&N,L[1]=N>>>8&255,L[2]=N>>>16&255,L[3]=N>>>24&255,v.check=o(v.check,L,4,0)),M=N=0,v.mode=4;case 4:for(;M<16;){if(j===0)break t;j--,N+=D[V++]<<M,M+=8}v.head&&(v.head.xflags=255&N,v.head.os=N>>8),512&v.flags&&(L[0]=255&N,L[1]=N>>>8&255,v.check=o(v.check,L,2,0)),M=N=0,v.mode=5;case 5:if(1024&v.flags){for(;M<16;){if(j===0)break t;j--,N+=D[V++]<<M,M+=8}v.length=N,v.head&&(v.head.extra_len=N),512&v.flags&&(L[0]=255&N,L[1]=N>>>8&255,v.check=o(v.check,L,2,0)),M=N=0}else v.head&&(v.head.extra=null);v.mode=6;case 6:if(1024&v.flags&&(j<(Q=v.length)&&(Q=j),Q&&(v.head&&(y=v.head.extra_len-v.length,v.head.extra||(v.head.extra=new Array(v.head.extra_len)),a.arraySet(v.head.extra,D,V,Q,y)),512&v.flags&&(v.check=o(v.check,D,Q,V)),j-=Q,V+=Q,v.length-=Q),v.length))break t;v.length=0,v.mode=7;case 7:if(2048&v.flags){if(j===0)break t;for(Q=0;y=D[V+Q++],v.head&&y&&v.length<65536&&(v.head.name+=String.fromCharCode(y)),y&&Q<j;);if(512&v.flags&&(v.check=o(v.check,D,Q,V)),j-=Q,V+=Q,y)break t}else v.head&&(v.head.name=null);v.length=0,v.mode=8;case 8:if(4096&v.flags){if(j===0)break t;for(Q=0;y=D[V+Q++],v.head&&y&&v.length<65536&&(v.head.comment+=String.fromCharCode(y)),y&&Q<j;);if(512&v.flags&&(v.check=o(v.check,D,Q,V)),j-=Q,V+=Q,y)break t}else v.head&&(v.head.comment=null);v.mode=9;case 9:if(512&v.flags){for(;M<16;){if(j===0)break t;j--,N+=D[V++]<<M,M+=8}if(N!==(65535&v.check)){E.msg="header crc mismatch",v.mode=30;break}M=N=0}v.head&&(v.head.hcrc=v.flags>>9&1,v.head.done=!0),E.adler=v.check=0,v.mode=12;break;case 10:for(;M<32;){if(j===0)break t;j--,N+=D[V++]<<M,M+=8}E.adler=v.check=b(N),M=N=0,v.mode=11;case 11:if(v.havedict===0)return E.next_out=K,E.avail_out=et,E.next_in=V,E.avail_in=j,v.hold=N,v.bits=M,2;E.adler=v.check=1,v.mode=12;case 12:if(R===5||R===6)break t;case 13:if(v.last){N>>>=7&M,M-=7&M,v.mode=27;break}for(;M<3;){if(j===0)break t;j--,N+=D[V++]<<M,M+=8}switch(v.last=1&N,M-=1,3&(N>>>=1)){case 0:v.mode=14;break;case 1:if(B(v),v.mode=20,R!==6)break;N>>>=2,M-=2;break t;case 2:v.mode=17;break;case 3:E.msg="invalid block type",v.mode=30}N>>>=2,M-=2;break;case 14:for(N>>>=7&M,M-=7&M;M<32;){if(j===0)break t;j--,N+=D[V++]<<M,M+=8}if((65535&N)!=(N>>>16^65535)){E.msg="invalid stored block lengths",v.mode=30;break}if(v.length=65535&N,M=N=0,v.mode=15,R===6)break t;case 15:v.mode=16;case 16:if(Q=v.length){if(j<Q&&(Q=j),et<Q&&(Q=et),Q===0)break t;a.arraySet(W,D,V,Q,K),j-=Q,V+=Q,et-=Q,K+=Q,v.length-=Q;break}v.mode=12;break;case 17:for(;M<14;){if(j===0)break t;j--,N+=D[V++]<<M,M+=8}if(v.nlen=257+(31&N),N>>>=5,M-=5,v.ndist=1+(31&N),N>>>=5,M-=5,v.ncode=4+(15&N),N>>>=4,M-=4,286<v.nlen||30<v.ndist){E.msg="too many length or distance symbols",v.mode=30;break}v.have=0,v.mode=18;case 18:for(;v.have<v.ncode;){for(;M<3;){if(j===0)break t;j--,N+=D[V++]<<M,M+=8}v.lens[G[v.have++]]=7&N,N>>>=3,M-=3}for(;v.have<19;)v.lens[G[v.have++]]=0;if(v.lencode=v.lendyn,v.lenbits=7,F={bits:v.lenbits},q=f(0,v.lens,0,19,v.lencode,0,v.work,F),v.lenbits=F.bits,q){E.msg="invalid code lengths set",v.mode=30;break}v.have=0,v.mode=19;case 19:for(;v.have<v.nlen+v.ndist;){for(;xt=(S=v.lencode[N&(1<<v.lenbits)-1])>>>16&255,vt=65535&S,!((dt=S>>>24)<=M);){if(j===0)break t;j--,N+=D[V++]<<M,M+=8}if(vt<16)N>>>=dt,M-=dt,v.lens[v.have++]=vt;else{if(vt===16){for(T=dt+2;M<T;){if(j===0)break t;j--,N+=D[V++]<<M,M+=8}if(N>>>=dt,M-=dt,v.have===0){E.msg="invalid bit length repeat",v.mode=30;break}y=v.lens[v.have-1],Q=3+(3&N),N>>>=2,M-=2}else if(vt===17){for(T=dt+3;M<T;){if(j===0)break t;j--,N+=D[V++]<<M,M+=8}M-=dt,y=0,Q=3+(7&(N>>>=dt)),N>>>=3,M-=3}else{for(T=dt+7;M<T;){if(j===0)break t;j--,N+=D[V++]<<M,M+=8}M-=dt,y=0,Q=11+(127&(N>>>=dt)),N>>>=7,M-=7}if(v.have+Q>v.nlen+v.ndist){E.msg="invalid bit length repeat",v.mode=30;break}for(;Q--;)v.lens[v.have++]=y}}if(v.mode===30)break;if(v.lens[256]===0){E.msg="invalid code -- missing end-of-block",v.mode=30;break}if(v.lenbits=9,F={bits:v.lenbits},q=f(h,v.lens,0,v.nlen,v.lencode,0,v.work,F),v.lenbits=F.bits,q){E.msg="invalid literal/lengths set",v.mode=30;break}if(v.distbits=6,v.distcode=v.distdyn,F={bits:v.distbits},q=f(m,v.lens,v.nlen,v.ndist,v.distcode,0,v.work,F),v.distbits=F.bits,q){E.msg="invalid distances set",v.mode=30;break}if(v.mode=20,R===6)break t;case 20:v.mode=21;case 21:if(6<=j&&258<=et){E.next_out=K,E.avail_out=et,E.next_in=V,E.avail_in=j,v.hold=N,v.bits=M,u(E,rt),K=E.next_out,W=E.output,et=E.avail_out,V=E.next_in,D=E.input,j=E.avail_in,N=v.hold,M=v.bits,v.mode===12&&(v.back=-1);break}for(v.back=0;xt=(S=v.lencode[N&(1<<v.lenbits)-1])>>>16&255,vt=65535&S,!((dt=S>>>24)<=M);){if(j===0)break t;j--,N+=D[V++]<<M,M+=8}if(xt&&(240&xt)==0){for(Ct=dt,Bt=xt,Mt=vt;xt=(S=v.lencode[Mt+((N&(1<<Ct+Bt)-1)>>Ct)])>>>16&255,vt=65535&S,!(Ct+(dt=S>>>24)<=M);){if(j===0)break t;j--,N+=D[V++]<<M,M+=8}N>>>=Ct,M-=Ct,v.back+=Ct}if(N>>>=dt,M-=dt,v.back+=dt,v.length=vt,xt===0){v.mode=26;break}if(32&xt){v.back=-1,v.mode=12;break}if(64&xt){E.msg="invalid literal/length code",v.mode=30;break}v.extra=15&xt,v.mode=22;case 22:if(v.extra){for(T=v.extra;M<T;){if(j===0)break t;j--,N+=D[V++]<<M,M+=8}v.length+=N&(1<<v.extra)-1,N>>>=v.extra,M-=v.extra,v.back+=v.extra}v.was=v.length,v.mode=23;case 23:for(;xt=(S=v.distcode[N&(1<<v.distbits)-1])>>>16&255,vt=65535&S,!((dt=S>>>24)<=M);){if(j===0)break t;j--,N+=D[V++]<<M,M+=8}if((240&xt)==0){for(Ct=dt,Bt=xt,Mt=vt;xt=(S=v.distcode[Mt+((N&(1<<Ct+Bt)-1)>>Ct)])>>>16&255,vt=65535&S,!(Ct+(dt=S>>>24)<=M);){if(j===0)break t;j--,N+=D[V++]<<M,M+=8}N>>>=Ct,M-=Ct,v.back+=Ct}if(N>>>=dt,M-=dt,v.back+=dt,64&xt){E.msg="invalid distance code",v.mode=30;break}v.offset=vt,v.extra=15&xt,v.mode=24;case 24:if(v.extra){for(T=v.extra;M<T;){if(j===0)break t;j--,N+=D[V++]<<M,M+=8}v.offset+=N&(1<<v.extra)-1,N>>>=v.extra,M-=v.extra,v.back+=v.extra}if(v.offset>v.dmax){E.msg="invalid distance too far back",v.mode=30;break}v.mode=25;case 25:if(et===0)break t;if(Q=rt-et,v.offset>Q){if((Q=v.offset-Q)>v.whave&&v.sane){E.msg="invalid distance too far back",v.mode=30;break}wt=Q>v.wnext?(Q-=v.wnext,v.wsize-Q):v.wnext-Q,Q>v.length&&(Q=v.length),St=v.window}else St=W,wt=K-v.offset,Q=v.length;for(et<Q&&(Q=et),et-=Q,v.length-=Q;W[K++]=St[wt++],--Q;);v.length===0&&(v.mode=21);break;case 26:if(et===0)break t;W[K++]=v.length,et--,v.mode=21;break;case 27:if(v.wrap){for(;M<32;){if(j===0)break t;j--,N|=D[V++]<<M,M+=8}if(rt-=et,E.total_out+=rt,v.total+=rt,rt&&(E.adler=v.check=v.flags?o(v.check,W,rt,K-rt):s(v.check,W,rt,K-rt)),rt=et,(v.flags?N:b(N))!==v.check){E.msg="incorrect data check",v.mode=30;break}M=N=0}v.mode=28;case 28:if(v.wrap&&v.flags){for(;M<32;){if(j===0)break t;j--,N+=D[V++]<<M,M+=8}if(N!==(4294967295&v.total)){E.msg="incorrect length check",v.mode=30;break}M=N=0}v.mode=29;case 29:q=1;break t;case 30:q=-3;break t;case 31:return-4;case 32:default:return l}return E.next_out=K,E.avail_out=et,E.next_in=V,E.avail_in=j,v.hold=N,v.bits=M,(v.wsize||rt!==E.avail_out&&v.mode<30&&(v.mode<27||R!==4))&&z(E,E.output,E.next_out,rt-E.avail_out)?(v.mode=31,-4):(ot-=E.avail_in,rt-=E.avail_out,E.total_in+=ot,E.total_out+=rt,v.total+=rt,v.wrap&&rt&&(E.adler=v.check=v.flags?o(v.check,W,rt,E.next_out-rt):s(v.check,W,rt,E.next_out-rt)),E.data_type=v.bits+(v.last?64:0)+(v.mode===12?128:0)+(v.mode===20||v.mode===15?256:0),(ot==0&&rt===0||R===4)&&q===d&&(q=-5),q)},i.inflateEnd=function(E){if(!E||!E.state)return l;var R=E.state;return R.window&&(R.window=null),E.state=null,d},i.inflateGetHeader=function(E,R){var v;return E&&E.state?(2&(v=E.state).wrap)==0?l:((v.head=R).done=!1,d):l},i.inflateSetDictionary=function(E,R){var v,D=R.length;return E&&E.state?(v=E.state).wrap!==0&&v.mode!==11?l:v.mode===11&&s(1,R,D,0)!==v.check?-3:z(E,R,D,D)?(v.mode=31,-4):(v.havedict=1,d):l},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var a=n("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],u=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(h,m,d,l,p,c,g,b){var _,x,C,k,A,I,P,O,B,z=b.bits,E=0,R=0,v=0,D=0,W=0,V=0,K=0,j=0,et=0,N=0,M=null,ot=0,rt=new a.Buf16(16),Q=new a.Buf16(16),wt=null,St=0;for(E=0;E<=15;E++)rt[E]=0;for(R=0;R<l;R++)rt[m[d+R]]++;for(W=z,D=15;1<=D&&rt[D]===0;D--);if(D<W&&(W=D),D===0)return p[c++]=20971520,p[c++]=20971520,b.bits=1,0;for(v=1;v<D&&rt[v]===0;v++);for(W<v&&(W=v),E=j=1;E<=15;E++)if(j<<=1,(j-=rt[E])<0)return-1;if(0<j&&(h===0||D!==1))return-1;for(Q[1]=0,E=1;E<15;E++)Q[E+1]=Q[E]+rt[E];for(R=0;R<l;R++)m[d+R]!==0&&(g[Q[m[d+R]]++]=R);if(I=h===0?(M=wt=g,19):h===1?(M=s,ot-=257,wt=o,St-=257,256):(M=u,wt=f,-1),E=v,A=c,K=R=N=0,C=-1,k=(et=1<<(V=W))-1,h===1&&852<et||h===2&&592<et)return 1;for(;;){for(P=E-K,B=g[R]<I?(O=0,g[R]):g[R]>I?(O=wt[St+g[R]],M[ot+g[R]]):(O=96,0),_=1<<E-K,v=x=1<<V;p[A+(N>>K)+(x-=_)]=P<<24|O<<16|B|0,x!==0;);for(_=1<<E-1;N&_;)_>>=1;if(_!==0?(N&=_-1,N+=_):N=0,R++,--rt[E]==0){if(E===D)break;E=m[d+g[R]]}if(W<E&&(N&k)!==C){for(K===0&&(K=W),A+=v,j=1<<(V=E-K);V+K<D&&!((j-=rt[V+K])<=0);)V++,j<<=1;if(et+=1<<V,h===1&&852<et||h===2&&592<et)return 1;p[C=N&k]=W<<24|V<<16|A-c|0}}return N!==0&&(p[A+N]=E-K<<24|64<<16|0),b.bits=W,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var a=n("../utils/common"),s=0,o=1;function u(S){for(var L=S.length;0<=--L;)S[L]=0}var f=0,h=29,m=256,d=m+1+h,l=30,p=19,c=2*d+1,g=15,b=16,_=7,x=256,C=16,k=17,A=18,I=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],P=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],O=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],z=new Array(2*(d+2));u(z);var E=new Array(2*l);u(E);var R=new Array(512);u(R);var v=new Array(256);u(v);var D=new Array(h);u(D);var W,V,K,j=new Array(l);function et(S,L,G,Y,H){this.static_tree=S,this.extra_bits=L,this.extra_base=G,this.elems=Y,this.max_length=H,this.has_stree=S&&S.length}function N(S,L){this.dyn_tree=S,this.max_code=0,this.stat_desc=L}function M(S){return S<256?R[S]:R[256+(S>>>7)]}function ot(S,L){S.pending_buf[S.pending++]=255&L,S.pending_buf[S.pending++]=L>>>8&255}function rt(S,L,G){S.bi_valid>b-G?(S.bi_buf|=L<<S.bi_valid&65535,ot(S,S.bi_buf),S.bi_buf=L>>b-S.bi_valid,S.bi_valid+=G-b):(S.bi_buf|=L<<S.bi_valid&65535,S.bi_valid+=G)}function Q(S,L,G){rt(S,G[2*L],G[2*L+1])}function wt(S,L){for(var G=0;G|=1&S,S>>>=1,G<<=1,0<--L;);return G>>>1}function St(S,L,G){var Y,H,it=new Array(g+1),lt=0;for(Y=1;Y<=g;Y++)it[Y]=lt=lt+G[Y-1]<<1;for(H=0;H<=L;H++){var st=S[2*H+1];st!==0&&(S[2*H]=wt(it[st]++,st))}}function dt(S){var L;for(L=0;L<d;L++)S.dyn_ltree[2*L]=0;for(L=0;L<l;L++)S.dyn_dtree[2*L]=0;for(L=0;L<p;L++)S.bl_tree[2*L]=0;S.dyn_ltree[2*x]=1,S.opt_len=S.static_len=0,S.last_lit=S.matches=0}function xt(S){8<S.bi_valid?ot(S,S.bi_buf):0<S.bi_valid&&(S.pending_buf[S.pending++]=S.bi_buf),S.bi_buf=0,S.bi_valid=0}function vt(S,L,G,Y){var H=2*L,it=2*G;return S[H]<S[it]||S[H]===S[it]&&Y[L]<=Y[G]}function Ct(S,L,G){for(var Y=S.heap[G],H=G<<1;H<=S.heap_len&&(H<S.heap_len&&vt(L,S.heap[H+1],S.heap[H],S.depth)&&H++,!vt(L,Y,S.heap[H],S.depth));)S.heap[G]=S.heap[H],G=H,H<<=1;S.heap[G]=Y}function Bt(S,L,G){var Y,H,it,lt,st=0;if(S.last_lit!==0)for(;Y=S.pending_buf[S.d_buf+2*st]<<8|S.pending_buf[S.d_buf+2*st+1],H=S.pending_buf[S.l_buf+st],st++,Y===0?Q(S,H,L):(Q(S,(it=v[H])+m+1,L),(lt=I[it])!==0&&rt(S,H-=D[it],lt),Q(S,it=M(--Y),G),(lt=P[it])!==0&&rt(S,Y-=j[it],lt)),st<S.last_lit;);Q(S,x,L)}function Mt(S,L){var G,Y,H,it=L.dyn_tree,lt=L.stat_desc.static_tree,st=L.stat_desc.has_stree,ut=L.stat_desc.elems,Ft=-1;for(S.heap_len=0,S.heap_max=c,G=0;G<ut;G++)it[2*G]!==0?(S.heap[++S.heap_len]=Ft=G,S.depth[G]=0):it[2*G+1]=0;for(;S.heap_len<2;)it[2*(H=S.heap[++S.heap_len]=Ft<2?++Ft:0)]=1,S.depth[H]=0,S.opt_len--,st&&(S.static_len-=lt[2*H+1]);for(L.max_code=Ft,G=S.heap_len>>1;1<=G;G--)Ct(S,it,G);for(H=ut;G=S.heap[1],S.heap[1]=S.heap[S.heap_len--],Ct(S,it,1),Y=S.heap[1],S.heap[--S.heap_max]=G,S.heap[--S.heap_max]=Y,it[2*H]=it[2*G]+it[2*Y],S.depth[H]=(S.depth[G]>=S.depth[Y]?S.depth[G]:S.depth[Y])+1,it[2*G+1]=it[2*Y+1]=H,S.heap[1]=H++,Ct(S,it,1),2<=S.heap_len;);S.heap[--S.heap_max]=S.heap[1],function(It,Jt){var be,le,Se,jt,hn,vn,ce=Jt.dyn_tree,pn=Jt.max_code,vr=Jt.stat_desc.static_tree,qn=Jt.stat_desc.has_stree,Gn=Jt.stat_desc.extra_bits,Lt=Jt.stat_desc.extra_base,Zt=Jt.stat_desc.max_length,ie=0;for(jt=0;jt<=g;jt++)It.bl_count[jt]=0;for(ce[2*It.heap[It.heap_max]+1]=0,be=It.heap_max+1;be<c;be++)Zt<(jt=ce[2*ce[2*(le=It.heap[be])+1]+1]+1)&&(jt=Zt,ie++),ce[2*le+1]=jt,pn<le||(It.bl_count[jt]++,hn=0,Lt<=le&&(hn=Gn[le-Lt]),vn=ce[2*le],It.opt_len+=vn*(jt+hn),qn&&(It.static_len+=vn*(vr[2*le+1]+hn)));if(ie!==0){do{for(jt=Zt-1;It.bl_count[jt]===0;)jt--;It.bl_count[jt]--,It.bl_count[jt+1]+=2,It.bl_count[Zt]--,ie-=2}while(0<ie);for(jt=Zt;jt!==0;jt--)for(le=It.bl_count[jt];le!==0;)pn<(Se=It.heap[--be])||(ce[2*Se+1]!==jt&&(It.opt_len+=(jt-ce[2*Se+1])*ce[2*Se],ce[2*Se+1]=jt),le--)}}(S,L),St(it,Ft,S.bl_count)}function y(S,L,G){var Y,H,it=-1,lt=L[1],st=0,ut=7,Ft=4;for(lt===0&&(ut=138,Ft=3),L[2*(G+1)+1]=65535,Y=0;Y<=G;Y++)H=lt,lt=L[2*(Y+1)+1],++st<ut&&H===lt||(st<Ft?S.bl_tree[2*H]+=st:H!==0?(H!==it&&S.bl_tree[2*H]++,S.bl_tree[2*C]++):st<=10?S.bl_tree[2*k]++:S.bl_tree[2*A]++,it=H,Ft=(st=0)===lt?(ut=138,3):H===lt?(ut=6,3):(ut=7,4))}function q(S,L,G){var Y,H,it=-1,lt=L[1],st=0,ut=7,Ft=4;for(lt===0&&(ut=138,Ft=3),Y=0;Y<=G;Y++)if(H=lt,lt=L[2*(Y+1)+1],!(++st<ut&&H===lt)){if(st<Ft)for(;Q(S,H,S.bl_tree),--st!=0;);else H!==0?(H!==it&&(Q(S,H,S.bl_tree),st--),Q(S,C,S.bl_tree),rt(S,st-3,2)):st<=10?(Q(S,k,S.bl_tree),rt(S,st-3,3)):(Q(S,A,S.bl_tree),rt(S,st-11,7));it=H,Ft=(st=0)===lt?(ut=138,3):H===lt?(ut=6,3):(ut=7,4)}}u(j);var F=!1;function T(S,L,G,Y){rt(S,(f<<1)+(Y?1:0),3),function(H,it,lt,st){xt(H),ot(H,lt),ot(H,~lt),a.arraySet(H.pending_buf,H.window,it,lt,H.pending),H.pending+=lt}(S,L,G)}i._tr_init=function(S){F||(function(){var L,G,Y,H,it,lt=new Array(g+1);for(H=Y=0;H<h-1;H++)for(D[H]=Y,L=0;L<1<<I[H];L++)v[Y++]=H;for(v[Y-1]=H,H=it=0;H<16;H++)for(j[H]=it,L=0;L<1<<P[H];L++)R[it++]=H;for(it>>=7;H<l;H++)for(j[H]=it<<7,L=0;L<1<<P[H]-7;L++)R[256+it++]=H;for(G=0;G<=g;G++)lt[G]=0;for(L=0;L<=143;)z[2*L+1]=8,L++,lt[8]++;for(;L<=255;)z[2*L+1]=9,L++,lt[9]++;for(;L<=279;)z[2*L+1]=7,L++,lt[7]++;for(;L<=287;)z[2*L+1]=8,L++,lt[8]++;for(St(z,d+1,lt),L=0;L<l;L++)E[2*L+1]=5,E[2*L]=wt(L,5);W=new et(z,I,m+1,d,g),V=new et(E,P,0,l,g),K=new et(new Array(0),O,0,p,_)}(),F=!0),S.l_desc=new N(S.dyn_ltree,W),S.d_desc=new N(S.dyn_dtree,V),S.bl_desc=new N(S.bl_tree,K),S.bi_buf=0,S.bi_valid=0,dt(S)},i._tr_stored_block=T,i._tr_flush_block=function(S,L,G,Y){var H,it,lt=0;0<S.level?(S.strm.data_type===2&&(S.strm.data_type=function(st){var ut,Ft=4093624447;for(ut=0;ut<=31;ut++,Ft>>>=1)if(1&Ft&&st.dyn_ltree[2*ut]!==0)return s;if(st.dyn_ltree[18]!==0||st.dyn_ltree[20]!==0||st.dyn_ltree[26]!==0)return o;for(ut=32;ut<m;ut++)if(st.dyn_ltree[2*ut]!==0)return o;return s}(S)),Mt(S,S.l_desc),Mt(S,S.d_desc),lt=function(st){var ut;for(y(st,st.dyn_ltree,st.l_desc.max_code),y(st,st.dyn_dtree,st.d_desc.max_code),Mt(st,st.bl_desc),ut=p-1;3<=ut&&st.bl_tree[2*B[ut]+1]===0;ut--);return st.opt_len+=3*(ut+1)+5+5+4,ut}(S),H=S.opt_len+3+7>>>3,(it=S.static_len+3+7>>>3)<=H&&(H=it)):H=it=G+5,G+4<=H&&L!==-1?T(S,L,G,Y):S.strategy===4||it===H?(rt(S,2+(Y?1:0),3),Bt(S,z,E)):(rt(S,4+(Y?1:0),3),function(st,ut,Ft,It){var Jt;for(rt(st,ut-257,5),rt(st,Ft-1,5),rt(st,It-4,4),Jt=0;Jt<It;Jt++)rt(st,st.bl_tree[2*B[Jt]+1],3);q(st,st.dyn_ltree,ut-1),q(st,st.dyn_dtree,Ft-1)}(S,S.l_desc.max_code+1,S.d_desc.max_code+1,lt+1),Bt(S,S.dyn_ltree,S.dyn_dtree)),dt(S),Y&&xt(S)},i._tr_tally=function(S,L,G){return S.pending_buf[S.d_buf+2*S.last_lit]=L>>>8&255,S.pending_buf[S.d_buf+2*S.last_lit+1]=255&L,S.pending_buf[S.l_buf+S.last_lit]=255&G,S.last_lit++,L===0?S.dyn_ltree[2*G]++:(S.matches++,L--,S.dyn_ltree[2*(v[G]+m+1)]++,S.dyn_dtree[2*M(L)]++),S.last_lit===S.lit_bufsize-1},i._tr_align=function(S){rt(S,2,3),Q(S,x,z),function(L){L.bi_valid===16?(ot(L,L.bi_buf),L.bi_buf=0,L.bi_valid=0):8<=L.bi_valid&&(L.pending_buf[L.pending++]=255&L.bi_buf,L.bi_buf>>=8,L.bi_valid-=8)}(S)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(a){(function(s,o){if(!s.setImmediate){var u,f,h,m,d=1,l={},p=!1,c=s.document,g=Object.getPrototypeOf&&Object.getPrototypeOf(s);g=g&&g.setTimeout?g:s,u={}.toString.call(s.process)==="[object process]"?function(C){process.nextTick(function(){_(C)})}:function(){if(s.postMessage&&!s.importScripts){var C=!0,k=s.onmessage;return s.onmessage=function(){C=!1},s.postMessage("","*"),s.onmessage=k,C}}()?(m="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",x,!1):s.attachEvent("onmessage",x),function(C){s.postMessage(m+C,"*")}):s.MessageChannel?((h=new MessageChannel).port1.onmessage=function(C){_(C.data)},function(C){h.port2.postMessage(C)}):c&&"onreadystatechange"in c.createElement("script")?(f=c.documentElement,function(C){var k=c.createElement("script");k.onreadystatechange=function(){_(C),k.onreadystatechange=null,f.removeChild(k),k=null},f.appendChild(k)}):function(C){setTimeout(_,0,C)},g.setImmediate=function(C){typeof C!="function"&&(C=new Function(""+C));for(var k=new Array(arguments.length-1),A=0;A<k.length;A++)k[A]=arguments[A+1];var I={callback:C,args:k};return l[d]=I,u(d),d++},g.clearImmediate=b}function b(C){delete l[C]}function _(C){if(p)setTimeout(_,0,C);else{var k=l[C];if(k){p=!0;try{(function(A){var I=A.callback,P=A.args;switch(P.length){case 0:I();break;case 1:I(P[0]);break;case 2:I(P[0],P[1]);break;case 3:I(P[0],P[1],P[2]);break;default:I.apply(o,P)}})(k)}finally{b(C),p=!1}}}}function x(C){C.source===s&&typeof C.data=="string"&&C.data.indexOf(m)===0&&_(+C.data.slice(m.length))}})(typeof self>"u"?a===void 0?this:a:self)}).call(this,typeof ei<"u"?ei:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(Ia)),Ia.exports}var lm=om();const cm=ur(lm),um=(t,e,n,r,i)=>{const{frames:a}=Nr,s=Math.floor(e()/a)*a,o=`${[...Array(3)].map(()=>of(0,4).toString(16).padStart(2,"0")).join("")}`,u=new sm({workers:2,quality:10,width:n.width,height:n.height,workerScript:"node_modules/gif.js/dist/gif.worker.js",transparent:`0x${o}`}),f=1e3/w(r)|0;for(let h=0;h<a;h++){const m=document.createElement("canvas");m.width=n.width,m.height=n.height;const d=m.getContext("2d",{willReadFrequently:!0});if(!d)return;d.fillStyle=`#${o}`,d.fillRect(0,0,n.width,n.height);const l=Ge.get(s+h);l&&d.drawImage(l,0,0),u.addFrame(m,{delay:f})}u.on("finished",h=>{const m=URL.createObjectURL(h);i(m,`frames_${s+1}.gif`)}),u.render()};var dm=(t,e)=>{nt(e,!1)},fm=(t,e)=>{const{value:n}=t.currentTarget,r=Number(n);nt(e,r,!0)},hm=ft("<option> </option>"),vm=ft('<header class="flex justify-between"><p class="font-bold text-xl">歩行グラの出力</p> <button class="btn-icon hover:preset-tonal"><!></button></header> <article class="space-y-4"><p class="opacity-60">ダウンロードします</p> <div class="pt-2"><button type="button" class="w-full px-4 py-2 rounded-lg bg-blue-500 text-white hover:bg-blue-600 transition" aria-label="submit">PNG出力</button></div> <div class="pt-2"><button type="button" class="w-full px-4 py-2 rounded-lg bg-gray-500 text-white hover:bg-gray-600 transition" aria-label="submit">Zip出力</button></div> <label class="flex flex-col"><span class="label-text font-medium">フレームレート</span> <select class="select select-bordered w-full bg-white"></select></label> <div class="pt-2"><button type="button" class="w-full px-4 py-2 rounded-lg bg-gray-500 text-white hover:bg-gray-600 transition" aria-label="submit">GIF出力</button></div></article>',1);function pm(t,e){yt(e,!0);const[n,r]=Bi(),i=()=>Pr(ir,"$activeIndex",n),a=new cm;let s=bt(!1);const o=(d,l)=>{const p=document.createElement("a");p.href=d,p.download=l,p.click()},u=()=>{const{width:d,height:l,frames:p,ways:c}=Nr,g=document.createElement("canvas");g.width=d*p,g.height=l*c;const b=g.getContext("2d");if(!b)return;b.imageSmoothingEnabled=!1;for(let x=0;x<c;x++)for(let C=0;C<p;C++){const k=He(C,x),A=Ge.get(k);A&&b.drawImage(A,0,0,A.width,A.height,C*d,x*l,d,l)}const _=g.toDataURL("image/png");o(_,"sprite_sheet.png")},f=()=>{const{width:d,height:l,frames:p,ways:c}=Nr;for(let g=0;g<c;g++)for(let b=0;b<p;b++){const _=He(b,g),x=Ge.get(_);if(!x)continue;const C=document.createElement("canvas");C.width=d,C.height=l;const k=C.getContext("2d");if(!k)continue;k.imageSmoothingEnabled=!1,k.drawImage(x,0,0,x.width,x.height,0,0,d,l);const I=C.toDataURL("image/png").split(",")[1];a.file(`frame_${g+1}_${b+1}.png`,I,{base64:!0})}a.generateAsync({type:"blob"}).then(g=>{const b=document.createElement("a");b.href=URL.createObjectURL(g),b.download="frames.zip",b.click()})},h=[2,3,4,5,6,7,8];let m=bt(2);ra(t,{get open(){return w(s)},onOpenChange:p=>nt(s,p.open,!0),positioning:{placement:"top"},triggerBase:"btn preset-tonal",contentBase:"card bg-surface-300 p-4 space-y-4 max-w-[320px]",arrow:!0,arrowBackground:"!bg-surface-300 dark:!bg-surface-800",trigger:p=>{ke();var c=qr("出力");J(p,c)},content:p=>{var c=vm(),g=ht(c),b=X(Z(g),2);b.__click=[dm,s];var _=Z(b);Ui(_,{}),$(b),$(g);var x=X(g,2),C=X(Z(x),2),k=Z(C);k.__click=u,$(C);var A=X(C,2),I=Z(A);I.__click=f,$(A);var P=X(A,2),O=X(Z(P),2);O.__change=[fm,m],fe(O,21,()=>h,de,(E,R)=>{var v=hm(),D={},W=Z(v);$(v),Ot(()=>{D!==(D=w(R))&&(v.value=(v.__value=w(R))??""),oe(W,`${w(R)??""}fps`)}),J(E,v)}),$(O),$(P);var B=X(P,2),z=Z(B);z.__click=[um,i,e,m,o],$(B),$(x),J(p,c)},$$slots:{trigger:!0,content:!0}}),_t(),r()}me(["click","change"]);function gm(t,e){var r,i;const n=(i=(r=t.target)==null?void 0:r.files)==null?void 0:i[0];if(n){const a=new FileReader;a.onload=()=>{nt(e,a.result,!0)},a.readAsDataURL(n)}}var mm=(t,e)=>{nt(e,!1)},bm=(t,e,n)=>{const r=e.find(i=>i.label===t.currentTarget.value);r&&nt(n,r.url,!0)},ym=ft("<option> </option>"),_m=ft('<div class="mt-4 max-h-96 overflow-auto border rounded p-2"><img alt="インポート画像" class="max-w-96 object-contain rounded border" crossorigin="anonymous"/></div>'),wm=ft('<header class="flex justify-between"><p class="font-bold text-xl">歩行グラの読み込み</p> <button class="btn-icon hover:preset-tonal"><!></button></header> <article class="space-y-4"><p class="opacity-60">先にリサイズしてください</p> <a href="https://github.com/rpgja/rpgen-walk/tree/main?tab=readme-ov-file#%E5%90%8C%E6%A2%B1%E7%B4%A0%E6%9D%90%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6--about-included-assets" target="_blank" rel="noopener noreferrer" class="text-blue-800 hover:underline">同梱素材の利用規約はこちら</a> <label class="flex flex-col"><span class="label-text font-medium">テンプレ</span> <select class="select select-bordered w-full bg-white"><option>自動入力</option><!></select></label> <div class="relative flex-1"><input name="url" type="url" placeholder="画像のURLを入力" class="input input-bordered w-full pr-8 bg-white"/> <!></div> <div><label class="label"><span class="label-text">ローカル保存ファイルから読み込む</span> <input class="input" type="file" accept="image/*"/></label></div> <!> <div class="flex items-center gap-4 max-w-[360px]"><div class="w-[20ch] flex justify-between font-mono text-sm tabular-nums"><span class="text-left">不透明度</span> <span class="text-right"> </span></div> <!></div> <label class="flex items-center space-x-2"><input class="checkbox" type="checkbox"/> <p>トレース台を追加する</p></label> <div class="pt-2"><button type="button" class="btn btn-primary w-full bg-blue-500 text-white rounded hover:bg-blue-600" aria-label="submit">読み込む</button></div></article>',1);function xm(t,e){yt(e,!0);let n=U(e,"activeLayer",15),r=U(e,"initTimestamp",15),i=bt(!1),a=bt(""),s=bt(void 0),o,u=bt(Xt([100])),f=bt(!1);const h=async()=>{if(!w(a)||!w(s)||w(s).naturalWidth===0||!confirm("歩行グラを読み込みますか？（※全てのデータは失われます）"))return;e.init();const d=Va(),{width:l,height:p,frames:c,ways:g}=Nr,b=document.createElement("canvas");b.width=l*c,b.height=p*g;const _=b.getContext("2d");if(!_)return;_.drawImage(w(s),0,0);const{data:x}=_.getImageData(0,0,b.width,b.height);for(let k=0;k<g;k++)for(let A=0;A<c;A++){const I=new cn("素材の味");I.opacity=w(u)[0];const P=l*c;for(let R=0;R<p;R++)for(let v=0;v<l;v++){const D=A*l+v,V=((k*p+R)*P+D)*4,[K,j,et,N]=x.subarray(V,V+4);N&&(Mn.value=`rgba(${K}, ${j}, ${et}, ${N/255})`,I.drawByDot(v*d,R*d),I.used=!0)}I.trace();const O=He(A,k),B=[I];w(f)&&B.push(new cn("トレース台")),lr.set(O,B);const z=Cr();Ge.set(O,z);const E=z.toDataURL("image/png");Dr.set(O,E),Fr([])}const C=lr.get(0);C&&(Fr(C),n(C[C.length-1]),r(performance.now()))},m=[{label:"鍵山雛",url:"https://rpgen.cc/dq/sAnims/res/1920.png"},{label:"ドレミー",url:"https://rpgen.cc/dq/sAnims/res/1919.png"},{label:"八雲紫",url:"https://rpgen.cc/dq/sAnims/res/1282.png"},{label:"天子",url:"https://rpgen.cc/dq/sAnims/res/1891.png"},{label:"純狐",url:"https://rpgen.cc/dq/sAnims/res/1894.png"},{label:"ヘカーティア",url:"https://rpgen.cc/dq/sAnims/res/1884.png"},{label:"妹紅",url:"https://rpgen.cc/dq/sAnims/res/1874.png"},{label:"小鈴",url:"https://rpgen.cc/dq/sAnims/res/1526.png"},{label:"阿求",url:"https://rpgen.cc/dq/sAnims/res/1527.png"},{label:"マミゾウ",url:"https://rpgen.cc/dq/sAnims/res/1882.png"}];ra(t,{get open(){return w(i)},onOpenChange:p=>nt(i,p.open,!0),positioning:{placement:"top"},triggerBase:"btn preset-tonal",contentBase:"card bg-surface-300 p-4 space-y-4 max-w-[320px]",arrow:!0,arrowBackground:"!bg-surface-300 dark:!bg-surface-800",trigger:p=>{ke();var c=qr("読み込み");J(p,c)},content:p=>{var c=wm(),g=ht(c),b=X(Z(g),2);b.__click=[mm,i];var _=Z(b);Ui(_,{}),$(b),$(g);var x=X(g,2),C=X(Z(x),4),k=X(Z(C),2);k.__change=[bm,m,a];var A=Z(k);A.value=A.__value="";var I=X(A);fe(I,17,()=>m,de,(Q,wt)=>{var St=ym(),dt={},xt=Z(St,!0);$(St),Ot(()=>{dt!==(dt=w(wt).label)&&(St.value=(St.__value=w(wt).label)??""),oe(xt,w(wt).label)}),J(Q,St)}),$(k),$(C);var P=X(C,2),O=Z(P);qt(O);var B=X(O,2);_i(B,{class:"absolute right-2 top-2.5 text-gray-400",size:16,onclick:()=>{nt(a,"")}}),$(P);var z=X(P,2),E=Z(z),R=X(Z(E),2);R.__change=[gm,a],Pe(R,Q=>o=Q,()=>o),$(E),$(z);var v=X(z,2);{var D=Q=>{var wt=_m(),St=Z(wt);Pe(St,dt=>nt(s,dt),()=>w(s)),$(wt),Ot(dt=>Ut(St,"src",dt),[()=>w(a).startsWith("http")?`https://api.allorigins.win/raw?url=${w(a)}`:w(a)]),J(Q,wt)};Dt(v,Q=>{w(a)&&Q(D)})}var W=X(v,2),V=Z(W),K=X(Z(V),2),j=Z(K);$(K),$(V);var et=X(V,2);Ic(et,{get value(){return w(u)},onValueChange:Q=>nt(u,Q.value,!0),markers:[25,50,75]}),$(W);var N=X(W,2),M=Z(N);qt(M),ke(2),$(N);var ot=X(N,2),rt=Z(ot);rt.__click=h,$(ot),$(x),Ot(()=>oe(j,`${w(u)??""}%`)),xn(O,()=>w(a),Q=>nt(a,Q)),Bl(M,()=>w(f),Q=>nt(f,Q)),J(p,c)},$$slots:{trigger:!0,content:!0}}),_t()}me(["click","change"]);function km(t,e){var r,i;const n=(i=(r=t.target)==null?void 0:r.files)==null?void 0:i[0];if(n){const a=new FileReader;a.onload=()=>{nt(e,a.result,!0)},a.readAsDataURL(n)}}var Em=(t,e,n)=>{const r=e.find(i=>i.label===t.currentTarget.value);r&&nt(n,r.url,!0)},Cm=ft("<option> </option>"),Sm=ft('<div class="mt-4 max-h-96 overflow-auto border rounded p-2"><img alt="模写用" class="w-full max-w-96 object-contain rounded border"/></div>'),Tm=ft('<div class="space-y-4 p-4 bg-surface-100 rounded-xl"><h2 class="text-lg font-semibold">模写用</h2> <label class="flex flex-col"><span class="label-text font-medium">テンプレ</span> <select class="select select-bordered w-full bg-white"><option>自動入力</option><!></select></label> <div class="relative flex-1"><input name="url" type="url" placeholder="画像のURLを入力" class="input input-bordered w-full pr-8 bg-white"/> <!></div> <div><label class="label"><span class="label-text">ローカル保存ファイルから読み込む</span> <input class="input" type="file" accept="image/*"/></label></div> <!></div>');function Im(t,e){yt(e,!0);let n=bt(""),r;const i=[{label:"鍵山雛",url:"https://i.imgur.com/Wd713Fe.png"},{label:"ドレミー",url:"https://i.imgur.com/vENwj1P.png"},{label:"八雲紫",url:"https://i.imgur.com/OLpXzvs.png"},{label:"カナ",url:"https://i.imgur.com/rgekbAz.png"}];var a=Tm(),s=X(Z(a),2),o=X(Z(s),2);o.__change=[Em,i,n];var u=Z(o);u.value=u.__value="";var f=X(u);fe(f,17,()=>i,de,(_,x)=>{var C=Cm(),k={},A=Z(C,!0);$(C),Ot(()=>{k!==(k=w(x).label)&&(C.value=(C.__value=w(x).label)??""),oe(A,w(x).label)}),J(_,C)}),$(o),$(s);var h=X(s,2),m=Z(h);qt(m);var d=X(m,2);_i(d,{class:"absolute right-2 top-2.5 text-gray-400",size:16,onclick:()=>{nt(n,"")}}),$(h);var l=X(h,2),p=Z(l),c=X(Z(p),2);c.__change=[km,n],Pe(c,_=>r=_,()=>r),$(p),$(l);var g=X(l,2);{var b=_=>{var x=Sm(),C=Z(x);$(x),Ot(()=>Ut(C,"src",w(n))),J(_,x)};Dt(g,_=>{w(n)&&_(b)})}$(a),xn(m,()=>w(n),_=>nt(n,_)),J(t,a),_t()}me(["change"]);const Am=(t,e,n)=>{e(new cn(`レイヤー #${w(n).length+1}`))};var Om=()=>{},Rm=(t,e,n)=>{e(w(n))},Pm=(t,e,n)=>e(w(n)),Lm=(t,e,n)=>e(w(n)),Dm=ft('<li><div tabindex="0" role="button" class="flex flex-grow items-center space-x-2"><div class="gimp-checkered-background relative w-8 h-8 rounded overflow-hidden"><div class="w-full h-full bg-center bg-cover"></div></div> <div><p class="text-sm font-medium truncate max-w-[128px]"> </p> <div class="flex items-center text-xs text-gray-500 space-x-1"><!> <!> <span> </span></div></div></div> <div class="flex space-x-1"><button class="p-1 text-gray-500 hover:text-blue-500"><!></button> <button class="p-1 text-gray-500 hover:text-blue-500"><!></button></div></li>'),Nm=ft('<div class="p-4 bg-white rounded shadow-md w-full max-w-md mx-auto max-h-[50vh] flex flex-col"><div class="flex items-center text-xs text-gray-500"><!> 最背面</div> <ul class="divide-y divide-gray-200 overflow-auto flex-1 min-h-0"></ul> <div class="flex items-center text-xs text-gray-500"><!> 最前面</div> <button class="flex items-center justify-center py-1 bg-blue-500 text-white rounded hover:bg-blue-600"><!> レイヤー追加</button></div>');function Fm(t,e){yt(e,!0);let n=U(e,"activeLayer",15,void 0),r=bt(Xt([]));Vt(()=>{n()&&nt(r,Er(),!0)});const i=p=>{const{prev:c}=p;c&&(p.swap(c.index),nt(r,Er(),!0))},a=p=>{const{next:c}=p;c&&(p.swap(c.index),nt(r,Er(),!0))};var s=Nm(),o=Z(s),u=Z(o);Nn(u,{class:"w-4 h-4 mr-1"}),ke(),$(o);var f=X(o,2);fe(f,21,()=>w(r),de,(p,c)=>{var g=Et(),b=ht(g);ui(b,()=>n()===w(c)?e.pointerupTimestamp:"noop",_=>{var x=Dm(),C=Z(x);C.__keydown=[Om],C.__click=[Rm,n,c];var k=Z(C),A=Z(k);$(k);var I=X(k,2),P=Z(I),O=Z(P,!0);$(P);var B=X(P,2),z=Z(B);{var E=rt=>{Ya(rt,{class:"w-3 h-3"})},R=rt=>{kd(rt,{class:"w-3 h-3"})};Dt(z,rt=>{w(c).locked?rt(E):rt(R,!1)})}var v=X(z,2);{var D=rt=>{Xa(rt,{class:"w-3 h-3"})},W=rt=>{yd(rt,{class:"w-3 h-3"})};Dt(v,rt=>{w(c).visible?rt(D):rt(W,!1)})}var V=X(v,2),K=Z(V);$(V),$(B),$(I),$(C);var j=X(C,2),et=Z(j);et.__click=[Pm,a,c];var N=Z(et);Ka(N,{class:"w-4 h-4"}),$(et);var M=X(et,2);M.__click=[Lm,i,c];var ot=Z(M);Nn(ot,{class:"w-4 h-4"}),$(M),$(j),$(x),Ot(rt=>{ne(x,1,`flex items-center justify-between p-2 cursor-pointer ${n()===w(c)?"bg-blue-100":"hover:bg-gray-100"}`),je(A,`background-image: url(${rt??""});`),oe(O,w(c).name),oe(K,`${w(c).opacity??""}%`)},[()=>w(c).used?w(c).canvas.toDataURL("image/png"):"https://placehold.co/32x32?text=new"]),J(_,x)}),J(p,g)}),$(f);var h=X(f,2),m=Z(h);Ka(m,{class:"w-4 h-4 mr-1"}),ke(),$(h);var d=X(h,2);d.__click=[Am,n,r];var l=Z(d);Ad(l,{class:"w-4 h-4 mr-2"}),ke(),$(d),$(s),J(t,s),_t()}me(["keydown","click"]);var zm=(t,e)=>{nt(e,!1)},Bm=ft('<header class="flex justify-between"><p class="font-bold text-xl">操作方法</p> <button class="btn-icon hover:preset-tonal"><!></button></header> <article class="opacity-60"><p>右クリック：カラーピッカー</p> <p>Ctrl + 1：ペン</p> <p>Ctrl + 2：消しゴム</p> <p>Ctrl + 3：カラーピッカー</p> <p>Ctrl + 4：塗りつぶし</p> <p>Ctrl + 5：ハンドツール</p> <p>Ctrl + E：常に消しゴム</p> <p>Ctrl + F：左右反転</p> <p>Ctrl + G：グリッド表示</p> <p>Ctrl + D：ダークモード</p> <p>Ctrl + O：オニオンスキン</p> <p>Ctrl + Z：戻す</p> <p>Ctrl + Shift + Z：やり直す</p> <p>Ctrl + S：保存</p> <p>Ctrl + C：コピー</p> <p>Ctrl + V：貼り付け</p> <p>モニターサイズは24インチ以上推奨</p></article>',1);function Mm(t){let e=bt(!1);ra(t,{get open(){return w(e)},onOpenChange:i=>nt(e,i.open,!0),positioning:{placement:"top"},triggerBase:"btn preset-tonal",contentBase:"card bg-surface-300 p-4 space-y-4 max-w-[320px]",arrow:!0,arrowBackground:"!bg-surface-300 dark:!bg-surface-800",trigger:i=>{ke();var a=qr("説明書");J(i,a)},content:i=>{var a=Bm(),s=ht(a),o=X(Z(s),2);o.__click=[zm,e];var u=Z(o);Ui(u,{}),$(o),$(s),ke(2),J(i,a)},$$slots:{trigger:!0,content:!0}})}me(["click"]);var Vm=ft('<canvas class="border border-gray-300 gimp-checkered-background"></canvas>'),Hm=ft('<div class="grid grid-cols-3 gap-2"></div>');function Wm(t,e){yt(e,!0);const n=48;let r=bt(0);Vt(()=>{e.initTimestamp&&nt(r,Math.floor(n*Vi/Mi),!0)});let i=0,a;const s=[mt.q,mt.w,mt.e,mt.a,null,mt.d,mt.z,mt.s,mt.c],o=[mt.s,mt.a,mt.w,mt.d],u=[mt.s,mt.z,mt.a,mt.q,mt.w,mt.e,mt.d,mt.c],f=()=>{const d=un,l=i/30|0,p=d===1?0:d-1-Math.abs(l%((d-1)*2)-(d-1)),c=i/30/(8/d)|0;for(const[g,b]of s.entries())if(b===null){const _=Hi;if(_!==4&&_!==8)continue;const C=(_===4?o:u)[c%_],k=Lr.get(C);if(!k&&k!==0)continue;const A=Ge.get(k+p);if(!A)continue;const I=h[g];if(!I)continue;const P=I.getContext("2d",{willReadFrequently:!0});if(!P)continue;P.clearRect(0,0,I.width,I.height),P.drawImage(A,0,0,I.width,I.height)}else{const _=Lr.get(b);if(!_&&_!==0)continue;const x=h[g];if(!x)continue;const C=x.getContext("2d",{willReadFrequently:!0});if(!C)continue;C.clearRect(0,0,x.width,x.height);const k=Ge.get(_+p);if(!k)continue;C.drawImage(k,0,0,x.width,x.height)}i++,a=requestAnimationFrame(f)};Vt(()=>{if(h)return f(),()=>cancelAnimationFrame(a)});let h=Xt(Array(s.length));var m=Hm();fe(m,21,()=>h,de,(d,l,p)=>{var c=Vm();Ut(c,"width",n),Pe(c,(g,b)=>h[b]=g,g=>h==null?void 0:h[g],()=>[p]),Ot(()=>Ut(c,"height",w(r))),J(d,c)}),$(m),J(t,m),_t()}var tn;function $c(t){return{lang:(t==null?void 0:t.lang)??(tn==null?void 0:tn.lang),message:t==null?void 0:t.message,abortEarly:(t==null?void 0:t.abortEarly)??(tn==null?void 0:tn.abortEarly),abortPipeEarly:(t==null?void 0:t.abortPipeEarly)??(tn==null?void 0:tn.abortPipeEarly)}}var Aa;function Um(t){return Aa==null?void 0:Aa.get(t)}var Oa;function jm(t){return Oa==null?void 0:Oa.get(t)}var Ra;function $m(t,e){var n;return(n=Ra==null?void 0:Ra.get(t))==null?void 0:n.get(e)}function Wr(t){var n,r;const e=typeof t;return e==="string"?`"${t}"`:e==="number"||e==="bigint"||e==="boolean"?`${t}`:e==="object"||e==="function"?(t&&((r=(n=Object.getPrototypeOf(t))==null?void 0:n.constructor)==null?void 0:r.name))??"null":e}function qe(t,e,n,r,i){const a=i&&"input"in i?i.input:n.value,s=(i==null?void 0:i.expected)??t.expects??null,o=(i==null?void 0:i.received)??Wr(a),u={kind:t.kind,type:t.type,input:a,expected:s,received:o,message:`Invalid ${e}: ${s?`Expected ${s} but r`:"R"}eceived ${o}`,requirement:t.requirement,path:i==null?void 0:i.path,issues:i==null?void 0:i.issues,lang:r.lang,abortEarly:r.abortEarly,abortPipeEarly:r.abortPipeEarly},f=t.kind==="schema",h=(i==null?void 0:i.message)??t.message??$m(t.reference,u.lang)??(f?jm(u.lang):null)??r.message??Um(u.lang);h!==void 0&&(u.message=typeof h=="function"?h(u):h),f&&(n.typed=!1),n.issues?n.issues.push(u):n.issues=[u]}function Xr(t){return{version:1,vendor:"valibot",validate(e){return t["~run"]({value:e},$c())}}}function qc(t,e){return{kind:"validation",type:"check",reference:qc,async:!1,expects:null,requirement:t,message:e,"~run"(n,r){return n.typed&&!this.requirement(n.value)&&qe(this,"input",n,r),n}}}function fi(t){return{kind:"validation",type:"integer",reference:fi,async:!1,expects:null,requirement:Number.isInteger,message:t,"~run"(e,n){return e.typed&&!this.requirement(e.value)&&qe(this,"integer",e,n),e}}}function hi(t,e){return{kind:"validation",type:"max_value",reference:hi,async:!1,expects:`<=${t instanceof Date?t.toJSON():Wr(t)}`,requirement:t,message:e,"~run"(n,r){return n.typed&&!(n.value<=this.requirement)&&qe(this,"value",n,r,{received:n.value instanceof Date?n.value.toJSON():Wr(n.value)}),n}}}function vi(t,e){return{kind:"validation",type:"min_value",reference:vi,async:!1,expects:`>=${t instanceof Date?t.toJSON():Wr(t)}`,requirement:t,message:e,"~run"(n,r){return n.typed&&!(n.value>=this.requirement)&&qe(this,"value",n,r,{received:n.value instanceof Date?n.value.toJSON():Wr(n.value)}),n}}}function Gc(t,e){return{kind:"validation",type:"regex",reference:Gc,async:!1,expects:`${t}`,requirement:t,message:e,"~run"(n,r){return n.typed&&!this.requirement.test(n.value)&&qe(this,"format",n,r),n}}}function pi(t){return{kind:"transformation",type:"transform",reference:pi,async:!1,operation:t,"~run"(e){return e.value=this.operation(e.value),e}}}function Zc(){return{kind:"transformation",type:"trim",reference:Zc,async:!1,"~run"(t){return t.value=t.value.trim(),t}}}function qm(t,e,n){return typeof t.fallback=="function"?t.fallback(e,n):t.fallback}function Gm(t,e,n){return typeof t.default=="function"?t.default(e,n):t.default}function gi(t){return{kind:"schema",type:"number",reference:gi,expects:"number",async:!1,message:t,get"~standard"(){return Xr(this)},"~run"(e,n){return typeof e.value=="number"&&!isNaN(e.value)?e.typed=!0:qe(this,"type",e,n),e}}}function Kc(t,e){return{kind:"schema",type:"strict_object",reference:Kc,expects:"Object",async:!1,entries:t,message:e,get"~standard"(){return Xr(this)},"~run"(n,r){var a;const i=n.value;if(i&&typeof i=="object"){n.typed=!0,n.value={};for(const s in this.entries){const o=this.entries[s];if(s in i||(o.type==="exact_optional"||o.type==="optional"||o.type==="nullish")&&o.default!==void 0){const u=s in i?i[s]:Gm(o),f=o["~run"]({value:u},r);if(f.issues){const h={type:"object",origin:"value",input:i,key:s,value:u};for(const m of f.issues)m.path?m.path.unshift(h):m.path=[h],(a=n.issues)==null||a.push(m);if(n.issues||(n.issues=f.issues),r.abortEarly){n.typed=!1;break}}f.typed||(n.typed=!1),n.value[s]=f.value}else if(o.fallback!==void 0)n.value[s]=qm(o);else if(o.type!=="exact_optional"&&o.type!=="optional"&&o.type!=="nullish"&&(qe(this,"key",n,r,{input:void 0,expected:`"${s}"`,path:[{type:"object",origin:"key",input:i,key:s,value:i[s]}]}),r.abortEarly))break}if(!n.issues||!r.abortEarly){for(const s in i)if(!(s in this.entries)){qe(this,"key",n,r,{input:s,expected:"never",path:[{type:"object",origin:"key",input:i,key:s,value:i[s]}]});break}}}else qe(this,"type",n,r);return n}}}function Xc(t){return{kind:"schema",type:"string",reference:Xc,expects:"string",async:!1,message:t,get"~standard"(){return Xr(this)},"~run"(e,n){return typeof e.value=="string"?e.typed=!0:qe(this,"type",e,n),e}}}function mi(){return{kind:"schema",type:"unknown",reference:mi,expects:"unknown",async:!1,get"~standard"(){return Xr(this)},"~run"(t){return t.typed=!0,t}}}function si(...t){return{...t[0],pipe:t,get"~standard"(){return Xr(this)},"~run"(e,n){for(const r of t)if(r.kind!=="metadata"){if(e.issues&&(r.kind==="schema"||r.kind==="transformation")){e.typed=!1;break}(!e.issues||!n.abortEarly&&!n.abortPipeEarly)&&(e=r["~run"](e,n))}return e}}}function Zm(t,e,n){const r=t["~run"]({value:e},$c(n));return{typed:r.typed,success:!r.issues,output:r.value,issues:r.issues}}var Km=(t,e)=>{nt(e,!1)},Xm=(t,e,n,r,i)=>{const a=Ss.find(s=>s.label===t.currentTarget.value);a&&(nt(e,a.w,!0),nt(n,a.h,!0),nt(r,a.frames,!0),nt(i,Wi(a.ways),!0))},Ym=ft("<option> </option>"),Jm=(t,e,n,r,i,a,s,o)=>{const u=Zm(e,{width:w(n),height:w(r),frames:w(i),ways:w(a)});if(!u.success){nt(s,new Set(u.issues.map(f=>{var h;return((h=f.path)==null?void 0:h[0].key)??""}).map(String)),!0);return}nt(s,new Set,!0),confirm("初期化しますか？（※全てのデータは失われます）")&&(Cs(u.output.width,u.output.height,u.output.frames,u.output.ways),o.init())},Qm=ft('<header class="flex justify-between"><p class="font-bold text-xl">コマ数 / サイズ変更</p> <button class="btn-icon hover:preset-tonal"><!></button></header> <article class="space-y-4"><p class="opacity-60">ツクールの規格に対応できます</p> <label class="flex flex-col"><span class="label-text font-medium">テンプレ</span> <select class="select select-bordered w-full bg-white"><option>自動入力</option><!></select></label> <label class="flex flex-col gap-1"><span class="label-text font-medium">幅</span> <input type="number" placeholder="例: 48"/></label> <label class="flex flex-col gap-1"><span class="label-text font-medium">高さ</span> <input type="number" placeholder="例: 48"/></label> <label class="flex flex-col gap-1"><span class="label-text font-medium">コマ数</span> <input type="number" placeholder="例: 3"/></label> <label class="flex flex-col gap-1"><span class="label-text font-medium">方向転換</span> <input type="text" placeholder="例: wasdqezc"/> <p class="opacity-60 text-xs">wasd(前後左右)+qezc(ナナメ)</p></label> <div class="pt-2"><button type="button" class="btn btn-primary w-full bg-blue-500 text-white rounded hover:bg-blue-600" aria-label="submit">初期化の実行</button></div></article>',1);function tb(t,e){yt(e,!0);let n=bt(!1),r=bt(Xt(We.w)),i=bt(Xt(We.h)),a=bt(Xt(We.frames)),s=bt(Xt(Wi(We.ways))),o=bt(Xt(new Set));const u=Kc({width:si(mi(),pi(f=>Number(f)),gi(),fi(),vi(16),hi(256)),height:si(mi(),pi(f=>Number(f)),gi(),fi(),vi(16),hi(256)),frames:si(mi(),pi(f=>Number(f)),gi(),fi(),vi(1),hi(8)),ways:si(Xc(),Zc(),Gc(/^[a-z]+$/),qc(f=>f.length===new Set(f).size))});return ra(t,{get open(){return w(n)},onOpenChange:m=>nt(n,m.open,!0),positioning:{placement:"top"},triggerBase:"btn preset-tonal",contentBase:"card bg-surface-300 p-4 space-y-4 max-w-[320px]",arrow:!0,arrowBackground:"!bg-surface-300 dark:!bg-surface-800",trigger:m=>{ke();var d=qr("リサイズ");J(m,d)},content:m=>{var d=Qm(),l=ht(d),p=X(Z(l),2);p.__click=[Km,n];var c=Z(p);Ui(c,{}),$(p),$(l);var g=X(l,2),b=X(Z(g),2),_=X(Z(b),2);_.__change=[Xm,r,i,a,s];var x=Z(_);x.value=x.__value="";var C=X(x);fe(C,17,()=>Ss,de,(j,et)=>{var N=Ym(),M={},ot=Z(N,!0);$(N),Ot(()=>{M!==(M=w(et).label)&&(N.value=(N.__value=w(et).label)??""),oe(ot,w(et).label)}),J(j,N)}),$(_),$(b);var k=X(b,2),A=X(Z(k),2);qt(A);let I;$(k);var P=X(k,2),O=X(Z(P),2);qt(O);let B;$(P);var z=X(P,2),E=X(Z(z),2);qt(E);let R;$(z);var v=X(z,2),D=X(Z(v),2);qt(D);let W;ke(2),$(v);var V=X(v,2),K=Z(V);K.__click=[Jm,u,r,i,a,s,o,e],$(V),$(g),Ot((j,et,N,M)=>{I=ne(A,1,"input input-bordered w-full placeholder:opacity-40",null,I,j),B=ne(O,1,"input input-bordered w-full bg-white placeholder:opacity-40",null,B,et),R=ne(E,1,"input input-bordered w-full bg-white placeholder:opacity-40",null,R,N),W=ne(D,1,"input input-bordered w-full bg-white placeholder:opacity-40",null,W,M)},[()=>({"bg-error-50":w(o).has("width"),"bg-white":!w(o).has("width")}),()=>({"bg-error-50":w(o).has("height"),"bg-white":!w(o).has("height")}),()=>({"bg-error-50":w(o).has("frames"),"bg-white":!w(o).has("frames")}),()=>({"bg-error-50":w(o).has("ways"),"bg-white":!w(o).has("ways")})]),xn(A,()=>w(r),j=>nt(r,j)),xn(O,()=>w(i),j=>nt(i,j)),xn(E,()=>w(a),j=>nt(a,j)),xn(D,()=>w(s),j=>nt(s,j)),J(m,d)},$$slots:{trigger:!0,content:!0}}),_t({ParamSchema:u})}me(["click","change"]);const Ar=Es(!1),Yc=()=>{const t=Is.value;if(t&&(t.clear(),oo(Ar))){const e=oo(ir),[n,r]=Ml(e);let i=n-1;i===-1&&(i=un-1);const a=He(i,r),s=Ge.get(a);if(!s)return;t.ctx.globalAlpha=.4,t.ctx.drawImage(s,0,0)}};ir.subscribe(Yc);Ar.subscribe(Yc);var eb="M17 3H5C3.89 3 3 3.9 3 5V19C3 20.1 3.89 21 5 21H19C20.1 21 21 20.1 21 19V7L17 3M19 19H5V5H16.17L19 7.83V19M12 12C10.34 12 9 13.34 9 15S10.34 18 12 18 15 16.66 15 15 13.66 12 12 12M6 6H15V10H6V6Z",nb="M16.24,3.56L21.19,8.5C21.97,9.29 21.97,10.55 21.19,11.34L12,20.53C10.44,22.09 7.91,22.09 6.34,20.53L2.81,17C2.03,16.21 2.03,14.95 2.81,14.16L13.41,3.56C14.2,2.78 15.46,2.78 16.24,3.56M4.22,15.58L7.76,19.11C8.54,19.9 9.8,19.9 10.59,19.11L14.12,15.58L9.17,10.63L4.22,15.58Z",rb="M19.35,11.72L17.22,13.85L15.81,12.43L8.1,20.14L3.5,22L2,20.5L3.86,15.9L11.57,8.19L10.15,6.78L12.28,4.65L19.35,11.72M16.76,3C17.93,1.83 19.83,1.83 21,3C22.17,4.17 22.17,6.07 21,7.24L19.08,9.16L14.84,4.92L16.76,3M5.56,17.03L4.5,19.5L6.97,18.44L14.4,11L13,9.6L5.56,17.03Z",ib="M19,11.5C19,11.5 17,13.67 17,15A2,2 0 0,0 19,17A2,2 0 0,0 21,15C21,13.67 19,11.5 19,11.5M5.21,10L10,5.21L14.79,10M16.56,8.94L7.62,0L6.21,1.41L8.59,3.79L3.44,8.94C2.85,9.5 2.85,10.47 3.44,11.06L8.94,16.56C9.23,16.85 9.62,17 10,17C10.38,17 10.77,16.85 11.06,16.56L16.56,11.06C17.15,10.47 17.15,9.5 16.56,8.94Z",ab="M13 24C9.74 24 6.81 22 5.6 19L2.57 11.37C2.26 10.58 3 9.79 3.81 10.05L4.6 10.31C5.16 10.5 5.62 10.92 5.84 11.47L7.25 15H8V3.25C8 2.56 8.56 2 9.25 2S10.5 2.56 10.5 3.25V12H11.5V1.25C11.5 .56 12.06 0 12.75 0S14 .56 14 1.25V12H15V2.75C15 2.06 15.56 1.5 16.25 1.5C16.94 1.5 17.5 2.06 17.5 2.75V12H18.5V5.75C18.5 5.06 19.06 4.5 19.75 4.5S21 5.06 21 5.75V16C21 20.42 17.42 24 13 24Z",sb="M20.71,7.04C20.37,7.38 20.04,7.71 20.03,8.04C20,8.36 20.34,8.69 20.66,9C21.14,9.5 21.61,9.95 21.59,10.44C21.57,10.93 21.06,11.44 20.55,11.94L16.42,16.08L15,14.66L19.25,10.42L18.29,9.46L16.87,10.87L13.12,7.12L16.96,3.29C17.35,2.9 18,2.9 18.37,3.29L20.71,5.63C21.1,6 21.1,6.65 20.71,7.04M3,17.25L12.56,7.68L16.31,11.43L6.75,21H3V17.25Z",ob="M18.4,10.6C16.55,9 14.15,8 11.5,8C6.85,8 2.92,11.03 1.54,15.22L3.9,16C4.95,12.81 7.95,10.5 11.5,10.5C13.45,10.5 15.23,11.22 16.62,12.38L13,16H22V7L18.4,10.6Z",lb="M9,3V4H4V6H5V19A2,2 0 0,0 7,21H17A2,2 0 0,0 19,19V6H20V4H15V3H9M7,6H17V19H7V6M9,8V17H11V8H9M13,8V17H15V8H13Z",cb="M12.5,8C9.85,8 7.45,9 5.6,10.6L2,7V16H11L7.38,12.38C8.77,11.22 10.54,10.5 12.5,10.5C16.04,10.5 19.05,12.81 20.1,16L22.47,15.22C21.08,11.03 17.15,8 12.5,8Z",ub={grad:.9,turn:360,rad:360/(2*Math.PI)},en=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},Qt=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=Math.pow(10,e)),Math.round(n*t)/n+0},xe=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=1),t>n?n:t>e?t:e},Jc=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},ul=function(t){return{r:xe(t.r,0,255),g:xe(t.g,0,255),b:xe(t.b,0,255),a:xe(t.a)}},Pa=function(t){return{r:Qt(t.r),g:Qt(t.g),b:Qt(t.b),a:Qt(t.a,3)}},db=/^#([0-9a-f]{3,8})$/i,oi=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},Qc=function(t){var e=t.r,n=t.g,r=t.b,i=t.a,a=Math.max(e,n,r),s=a-Math.min(e,n,r),o=s?a===e?(n-r)/s:a===n?2+(r-e)/s:4+(e-n)/s:0;return{h:60*(o<0?o+6:o),s:a?s/a*100:0,v:a/255*100,a:i}},tu=function(t){var e=t.h,n=t.s,r=t.v,i=t.a;e=e/360*6,n/=100,r/=100;var a=Math.floor(e),s=r*(1-n),o=r*(1-(e-a)*n),u=r*(1-(1-e+a)*n),f=a%6;return{r:255*[r,o,s,s,u,r][f],g:255*[u,r,r,o,s,s][f],b:255*[s,s,u,r,r,o][f],a:i}},dl=function(t){return{h:Jc(t.h),s:xe(t.s,0,100),l:xe(t.l,0,100),a:xe(t.a)}},fl=function(t){return{h:Qt(t.h),s:Qt(t.s),l:Qt(t.l),a:Qt(t.a,3)}},hl=function(t){return tu((n=(e=t).s,{h:e.h,s:(n*=((r=e.l)<50?r:100-r)/100)>0?2*n/(r+n)*100:0,v:r+n,a:e.a}));var e,n,r},Or=function(t){return{h:(e=Qc(t)).h,s:(i=(200-(n=e.s))*(r=e.v)/100)>0&&i<200?n*r/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,n,r,i},fb=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,hb=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,vb=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,pb=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,vl={string:[[function(t){var e=db.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?Qt(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?Qt(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=vb.exec(t)||pb.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:ul({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=fb.exec(t)||hb.exec(t);if(!e)return null;var n,r,i=dl({h:(n=e[1],r=e[2],r===void 0&&(r="deg"),Number(n)*(ub[r]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return hl(i)},"hsl"]],object:[[function(t){var e=t.r,n=t.g,r=t.b,i=t.a,a=i===void 0?1:i;return en(e)&&en(n)&&en(r)?ul({r:Number(e),g:Number(n),b:Number(r),a:Number(a)}):null},"rgb"],[function(t){var e=t.h,n=t.s,r=t.l,i=t.a,a=i===void 0?1:i;if(!en(e)||!en(n)||!en(r))return null;var s=dl({h:Number(e),s:Number(n),l:Number(r),a:Number(a)});return hl(s)},"hsl"],[function(t){var e=t.h,n=t.s,r=t.v,i=t.a,a=i===void 0?1:i;if(!en(e)||!en(n)||!en(r))return null;var s=function(o){return{h:Jc(o.h),s:xe(o.s,0,100),v:xe(o.v,0,100),a:xe(o.a)}}({h:Number(e),s:Number(n),v:Number(r),a:Number(a)});return tu(s)},"hsv"]]},pl=function(t,e){for(var n=0;n<e.length;n++){var r=e[n][0](t);if(r)return[r,e[n][1]]}return[null,void 0]},gb=function(t){return typeof t=="string"?pl(t.trim(),vl.string):typeof t=="object"&&t!==null?pl(t,vl.object):[null,void 0]},La=function(t,e){var n=Or(t);return{h:n.h,s:xe(n.s+100*e,0,100),l:n.l,a:n.a}},Da=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},gl=function(t,e){var n=Or(t);return{h:n.h,s:n.s,l:xe(n.l+100*e,0,100),a:n.a}},ml=function(){function t(e){this.parsed=gb(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return Qt(Da(this.rgba),2)},t.prototype.isDark=function(){return Da(this.rgba)<.5},t.prototype.isLight=function(){return Da(this.rgba)>=.5},t.prototype.toHex=function(){return e=Pa(this.rgba),n=e.r,r=e.g,i=e.b,s=(a=e.a)<1?oi(Qt(255*a)):"","#"+oi(n)+oi(r)+oi(i)+s;var e,n,r,i,a,s},t.prototype.toRgb=function(){return Pa(this.rgba)},t.prototype.toRgbString=function(){return e=Pa(this.rgba),n=e.r,r=e.g,i=e.b,(a=e.a)<1?"rgba("+n+", "+r+", "+i+", "+a+")":"rgb("+n+", "+r+", "+i+")";var e,n,r,i,a},t.prototype.toHsl=function(){return fl(Or(this.rgba))},t.prototype.toHslString=function(){return e=fl(Or(this.rgba)),n=e.h,r=e.s,i=e.l,(a=e.a)<1?"hsla("+n+", "+r+"%, "+i+"%, "+a+")":"hsl("+n+", "+r+"%, "+i+"%)";var e,n,r,i,a},t.prototype.toHsv=function(){return e=Qc(this.rgba),{h:Qt(e.h),s:Qt(e.s),v:Qt(e.v),a:Qt(e.a,3)};var e},t.prototype.invert=function(){return ve({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),ve(La(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),ve(La(this.rgba,-e))},t.prototype.grayscale=function(){return ve(La(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),ve(gl(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),ve(gl(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?ve({r:(n=this.rgba).r,g:n.g,b:n.b,a:e}):Qt(this.rgba.a,3);var n},t.prototype.hue=function(e){var n=Or(this.rgba);return typeof e=="number"?ve({h:e,s:n.s,l:n.l,a:n.a}):Qt(n.h)},t.prototype.isEqual=function(e){return this.toHex()===ve(e).toHex()},t}(),ve=function(t){return t instanceof ml?t:new ml(t)};function mb(t,e,n,r,i,a,s){var u;const o=t.shiftKey?w(e)*10:w(e);t.key==="ArrowUp"||t.key==="ArrowRight"?(n(n()+o),t.preventDefault()):t.key==="ArrowDown"||t.key==="ArrowLeft"?(n(n()-o),t.preventDefault()):t.key==="Home"?(n(w(r)),t.preventDefault()):t.key==="End"?(n(w(i)),t.preventDefault()):t.key==="PageUp"?(n(n()+w(e)*10),t.preventDefault()):t.key==="PageDown"&&(n(n()-w(e)*10),t.preventDefault()),n(a(n())),(u=s.onInput)==null||u.call(s,n())}var bb=ft('<input type="hidden"/>'),yb=ft('<div role="slider" tabindex="0"><div class="track svelte-lo47zs"></div> <div class="thumb svelte-lo47zs"></div></div> <!>',1);function Di(t,e){yt(e,!0);let n=U(e,"min",3,0),r=U(e,"max",3,100),i=U(e,"step",3,1),a=U(e,"value",15,50),s=U(e,"ariaValueText",3,R=>R.toString()),o=U(e,"direction",3,"horizontal"),u=U(e,"reverse",3,!1),f=U(e,"keyboardOnly",3,!1),h=U(e,"slider",7),m=U(e,"isDragging",7,!1);const d=ct(()=>typeof n()=="string"?parseFloat(n()):n()),l=ct(()=>typeof r()=="string"?parseFloat(r()):r()),p=ct(()=>typeof i()=="string"?parseFloat(i()):i());function c(R){const v=1/w(p),D=Math.round(R*v)/v;return Math.max(w(d),Math.min(w(l),D))}const g={horizontal:{clientSize:"clientWidth",offset:"left",client:"clientX"},vertical:{clientSize:"clientHeight",offset:"top",client:"clientY"}};function b(R){var V,K,j;const v=((V=h())==null?void 0:V[g[o()].clientSize])||120,D=((K=h())==null?void 0:K.getBoundingClientRect()[g[o()].offset])||0;let W=R[g[o()].client]-D;o()==="vertical"&&(W=-1*W+v),u()?a(w(l)-W/v*(w(l)-w(d))):a(W/v*(w(l)-w(d))+w(d)),a(c(a())),(j=e.onInput)==null||j.call(e,a())}function _(R){b(R),m(!0)}function x(R){m()&&b(R)}function C(){m(!1)}function k(R){R.preventDefault(),b({clientX:R.changedTouches[0].clientX,clientY:R.changedTouches[0].clientY})}const A=ct(()=>((a()-w(d))/(w(l)-w(d))*1).toFixed(4));var I=yb();zn("mousemove",Bn,x),zn("mouseup",Bn,C);var P=ht(I);let O;P.__keydown=[mb,p,a,d,l,c,e],P.__mousedown=function(...R){var v;(v=f()?void 0:_)==null||v.apply(this,R)},P.__touchstart=function(...R){var v;(v=f()?void 0:k)==null||v.apply(this,R)},P.__touchmove=function(...R){var v;(v=f()?void 0:k)==null||v.apply(this,R)},P.__touchend=function(...R){var v;(v=f()?void 0:k)==null||v.apply(this,R)};let B;Pe(P,R=>h(R),()=>h());var z=X(P,2);{var E=R=>{var v=bb();qt(v),Ot(()=>{Ut(v,"name",e.name),Oe(v,a())}),J(R,v)};Dt(z,R=>{e.name&&R(E)})}Ot((R,v)=>{O=ne(P,1,"slider svelte-lo47zs",null,O,R),Ut(P,"aria-orientation",o()),Ut(P,"aria-valuemax",w(l)),Ut(P,"aria-valuemin",w(d)),Ut(P,"aria-valuenow",a()),Ut(P,"aria-valuetext",v),Ut(P,"aria-label",e.ariaLabel),Ut(P,"aria-labelledby",e.ariaLabelledBy),Ut(P,"aria-controls",e.ariaControls),B=je(P,"",B,{"--position":w(A)})},[()=>({reverse:u()}),()=>s()(a())]),J(t,I),_t()}me(["keydown","mousedown","touchstart","touchmove","touchend"]);function Na(t,e){t.preventDefault(),e(t.changedTouches[0])}var _b=ft('<div class="picker svelte-ckxa16"><!> <div class="s svelte-ckxa16"><!></div> <div class="v svelte-ckxa16"><!></div></div>');function wb(t,e){yt(e,!0);let n=U(e,"s",15),r=U(e,"v",15),i=bt(void 0),a=!1,s=bt(Xt({x:100,y:0})),o=ct(()=>ve({h:e.h,s:100,v:100,a:1}).toHex());function u(I,P,O){return Math.min(Math.max(P,I),O)}function f(I){if(!w(i))return;const{width:P,left:O,height:B,top:z}=w(i).getBoundingClientRect(),E={x:u(I.clientX-O,0,P),y:u(I.clientY-z,0,B)};n(u(E.x/P,0,1)*100),r(u((B-E.y)/B,0,1)*100),l()}function h(I){I.preventDefault(),I.button===0&&(a=!0,f(I))}function m(){a=!1}function d(I){a&&f(I)}Vt(()=>{typeof n()=="number"&&typeof r()=="number"&&w(i)&&nt(s,{x:n(),y:100-r()},!0)});function l(I={}){e.onInput({s:n(),v:r(),...I})}var p=_b();zn("mouseup",Bn,m),zn("mousemove",Bn,d),p.__mousedown=h,p.__touchstart=[Na,f],p.__touchmove=[Na,f],p.__touchend=[Na,f];let c;var g=Z(p);se(g,()=>e.components.pickerIndicator,(I,P)=>{P(I,{get pos(){return w(s)},get isDark(){return e.isDark}})});var b=X(g,2);let _;var x=Z(b);Di(x,{get value(){return n()},onInput:I=>l({s:I}),keyboardOnly:!0,ariaValueText:I=>`${I}%`,get ariaLabel(){return e.texts.label.s}}),$(b);var C=X(b,2);let k;var A=Z(C);Di(A,{get value(){return r()},onInput:I=>l({v:I}),keyboardOnly:!0,ariaValueText:I=>`${I}%`,direction:"vertical",get ariaLabel(){return e.texts.label.v}}),$(C),$(p),Pe(p,I=>nt(i,I),()=>w(i)),Ot(()=>{c=je(p,"",c,{"--picker-color-bg":w(o)}),_=je(b,"",_,{"--pos-y":w(s).y}),k=je(C,"",k,{"--pos-x":w(s).x})}),J(t,p),_t()}me(["mousedown","touchstart","touchmove","touchend"]);var xb=ft('<div class="picker-indicator svelte-1h8ycw8"></div>');function kb(t,e){yt(e,!0);var n=xb();let r;Ot(()=>r=je(n,"",r,{"--pos-x":e.pos.x,"--pos-y":e.pos.y})),J(t,n),_t()}function Eb(t,e,n,r){const i=t.target;e.test(i.value)&&(n(i.value),r.onInput({hex:n()}))}var Cb=ft('<input class="svelte-qtukzs"/>'),Sb=ft('<input type="number" min="0" max="255" class="svelte-qtukzs"/> <input type="number" min="0" max="255" class="svelte-qtukzs"/> <input type="number" min="0" max="255" class="svelte-qtukzs"/>',1),Tb=ft('<input type="number" min="0" max="360" class="svelte-qtukzs"/> <input type="number" min="0" max="100" class="svelte-qtukzs"/> <input type="number" min="0" max="100" class="svelte-qtukzs"/>',1),Ib=ft('<input type="number" min="0" max="1" step="0.01" class="svelte-qtukzs"/>'),Ab=(t,e,n)=>nt(e,w(n),!0),Ob=ft('<button type="button" class="svelte-qtukzs"><span class="disappear svelte-qtukzs" aria-hidden="true"> </span> <span class="appear svelte-qtukzs"> </span></button>'),Rb=ft('<div class="button-like svelte-qtukzs"> </div>'),Pb=ft('<div class="text-input svelte-qtukzs"><div class="input-container svelte-qtukzs"><!> <!></div> <!></div>');function Lb(t,e){yt(e,!0);let n=U(e,"rgb",15),r=U(e,"hsv",15),i=U(e,"hex",15);const a=/^#?([A-F0-9]{6}|[A-F0-9]{8})$/i;let s=bt(Xt(e.textInputModes[0]||"hex")),o=ct(()=>e.textInputModes[(e.textInputModes.indexOf(w(s))+1)%e.textInputModes.length]),u=ct(()=>Math.round(r().h)),f=ct(()=>Math.round(r().s)),h=ct(()=>Math.round(r().v)),m=ct(()=>r().a===void 0?1:Math.round(r().a*100)/100);function d(P){return function(O){n({...n(),[P]:parseFloat(O.target.value)}),e.onInput({rgb:n()})}}function l(P){return function(O){r({...r(),[P]:parseFloat(O.target.value)}),e.onInput({hsv:r()})}}var p=Pb(),c=Z(p),g=Z(c);{var b=P=>{var O=Cb();qt(O),O.__input=[Eb,a,i,e],je(O,"",{},{flex:3}),Ot(()=>{Ut(O,"aria-label",e.texts.label.hex),Oe(O,i())}),J(P,O)},_=(P,O)=>{{var B=E=>{var R=Sb(),v=ht(R);qt(v);var D=ct(()=>d("r"));v.__input=function(...et){var N;(N=w(D))==null||N.apply(this,et)};var W=X(v,2);qt(W);var V=ct(()=>d("g"));W.__input=function(...et){var N;(N=w(V))==null||N.apply(this,et)};var K=X(W,2);qt(K);var j=ct(()=>d("b"));K.__input=function(...et){var N;(N=w(j))==null||N.apply(this,et)},Ot(()=>{Ut(v,"aria-label",e.texts.label.r),Oe(v,n().r),Ut(W,"aria-label",e.texts.label.g),Oe(W,n().g),Ut(K,"aria-label",e.texts.label.b),Oe(K,n().b)}),J(E,R)},z=E=>{var R=Tb(),v=ht(R);qt(v);var D=ct(()=>l("h"));v.__input=function(...et){var N;(N=w(D))==null||N.apply(this,et)};var W=X(v,2);qt(W);var V=ct(()=>l("s"));W.__input=function(...et){var N;(N=w(V))==null||N.apply(this,et)};var K=X(W,2);qt(K);var j=ct(()=>l("v"));K.__input=function(...et){var N;(N=w(j))==null||N.apply(this,et)},Ot(()=>{Ut(v,"aria-label",e.texts.label.h),Oe(v,w(u)),Ut(W,"aria-label",e.texts.label.s),Oe(W,w(f)),Ut(K,"aria-label",e.texts.label.v),Oe(K,w(h))}),J(E,R)};Dt(P,E=>{w(s)==="rgb"?E(B):E(z,!1)},O)}};Dt(g,P=>{w(s)==="hex"?P(b):P(_,!1)})}var x=X(g,2);{var C=P=>{var O=Ib();qt(O);var B=ct(()=>w(s)==="hsv"?l("a"):d("a"));O.__input=function(...z){var E;(E=w(B))==null||E.apply(this,z)},Ot(()=>{Ut(O,"aria-label",e.texts.label.a),Oe(O,w(m))}),J(P,O)};Dt(x,P=>{e.isAlpha&&P(C)})}$(c);var k=X(c,2);{var A=P=>{var O=Ob();O.__click=[Ab,s,o];var B=Z(O),z=Z(B,!0);$(B);var E=X(B,2),R=Z(E);$(E),$(O),Ot(()=>{oe(z,e.texts.color[w(s)]),oe(R,`${e.texts.changeTo??""} ${e.texts.color[w(o)]??""}`)}),J(P,O)},I=P=>{var O=Rb(),B=Z(O,!0);$(O),Ot(()=>oe(B,e.texts.color[w(s)])),J(P,O)};Dt(k,P=>{e.textInputModes.length>1?P(A):P(I,!1)})}$(p),J(t,p),_t()}me(["input","click"]);function li(t){t.preventDefault()}var Db=ft('<label class="svelte-lemcb1"><div class="container svelte-lemcb1"><input type="color" aria-haspopup="dialog" class="svelte-lemcb1"/> <div class="alpha svelte-lemcb1"></div> <div class="color svelte-lemcb1"></div></div> </label>');function Nb(t,e){yt(e,!0);let n=U(e,"labelElement",15),r=U(e,"name",3,void 0);var i=Db();i.__click=[li],i.__mousedown=[li];var a=Z(i),s=Z(a);qt(s),s.__click=[li],s.__mousedown=[li];var o=X(s,4);let u;$(a);var f=X(a);$(i),Pe(i,h=>n(h),()=>n()),Ot(()=>{Ut(i,"dir",e.dir),Ut(s,"name",r()),Oe(s,e.hex),u=je(o,"",u,{background:e.hex}),oe(f,` ${e.label??""}`),i.dir=i.dir}),J(t,i),_t()}me(["click","mousedown"]);var Fb=ft('<div aria-label="color picker"><!></div>');function zb(t,e){yt(e,!0);let n=U(e,"wrapper",15);var r=Fb();let i;var a=Z(r);At(a,()=>e.children),$(r),Pe(r,s=>n(s),()=>n()),Ot(s=>{i=ne(r,1,"wrapper svelte-h9ar9",null,i,s),Ut(r,"role",e.isDialog?"dialog":void 0)},[()=>({"is-open":e.isOpen})]),J(t,r),_t()}const Fa={label:{h:"hue channel",s:"saturation channel",v:"brightness channel",r:"red channel",g:"green channel",b:"blue channel",a:"alpha channel",hex:"hex color",withoutColor:"without color"},color:{rgb:"rgb",hsv:"hsv",hex:"hex"},changeTo:"change to "},eu="a[href], area[href], input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]";function Bb(t){return function(e){if(e.target===window)return;const n=e.target;if(!t.contains(n))return;const r=t.querySelectorAll(eu),i=r[0],a=r[r.length-1];function s(u){return u.code==="Tab"&&!u.shiftKey}function o(u){return u.code==="Tab"&&u.shiftKey}s(e)&&e.target===a?(e.preventDefault(),i.focus()):o(e)&&e.target===i&&(e.preventDefault(),a.focus())}}const Mb=t=>{const e=t.querySelector(eu);e&&e.focus();const n=Bb(t);return document.addEventListener("keydown",n),{destroy(){document.removeEventListener("keydown",n)}}};var Vb=ft('<label class="nullability-checkbox svelte-oskb5b"><div class="svelte-oskb5b"><input type="checkbox" class="svelte-oskb5b"/> <span class="svelte-oskb5b"></span></div> </label>');function Hb(t,e){yt(e,!0);let n=U(e,"isUndefined",15);var r=Vb(),i=Z(r),a=Z(i);qt(a),ke(2),$(i);var s=X(i);$(r),Ot(()=>oe(s,` ${e.texts.label.withoutColor??""}`)),Bl(a,n),J(t,r),_t()}var Wb=ft('<input type="hidden"/>'),Ub=ft('<div class="a svelte-1y2jcbx"><!></div>'),jb=ft('<!> <!> <div class="h svelte-1y2jcbx"><!></div> <!> <!> <!>',1),$b=ft("<span><!> <!></span>");function qb(t,e){yt(e,!0);let n=U(e,"components",19,()=>({})),r=U(e,"label",3,"Choose a color"),i=U(e,"name",3,void 0),a=U(e,"nullable",3,!1),s=U(e,"rgb",31,()=>Xt(a()?null:{r:255,g:0,b:0,a:1})),o=U(e,"hsv",31,()=>Xt(a()?null:{h:0,s:100,v:100,a:1})),u=U(e,"hex",31,()=>Xt(a()?null:"#ff0000")),f=U(e,"color",15,null),h=U(e,"isDark",15,!1),m=U(e,"isAlpha",3,!0),d=U(e,"isDialog",3,!0),l=U(e,"isOpen",31,()=>!d()),p=U(e,"position",3,"responsive"),c=U(e,"dir",3,"ltr"),g=U(e,"isTextInput",3,!0),b=U(e,"textInputModes",19,()=>["hex","rgb","hsv"]),_=U(e,"sliderDirection",3,"vertical"),x=U(e,"disableCloseClickOutside",3,!1),C=U(e,"a11yColors",19,()=>[{bgHex:"#ffffff"}]),k=U(e,"a11yLevel",3,"AA"),A=U(e,"texts",3,void 0),I=U(e,"a11yTexts",3,void 0),P=bt(Xt({r:255,g:0,b:0,a:1})),O=bt(Xt({h:0,s:100,v:100,a:1})),B=bt("#ff0000"),z=bt(!1),E=bt(Xt(w(z))),R=bt(void 0),v=bt(void 0),D=bt(void 0),W,V=bt(1080),K=bt(720);const j=12,et={pickerIndicator:kb,textInput:Lb,input:Nb,nullabilityCheckbox:Hb,wrapper:zb};function N(){return{...et,...n()}}function M(){var F,T,S;return{label:{...Fa.label,...(F=A())==null?void 0:F.label},color:{...Fa.color,...(T=A())==null?void 0:T.color},changeTo:((S=A())==null?void 0:S.changeTo)??Fa.changeTo}}function ot({target:F}){var T,S,L;d()&&((T=w(v))!=null&&T.contains(F)||(S=w(v))!=null&&S.isSameNode(F)?l(!l()):l()&&!((L=w(D))!=null&&L.contains(F))&&!x()&&l(!1))}function rt({key:F,target:T}){var S;!d()||!w(v)||!w(R)||(F==="Enter"&&w(v).contains(T)?(l(!l()),setTimeout(()=>{w(D)&&(W=Mb(w(D)))})):F==="Escape"&&l()&&(l(!1),w(R).contains(T)&&((S=w(v))==null||S.focus(),W==null||W.destroy())))}function Q(){return!(o()&&s()&&o().h===w(O).h&&o().s===w(O).s&&o().v===w(O).v&&o().a===w(O).a&&s().r===w(P).r&&s().g===w(P).g&&s().b===w(P).b&&s().a===w(P).a&&u()===w(B))}function wt(){var F,T,S,L,G,Y;if(w(z)&&!w(E)){nt(E,!0),o(null),s(null),u(null),(F=e.onInput)==null||F.call(e,{color:f(),hsv:o(),rgb:s(),hex:u()});return}else if(w(E)&&!w(z)){nt(E,!1),o(On(w(O))),s(On(w(P))),u(On(w(B))),(T=e.onInput)==null||T.call(e,{color:f(),hsv:o(),rgb:s(),hex:u()});return}else if(!o()&&!s()&&!u()){nt(z,nt(E,!0),!0),(S=e.onInput)==null||S.call(e,{color:null,hsv:o(),rgb:s(),hex:u()});return}else if(!Q())return;nt(z,!1),o()&&o().a===void 0&&o({...o(),a:1}),w(O).a===void 0&&nt(O,{...w(O),a:1},!0),s()&&s().a===void 0&&s({...s(),a:1}),w(P).a===void 0&&nt(P,{...w(P),a:1},!0),((L=u())==null?void 0:L.substring(7))==="ff"&&u(u().substring(0,7)),((G=w(B))==null?void 0:G.substring(7))==="ff"&&nt(B,w(B).substring(0,7),!0),o()&&(o().h!==w(O).h||o().s!==w(O).s||o().v!==w(O).v||o().a!==w(O).a||!s()&&!u())?(f(ve(o())),s(f().toRgb()),u(f().toHex())):s()&&(s().r!==w(P).r||s().g!==w(P).g||s().b!==w(P).b||s().a!==w(P).a||!o()&&!u())?(f(ve(s())),u(f().toHex()),o(f().toHsv())):u()&&(u()!==w(B)||!o()&&!s())&&(f(ve(u())),s(f().toRgb()),o(f().toHsv())),f()&&h(f().isDark()),!(!u()||!o()||!s())&&(nt(O,On(o()),!0),nt(P,On(s()),!0),nt(B,u(),!0),nt(E,w(z),!0),(Y=e.onInput)==null||Y.call(e,{color:f(),hsv:o(),rgb:s(),hex:u()}))}Vt(()=>{(o()||s()||u())&&wt()}),Vt(()=>{w(z),wt()});function St(F){return T=>{o()||(nt(z,!1),nt(E,!1),o(On(w(O)))),o({...o(),[F]:T})}}function dt(F){return T=>{o()||(nt(z,!1),nt(E,!1),o(On(w(O)))),o({...o(),...Object.fromEntries(F.map(S=>[S,T[S]]))})}}async function xt(){if(await Bu(),p()==="fixed"||!l()||!d()||!w(v)||!w(D))return;const F=w(D).getBoundingClientRect(),T=w(v).getBoundingClientRect();if((p()==="responsive"||p()==="responsive-y")&&(T.top+F.height+j>w(K)?w(D).style.top=`-${F.height+j}px`:w(D).style.top=`${T.height+j}px`),p()==="responsive"||p()==="responsive-x")if(c()==="rtl"){const S=T.left+T.width-F.width<0;console.log(S,T.left-F.width,T.left,F.width),S?w(D).style.left="0px":w(D).style.left=`${T.width-F.width}px`}else T.left+F.width>w(V)?w(D).style.left=`${T.width-F.width}px`:w(D).style.left="0px"}Vt(()=>{w(V)&&w(K)&&l()&&xt()});const vt=ct(N);var Ct=$b();zn("mousedown",Bn,ot),zn("keyup",Bn,rt),zn("scroll",Bn,xt);var Bt=Z(Ct);{var Mt=F=>{var T=Et(),S=ht(T);se(S,()=>w(vt).input,(L,G)=>{G(L,{get hex(){return u()},get label(){return r()},get name(){return i()},get dir(){return c()},get labelElement(){return w(v)},set labelElement(Y){nt(v,Y,!0)}})}),J(F,T)},y=(F,T)=>{{var S=L=>{var G=Wb();qt(G),Ot(()=>{Oe(G,u()),Ut(G,"name",i())}),J(L,G)};Dt(F,L=>{i()&&L(S)},T)}};Dt(Bt,F=>{d()?F(Mt):F(y,!1)})}var q=X(Bt,2);se(q,()=>w(vt).wrapper,(F,T)=>{T(F,{get isOpen(){return l()},get isDialog(){return d()},get wrapper(){return w(D)},set wrapper(S){nt(D,S,!0)},children:(S,L)=>{var G=jb(),Y=ht(G);{var H=Lt=>{var Zt=Et(),ie=ht(Zt);const Ne=ct(M);se(ie,()=>w(vt).nullabilityCheckbox,(Fe,Xe)=>{Xe(Fe,{get texts(){return w(Ne)},get isUndefined(){return w(z)},set isUndefined(Te){nt(z,Te,!0)}})}),J(Lt,Zt)};Dt(Y,Lt=>{a()&&Lt(H)})}var it=X(Y,2);const lt=ct(N),st=ct(()=>{var Lt;return((Lt=o())==null?void 0:Lt.h)??w(O).h}),ut=ct(()=>{var Lt;return((Lt=o())==null?void 0:Lt.s)??w(O).s}),Ft=ct(()=>{var Lt;return((Lt=o())==null?void 0:Lt.v)??w(O).v}),It=ct(()=>dt(["s","v"])),Jt=ct(M);wb(it,{get components(){return w(lt)},get h(){return w(st)},get s(){return w(ut)},get v(){return w(Ft)},get onInput(){return w(It)},get isDark(){return h()},get texts(){return w(Jt)}});var be=X(it,2),le=Z(be);const Se=ct(()=>{var Lt;return((Lt=o())==null?void 0:Lt.h)??w(O).h}),jt=ct(()=>St("h")),hn=ct(()=>_()==="vertical");Di(le,{min:0,max:360,step:1,get value(){return w(Se)},get onInput(){return w(jt)},get direction(){return _()},get reverse(){return w(hn)},get ariaLabel(){return M().label.h}}),$(be);var vn=X(be,2);{var ce=Lt=>{var Zt=Ub();let ie;var Ne=Z(Zt);const Fe=ct(()=>{var Ye;return((Ye=o())==null?void 0:Ye.a)??w(O).a}),Xe=ct(()=>St("a")),Te=ct(()=>_()==="vertical");Di(Ne,{min:0,max:1,step:.01,get value(){return w(Fe)},get onInput(){return w(Xe)},get direction(){return _()},get reverse(){return w(Te)},get ariaLabel(){return M().label.a}}),$(Zt),Ot(Ye=>ie=je(Zt,"",ie,{"--alphaless-color":Ye}),[()=>(u()?u():w(B)).substring(0,7)]),J(Lt,Zt)};Dt(vn,Lt=>{m()&&Lt(ce)})}var pn=X(vn,2);{var vr=Lt=>{var Zt=Et(),ie=ht(Zt);const Ne=ct(()=>u()??w(B)),Fe=ct(()=>s()??w(P)),Xe=ct(()=>o()??w(O)),Te=ct(M);se(ie,()=>w(vt).textInput,(Ye,Yr)=>{Yr(Ye,{get hex(){return w(Ne)},get rgb(){return w(Fe)},get hsv(){return w(Xe)},onInput:Je=>{Je.hsv?o(Je.hsv):Je.rgb?s(Je.rgb):Je.hex&&u(Je.hex)},get isAlpha(){return m()},get textInputModes(){return b()},get texts(){return w(Te)}})}),J(Lt,Zt)};Dt(pn,Lt=>{g()&&Lt(vr)})}var qn=X(pn,2);{var Gn=Lt=>{var Zt=Et(),ie=ht(Zt);const Ne=ct(N),Fe=ct(()=>u()||"#00000000");se(ie,()=>w(vt).a11yNotice,(Xe,Te)=>{Te(Xe,{get components(){return w(Ne)},get a11yColors(){return C()},get hex(){return w(Fe)},get a11yTexts(){return I()},get a11yLevel(){return k()}})}),J(Lt,Zt)};Dt(qn,Lt=>{N().a11yNotice&&Lt(Gn)})}J(S,G)},$$slots:{default:!0}})}),$(Ct),Pe(Ct,F=>nt(R,F),()=>w(R)),Ot(()=>ne(Ct,1,`color-picker ${_()??""}`,"svelte-1y2jcbx")),uo("innerWidth",F=>nt(V,F,!0)),uo("innerHeight",F=>nt(K,F,!0)),J(t,Ct),_t()}var Gb=(t,e)=>nt(e,!w(e)),Zb=(t,e,n)=>e(w(n).label),Kb=ft('<button type="button" class="btn-icond btn-lg"><!></button>'),Xb=ft('<button type="button" aria-label="Select color" class="w-8 h-8 rounded-full ring-2 ring-gray-200 hover:ring-primary-500 transition"></button>'),Yb=ft('<div class="grid h-screen grid-rows-[auto_1fr_auto]"><header class="bg-surface-100 shadow flex flex-wrap items-center gap-3"><div class="flex-none px-8 bg-primary rounded select-none text-left font-bold text-success-700 flex items-center gap-2" style="min-width: 180px;"><img alt="Midori Icon" class="w-16 h-16 object-contain"/> <span class="hidden sm:inline">HGペイント（歩行グラフィックペイント）</span> <span class="sm:hidden flex flex-col"><span>HGペイント</span> <span>（歩行グラフィックペイント）</span></span></div> <div class="flex flex-1 flex-wrap justify-center items-center gap-3"><!> <div class="input-group grid-cols-[1fr_auto]"><input class="ig-input" type="text" placeholder="レイヤー名" maxlength="32"/> <button title="レイヤー名の編集"><!></button></div> <button type="button" class="btn-icond btn-lg"><!></button> <button type="button" class="btn-icond btn-lg"><!></button></div> <!> <div class="w-[12ch] flex justify-between font-mono text-sm tabular-nums"><span class="text-left">不透明度</span> <span class="text-right"> </span></div> <div class="my-2 w-full basis-full max-w-[300px] mt-2"><!></div></header> <div class="grid grid-cols-1 md:grid-cols-[auto_1fr_auto]"><aside class="bg-surface-200 p-4 space-y-4"><!></aside> <main class="bg-white flex items-center justify-center gap-4"><!> <div></div> <!></main> <aside class="bg-surface-200 p-4 space-y-4"><!> <!></aside></div> <footer class="bg-surface-100 shadow p-2 flex flex-wrap items-center justify-center gap-2"><!> <nav class="btn-group preset-outlined-surface-200-800 flex gap-4"><!> <!> <!> <!> <!></nav> <nav class="btn-group preset-outlined-surface-200-800 flex gap-2"></nav> <!> <!> <!> <!> <div class="w-full text-left flex flex-wrap items-center gap-4"><div class="rounded-full ring-2 ring-black ring-offset-2 ring-offset-white"><!></div> <input type="color" class="w-10 h-10 rounded-full border-none p-0"/> <div class="flex gap-2"></div></div></footer></div>');function s1(t,e){yt(e,!0);const[n,r]=Bi(),i=()=>Pr(Dn,"$color",n),a=()=>Pr(Ar,"$isOnionSkin",n),s=globalThis.innerWidth<768;let o=bt(0);const u=()=>{setTimeout(()=>{nt(o,performance.now(),!0)})};Vt(()=>(document.addEventListener("pointerup",u),()=>document.removeEventListener("pointerup",u)));const f=async tt=>{if(h(tt)||!tt.ctrlKey)return;let pt=tt.key;switch(tt.getModifierState("CapsLock")&&(pt=/[a-z]/.test(pt)?pt.toUpperCase():pt.toLowerCase()),pt){case"1":tt.preventDefault(),nt(W,v.pen.label,!0);break;case"2":tt.preventDefault(),nt(W,v.eraser.label,!0);break;case"3":tt.preventDefault(),nt(W,v.dropper.label,!0);break;case"4":tt.preventDefault(),nt(W,v.fill.label,!0);break;case"5":tt.preventDefault(),nt(W,v.translate.label,!0);break;case"e":tt.preventDefault(),nt(K,!w(K));break;case"f":tt.preventDefault(),nt(j,!w(j));break;case"g":tt.preventDefault(),nt(et,!w(et));break;case"d":tt.preventDefault(),nt(N,!w(N));break;case"o":tt.preventDefault(),Ar.update(at=>!at);break;case"z":tt.preventDefault(),ot(v.undo.label);break;case"Z":tt.preventDefault(),ot(v.redo.label);break;case"s":tt.preventDefault(),ot(v.save.label);break;case"c":{tt.preventDefault();const at=await new Promise(Tt=>Cr().toBlob(Tt));if(!at)return;const gt=new ClipboardItem({"image/png":at});await navigator.clipboard.write([gt])}break}};Vt(()=>{if(w(g))return window.removeEventListener("keydown",f),window.addEventListener("keydown",f),()=>window.removeEventListener("keydown",f)});const h=tt=>{var at;const pt=tt.target;return!((at=getSelection())!=null&&at.isCollapsed)||pt.tagName==="INPUT"||pt.tagName==="TEXTAREA"||pt.isContentEditable},m=async tt=>{var Jr,Zs,Ks;if(h(tt)||!w(c)||(Jr=w(c))!=null&&Jr.locked)return;let pt=null;for(const mn of((Zs=tt.clipboardData)==null?void 0:Zs.items)??[])mn.kind==="file"&&mn.type.startsWith("image/")&&(pt=mn);if(!pt)return;const at=pt.getAsFile();if(!at)return;const gt=Va(),{width:Tt,height:zt}=Nr,Pt=await createImageBitmap(at),Ie=document.createElement("canvas");Ie.width=Tt,Ie.height=zt;const Ae=Ie.getContext("2d");if(!Ae)return;Ae.imageSmoothingEnabled=!1;const In=Math.min(Tt/Pt.width,zt/Pt.height),An=Pt.width*In,Zn=Pt.height*In,Qe=(Tt-An)/2,gn=(zt-Zn)/2;Ae.drawImage(Pt,Qe,gn,An,Zn);const{data:sa}=Ae.getImageData(0,0,Tt,zt);for(let mn=0;mn<zt;mn++)for(let Qr=0;Qr<Tt;Qr++){const Xs=(mn*Tt+Qr)*4,[ru,iu,au,Ys]=sa.subarray(Xs,Xs+4);Ys&&(Mn.value=`rgba(${ru}, ${iu}, ${au}, ${Ys/255})`,w(c).drawByDot(Qr*gt,mn*gt),w(c).used=!0)}(Ks=w(c))==null||Ks.trace(),u()};Vt(()=>{if(w(g))return window.removeEventListener("paste",m),window.addEventListener("paste",m),()=>window.removeEventListener("paste",m)});const d=(tt,pt)=>{if(!w(c))return;const at=Cr().getContext("2d",{willReadFrequently:!0});if(!at)return;const{data:gt}=at.getImageData(0,0,x,_),Tt=(pt*x+tt)*4,zt=`#${Array.from(gt.slice(Tt,Tt+3)).map(Pt=>Pt.toString(16).padStart(2,"0")).join("")}`;Dn.set(zt)},l=async(tt,pt)=>{var Ie;if(!w(c))return;const at=(Ie=i().slice(1).match(/.{2}/g))==null?void 0:Ie.map(Ae=>Number.parseInt(Ae,16));if((at==null?void 0:at.length)!==3)return;const[gt,Tt,zt]=at,Pt=td(w(c).data,x,_,tt,pt,w(K)?[0,0,0,0]:[gt,Tt,zt,255]);Pt&&(w(c).data=Pt)};let p=bt(void 0),c=bt(void 0),g=bt(null),b=bt(null);const _=s?Math.floor(globalThis.innerWidth*.9/48)*48:480;let x=_,C=bt(0);Vt(()=>{k()});const k=async()=>{if(!w(p))return;nt(C,performance.now(),!0);const tt=Mi,pt=Vi;x=Math.floor(_*(tt/pt)),od(w(p),x,_);const at=ql.value,gt=Is.value;at==null||at.canvas.classList.add("upper-canvas"),gt==null||gt.canvas.classList.add("gimp-checkered-background"),nt(g,at,!0),nt(b,gt,!0),at&&(at.opacity=32),ad(1,pt),document.documentElement.style.setProperty("--grid-cell-size",`${Va()}px`),nt(c,new cn("レイヤー #1"),!0)};Vt(()=>{w(g)&&document.addEventListener("pointermove",tt=>{if(!w(g))return;const[pt,at]=Vn(tt);w(g).clear(),w(g).drawByDot(pt,at)},{passive:!0})}),Vt(()=>{if(!w(g))return;let tt=null,pt=null;cd((gt,Tt,zt)=>{var Pt,Ie,Ae,In,An;if(tt===null&&(tt=gt),pt===null&&(pt=Tt),w(W)===v.dropper.label||(zt&2)!==0)d(gt,Tt);else if(!((Pt=w(c))!=null&&Pt.locked))if(w(W)===v.translate.label)(Ie=w(c))==null||Ie.translateByDot(gt-tt,Tt-pt);else{const Zn=fd(gt,Tt,tt,pt);switch(w(W)){case v.pen.label:for(const[Qe,gn]of Zn)w(K)?(Ae=w(c))==null||Ae.eraseByDot(Qe,gn):(In=w(c))==null||In.drawByDot(Qe,gn);break;case v.eraser.label:for(const[Qe,gn]of Zn)(An=w(c))==null||An.eraseByDot(Qe,gn);break}}tt=gt,pt=Tt});const at=()=>{var gt;(gt=w(c))!=null&&gt.modified()&&(w(c).trace(),R())};ud((gt,Tt,zt)=>{var Pt;tt=null,pt=null,!((Pt=w(c))!=null&&Pt.locked)&&(w(W)===v.fill.label&&l(gt,Tt),at())}),ld((gt,Tt,zt)=>{})}),Vt(()=>{w(c)&&(nt(A,[w(c).opacity],!0),nt(I,w(c).visible,!0),nt(P,w(c).name,!0),nt(O,!0),nt(B,w(c).locked,!0))});let A=bt(Xt([100])),I=bt(!0),P=bt(""),O=bt(!0),B=bt(!1);Vt(()=>{w(c)&&(w(c).opacity=w(A)[0])}),Vt(()=>{w(c)&&(w(c).visible=w(I))}),Vt(()=>{w(c)&&(w(c).name=w(P))}),Vt(()=>{w(c)&&(w(c).locked=w(B))}),Vt(()=>{Kl.value=i(),Mn.value=i()});let z=bt(Xt([]));const E=32,R=()=>{if(w(W)===v.translate.label)return;const tt=w(z).indexOf(i());tt!==0&&(tt!==-1&&w(z).splice(tt,1),w(z).unshift(i()),w(z).length>E&&w(z).pop(),nt(z,[...w(z)],!0))},v={pen:{label:"ペン",mdi:sb,icon:Td},eraser:{label:"消しゴム",mdi:nb,icon:po},dropper:{label:"カラーピッカー",mdi:rb,icon:Id},fill:{label:"塗りつぶし",mdi:ib,icon:Sd},translate:{label:"ハンドツール",mdi:ab,icon:Cd},erasable:{icon:po},flip:{icon:wd},grid:{icon:xd},undo:{label:"戻る",mdi:cb,icon:Dd},redo:{label:"進む",mdi:ob,icon:Od},save:{label:"画像を保存",mdi:eb,icon:Rd},clear:{label:"全消し",mdi:lb,icon:_i}};let D=[v.pen,v.eraser,v.dropper,v.fill,v.translate],W=bt(Xt(vo.value??v.pen.label));const V=tt=>{const pt=`fill="${w(N)?"white":"black"}" stroke="${w(N)?"black":"white"}" stroke-width="1"`,at=`<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32"><path d="${tt}" ${pt}/></svg>`;return`data:image/svg+xml;base64,${btoa(at)}`};Vt(()=>{var tt;if(vo.value=w(W),w(g)){const pt=w(W)===v.fill.label?"21 19":"3 21",at=(tt=D.find(gt=>gt.label===w(W)))==null?void 0:tt.mdi;if(!at)return;w(g).canvas.style.cursor=`url('${V(at)}') ${pt}, auto`}});let K=bt(!1),j=bt(!1);Vt(()=>{Ts.value=w(j)});let et=bt(!0),N=bt(!1);Vt(()=>{w(N)?document.body.classList.add("hg-paint-gimp-dark"):document.body.classList.remove("hg-paint-gimp-dark")});let M=[v.undo,v.redo,v.save,v.clear];const ot=tt=>{var pt,at,gt,Tt;switch(tt){case v.undo.label:(pt=w(c))==null||pt.undo(),u();break;case v.redo.label:(at=w(c))==null||at.redo(),u();break;case v.save.label:{const zt=Cr().toDataURL("image/png"),Pt=document.createElement("a");Pt.href=zt,Pt.download="drawing.png",Pt.click()}break;case v.clear.label:(gt=w(c))==null||gt.clear(),(Tt=w(c))==null||Tt.trace();break}};var rt=Yb(),Q=Z(rt),wt=Z(Q),St=Z(wt);ke(4),$(wt);var dt=X(wt,2),xt=Z(dt);Pn(xt,{controlActive:"bg-secondary-500",get checked(){return w(B)},onCheckedChange:at=>{nt(B,at.checked,!0)},inactiveChild:at=>{Ya(at,{size:"14"})},activeChild:at=>{Ya(at,{size:"14"})},$$slots:{inactiveChild:!0,activeChild:!0}});var vt=X(xt,2),Ct=Z(vt);qt(Ct);var Bt=X(Ct,2);Bt.__click=[Gb,O];var Mt=Z(Bt);{var y=tt=>{Pd(tt,{size:18})},q=tt=>{bd(tt,{size:18})};Dt(Mt,tt=>{w(O)?tt(y):tt(q,!1)})}$(Bt),$(vt);var F=X(vt,2);F.__click=()=>{if(w(B)||!w(c)||w(c).used&&!confirm(`${w(c).name}を削除しますか？`))return;w(c).delete();const{prev:tt,next:pt}=w(c);pt?nt(c,pt,!0):tt?nt(c,tt,!0):(Za(),nt(c,new cn("レイヤー #1"),!0))};var T=Z(F);_i(T,{size:18}),$(F);var S=X(F,2);S.__click=async()=>{w(B)||!w(c)||!confirm("全レイヤーを削除しますか？")||(Fr([]),Za(),nt(c,new cn("レイヤー #1"),!0))};var L=Z(S);md(L,{size:18}),$(S),$(dt);var G=X(dt,2);Pn(G,{controlActive:"bg-secondary-500",get checked(){return w(I)},onCheckedChange:at=>{nt(I,at.checked,!0)},inactiveChild:at=>{Xa(at,{size:"14"})},activeChild:at=>{Xa(at,{size:"14"})},$$slots:{inactiveChild:!0,activeChild:!0}});var Y=X(G,2),H=X(Z(Y),2),it=Z(H);$(H),$(Y);var lt=X(Y,2),st=Z(lt);Ic(st,{get value(){return w(A)},onValueChange:tt=>nt(A,tt.value,!0),markers:[25,50,75]}),$(lt),$(Q);var ut=X(Q,2),Ft=Z(ut),It=Z(Ft);Vd(It,{get initTimestamp(){return w(C)},get pointerupTimestamp(){return w(o)},get activeLayer(){return w(c)},set activeLayer(tt){nt(c,tt,!0)}}),$(Ft);var Jt=X(Ft,2),be=Z(Jt);{var le=tt=>{Wm(tt,{get initTimestamp(){return w(C)}})};Dt(be,tt=>{s||tt(le)})}var Se=X(be,2);let jt;Pe(Se,tt=>nt(p,tt),()=>w(p));var hn=X(Se,2);{var vn=tt=>{Im(tt,{})};Dt(hn,tt=>{s||tt(vn)})}$(Jt);var ce=X(Jt,2),pn=Z(ce);sf(pn,{});var vr=X(pn,2);Fm(vr,{get pointerupTimestamp(){return w(o)},get activeLayer(){return w(c)},set activeLayer(tt){nt(c,tt,!0)}}),$(ce),$(ut);var qn=X(ut,2),Gn=Z(qn);Fo(Gn,{name:"tool",get value(){return w(W)},onValueChange:tt=>{tt.value&&nt(W,tt.value,!0)},children:(tt,pt)=>{var at=Et(),gt=ht(at);fe(gt,17,()=>D,de,(Tt,zt)=>{var Pt=Et(),Ie=ht(Pt);se(Ie,()=>Fo.Item,(Ae,In)=>{In(Ae,{get value(){return w(zt).label},children:(An,Zn)=>{var Qe=Et(),gn=ht(Qe);se(gn,()=>w(zt).icon,(sa,Jr)=>{Jr(sa,{})}),J(An,Qe)},$$slots:{default:!0}})}),J(Tt,Pt)}),J(tt,at)},$$slots:{default:!0}});var Lt=X(Gn,2),Zt=Z(Lt);Pn(Zt,{controlActive:"bg-secondary-500",get checked(){return w(K)},onCheckedChange:at=>{nt(K,at.checked,!0)},inactiveChild:at=>{var gt=Et(),Tt=ht(gt);se(Tt,()=>v.erasable.icon,(zt,Pt)=>{Pt(zt,{size:"14"})}),J(at,gt)},activeChild:at=>{var gt=Et(),Tt=ht(gt);se(Tt,()=>v.erasable.icon,(zt,Pt)=>{Pt(zt,{size:"14"})}),J(at,gt)},$$slots:{inactiveChild:!0,activeChild:!0}});var ie=X(Zt,2);Pn(ie,{controlActive:"bg-secondary-500",get checked(){return w(j)},onCheckedChange:at=>{nt(j,at.checked,!0)},inactiveChild:at=>{var gt=Et(),Tt=ht(gt);se(Tt,()=>v.flip.icon,(zt,Pt)=>{Pt(zt,{size:"14"})}),J(at,gt)},activeChild:at=>{var gt=Et(),Tt=ht(gt);se(Tt,()=>v.flip.icon,(zt,Pt)=>{Pt(zt,{size:"14"})}),J(at,gt)},$$slots:{inactiveChild:!0,activeChild:!0}});var Ne=X(ie,2);Pn(Ne,{controlActive:"bg-secondary-500",get checked(){return w(et)},onCheckedChange:at=>{nt(et,at.checked,!0)},inactiveChild:at=>{var gt=Et(),Tt=ht(gt);se(Tt,()=>v.grid.icon,(zt,Pt)=>{Pt(zt,{size:"14"})}),J(at,gt)},activeChild:at=>{var gt=Et(),Tt=ht(gt);se(Tt,()=>v.grid.icon,(zt,Pt)=>{Pt(zt,{size:"14"})}),J(at,gt)},$$slots:{inactiveChild:!0,activeChild:!0}});var Fe=X(Ne,2);Pn(Fe,{controlActive:"bg-secondary-500",get checked(){return w(N)},onCheckedChange:at=>{nt(N,at.checked,!0)},inactiveChild:at=>{Ld(at,{size:"14"})},activeChild:at=>{Ed(at,{size:"14"})},$$slots:{inactiveChild:!0,activeChild:!0}});var Xe=X(Fe,2);Pn(Xe,{controlActive:"bg-secondary-500",get checked(){return a()},onCheckedChange:at=>{Ar.set(at.checked)},inactiveChild:at=>{go(at,{size:"14"})},activeChild:at=>{go(at,{size:"14"})},$$slots:{inactiveChild:!0,activeChild:!0}}),$(Lt);var Te=X(Lt,2);fe(Te,21,()=>M,de,(tt,pt)=>{var at=Kb();at.__click=[Zb,ot,pt];var gt=Z(at);se(gt,()=>w(pt).icon,(Tt,zt)=>{zt(Tt,{size:18})}),$(at),J(tt,at)}),$(Te);var Ye=X(Te,2);Mm(Ye);var Yr=X(Ye,2);tb(Yr,{init:k});var Je=X(Yr,2);xm(Je,{init:k,get activeLayer(){return w(c)},set activeLayer(tt){nt(c,tt,!0)},get initTimestamp(){return w(C)},set initTimestamp(tt){nt(C,tt,!0)}});var $s=X(Je,2);pm($s,{get width(){return x},get height(){return _}});var qs=X($s,2),ia=Z(qs),nu=Z(ia);qb(nu,{label:"",isAlpha:!1,get hex(){return Vu(),i()},set hex(tt){so(Dn,tt)}}),$(ia);var aa=X(ia,2);qt(aa);var Gs=X(aa,2);fe(Gs,21,()=>w(z),de,(tt,pt)=>{var at=Xb();at.__click=()=>Dn.set(w(pt)),Ot(()=>je(at,`background-color:${w(pt)??""};`)),J(tt,at)}),$(Gs),$(qs),$(qn),$(rt),Ot(tt=>{Ut(St,"src",`${Hu??""}/midori.png`),Ct.disabled=w(O),ne(Bt,1,`ig-btn ${w(O)?"":"preset-filled"}`),oe(it,`${w(A)??""}%`),jt=ne(Se,1,"relative",null,jt,tt)},[()=>({"hg-paint-grid-mode":w(et)})]),xn(Ct,()=>w(P),tt=>nt(P,tt)),xn(aa,i,tt=>so(Dn,tt)),J(t,rt),_t(),r()}me(["click"]);export{s1 as component};
