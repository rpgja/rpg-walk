var pu=Object.defineProperty;var so=t=>{throw TypeError(t)};var gu=(t,e,n)=>e in t?pu(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ue=(t,e,n)=>gu(t,typeof e!="symbol"?e+"":e,n),oo=(t,e,n)=>e.has(t)||so("Cannot "+n);var ee=(t,e,n)=>(oo(t,e,"read from private field"),n?n.call(t):e.get(t)),yn=(t,e,n)=>e.has(t)?so("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),we=(t,e,n,r)=>(oo(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);import{c as mu,q as bu,s as Al,u as Ol,v as yu,x as _u,f as tt,d as Ct,l as fe,g as dt,y as ji,t as gr,z as Mn}from"../chunks/Cf_lSfOu.js";import{am as Rl,aq as wu,aC as xu,aD as Pl,aE as ku,B as Ll,P as Ss,p as Yt,h as Si,V as Ts,o as $i,d as dn,W as Eu,n as Dl,aF as Nl,c as Or,g as Fl,J as w,a7 as Cu,R as Su,S as Tu,T as lo,s as Rr,e as Iu,U as Is,aG as fa,l as zl,Z as Bl,t as Mr,aH as As,aI as co,aJ as Os,a0 as Au,aK as uo,aL as Ou,aM as Ru,k as Pu,aN as Lu,al as Ml,aO as Du,a as Nu,Q as Vl,aP as Fu,X as Ul,A as qi,Y as Rs,K as zu,aQ as Bu,aR as Mu,aS as Vu,af as Uu,z as Pt,av as fo,aw as ho,ax as Hu,q as gt,u as mt,w as Y,N as q,O as j,v as pt,ak as ct,aT as Wu,D as Bt,a1 as J,ai as ht,y as At,aa as Gt,F as ju,ah as Hl,aU as $u,aV as qu,x as ye,aW as Vn,aj as Gu}from"../chunks/DPQK0Uav.js";import{a as vo,b as Zu,s as se}from"../chunks/VSBHct8t.js";import{p as W,r as Dt,s as Ht,a as Gn,d as Xe,i as Lt,b as Se,c as ce,e as po,m as Ku}from"../chunks/DSWX1_Hw.js";import{b as $t,s as Rt,a as Vt,c as re,r as qt,d as Ha,e as Ge,i as Wa,f as ja,g as Oe}from"../chunks/CkqrWBn0.js";import{b as Xu}from"../chunks/DKGf-yU4.js";import{w as Gi,g as $a,a as Wl,o as Yu}from"../chunks/D52jLUrR.js";const Ju=[];function Pn(t,e=!1){return mi(t,new Map,"",Ju)}function mi(t,e,n,r,i=null){if(typeof t=="object"&&t!==null){var s=e.get(t);if(s!==void 0)return s;if(t instanceof Map)return new Map(t);if(t instanceof Set)return new Set(t);if(Rl(t)){var a=Array(t.length);e.set(t,a),i!==null&&e.set(i,a);for(var o=0;o<t.length;o+=1){var c=t[o];o in t&&(a[o]=mi(c,e,n,r))}return a}if(wu(t)===xu){a={},e.set(t,a),i!==null&&e.set(i,a);for(var d in t)a[d]=mi(t[d],e,n,r);return a}if(t instanceof Date)return structuredClone(t);if(typeof t.toJSON=="function")return mi(t.toJSON(),e,n,r,t)}if(t instanceof EventTarget)return t;try{return structuredClone(t)}catch{return t}}function bi(t,e,n){Yt&&Si();var r=t,i=Eu,s,a=Pl()?ku:Ll;Ss(()=>{a(i,i=e())&&(s&&Ts(s),s=$i(()=>n(r)))}),Yt&&(r=dn)}function ue(t,e){return e}function Qu(t,e,n,r){for(var i=[],s=e.length,a=0;a<s;a++)Ru(e[a].e,i,!0);var o=s>0&&i.length===0&&n!==null;if(o){var c=n.parentNode;Pu(c),c.append(n),r.clear(),_n(t,e[0].prev,e[s-1].next)}Lu(i,()=>{for(var d=0;d<s;d++){var f=e[d];o||(r.delete(f.k),_n(t,f.prev,f.next)),Ml(f.e,!o)}})}function de(t,e,n,r,i,s=null){var a=t,o={flags:e,items:new Map,first:null},c=(e&Nl)!==0;if(c){var d=t;a=Yt?Or(Fl(d)):d.appendChild(Dl())}Yt&&Si();var f=null,g=!1,u=Cu(()=>{var l=n();return Rl(l)?l:l==null?[]:zl(l)});Ss(()=>{var l=w(u),p=l.length;if(g&&p===0)return;g=p===0;let h=!1;if(Yt){var b=Su(a)===Tu;b!==(p===0)&&(a=lo(),Or(a),Rr(!1),h=!0)}if(Yt){for(var v=null,y,x=0;x<p;x++){if(dn.nodeType===8&&dn.data===Iu){a=dn,h=!0,Rr(!1);break}var E=l[x],k=r(E,x);y=jl(dn,o,v,null,E,k,x,i,e,n),o.items.set(k,y),v=y}p>0&&Or(lo())}Yt||td(l,o,a,i,e,r,n),s!==null&&(p===0?f?Is(f):f=$i(()=>s(a)):f!==null&&Ts(f,()=>{f=null})),h&&Rr(!0),w(u)}),Yt&&(a=dn)}function td(t,e,n,r,i,s,a){var m,N,V,U;var o=(i&Ou)!==0,c=(i&(As|Os))!==0,d=t.length,f=e.items,g=e.first,u=g,l,p=null,h,b=[],v=[],y,x,E,k;if(o)for(k=0;k<d;k+=1)y=t[k],x=s(y,k),E=f.get(x),E!==void 0&&((m=E.a)==null||m.measure(),(h??(h=new Set)).add(E));for(k=0;k<d;k+=1){if(y=t[k],x=s(y,k),E=f.get(x),E===void 0){var I=u?u.e.nodes_start:n;p=jl(I,e,p,p===null?e.first:p.next,y,x,k,r,i,a),f.set(x,p),b=[],v=[],u=p.next;continue}if(c&&ed(E,y,k,i),(E.e.f&fa)!==0&&(Is(E.e),o&&((N=E.a)==null||N.unfix(),(h??(h=new Set)).delete(E))),E!==u){if(l!==void 0&&l.has(E)){if(b.length<v.length){var O=v[0],P;p=O.prev;var A=b[0],M=b[b.length-1];for(P=0;P<b.length;P+=1)go(b[P],O,n);for(P=0;P<v.length;P+=1)l.delete(v[P]);_n(e,A.prev,M.next),_n(e,p,A),_n(e,M,O),u=O,p=M,k-=1,b=[],v=[]}else l.delete(E),go(E,u,n),_n(e,E.prev,E.next),_n(e,E,p===null?e.first:p.next),_n(e,p,E),p=E;continue}for(b=[],v=[];u!==null&&u.k!==x;)(u.e.f&fa)===0&&(l??(l=new Set)).add(u),v.push(u),u=u.next;if(u===null)continue;E=u}b.push(E),p=E,u=E.next}if(u!==null||l!==void 0){for(var F=l===void 0?[]:zl(l);u!==null;)(u.e.f&fa)===0&&F.push(u),u=u.next;var C=F.length;if(C>0){var R=(i&Nl)!==0&&d===0?n:null;if(o){for(k=0;k<C;k+=1)(V=F[k].a)==null||V.measure();for(k=0;k<C;k+=1)(U=F[k].a)==null||U.fix()}Qu(e,F,R,f)}}o&&Bl(()=>{var G;if(h!==void 0)for(E of h)(G=E.a)==null||G.apply()}),Mr.first=e.first&&e.first.e,Mr.last=p&&p.e}function ed(t,e,n,r){(r&As)!==0&&co(t.v,e),(r&Os)!==0?co(t.i,n):t.i=n}function jl(t,e,n,r,i,s,a,o,c,d){var f=(c&As)!==0,g=(c&Du)===0,u=f?g?Au(i,!1,!1):uo(i):i,l=(c&Os)===0?a:uo(a),p={i:l,v:u,k:s,a:null,e:null,prev:n,next:r};try{return p.e=$i(()=>o(t,u,l,d),Yt),p.e.prev=n&&n.e,p.e.next=r&&r.e,n===null?e.first=p:(n.next=p,n.e.next=p.e),r!==null&&(r.prev=p,r.e.prev=p.e),p}finally{}}function go(t,e,n){for(var r=t.next?t.next.e.nodes_start:n,i=e?e.e.nodes_start:n,s=t.e.nodes_start;s!==r;){var a=Nu(s);i.before(s),s=a}}function _n(t,e,n){e===null?t.first=n:(e.next=n,e.e.next=n&&n.e),n!==null&&(n.prev=e,n.e.prev=e&&e.e)}function nd(t,e,n,r,i,s){let a=Yt;Yt&&Si();var o,c,d=null;Yt&&dn.nodeType===1&&(d=dn,Si());var f=Yt?dn:t,g;Ss(()=>{const u=e()||null;var l=Fu;u!==o&&(g&&(u===null?Ts(g,()=>{g=null,c=null}):u===c?Is(g):(Ml(g),vo(!1))),u&&u!==c&&(g=$i(()=>{if(d=Yt?d:document.createElementNS(l,u),mu(d,d),r){Yt&&bu(u)&&d.append(document.createComment(""));var p=Yt?Fl(d):d.appendChild(Dl());Yt&&(p===null?Rr(!1):Or(p)),r(d,p)}Mr.nodes_end=d,f.before(d)})),o=u,o&&(c=o),vo(!0))},Vl),a&&(Rr(!0),Or(f))}function rd(t,e,n){Ul(()=>{var r=qi(()=>e(t,n==null?void 0:n())||{});if(n&&(r!=null&&r.update)){var i=!1,s={};Rs(()=>{var a=n();zu(a),i&&Ll(s,a)&&(s=a,r.update(a))}),i=!0}if(r!=null&&r.destroy)return()=>r.destroy()})}const id=()=>performance.now(),fn={tick:t=>requestAnimationFrame(t),now:()=>id(),tasks:new Set};function $l(){const t=fn.now();fn.tasks.forEach(e=>{e.c(t)||(fn.tasks.delete(e),e.f())}),fn.tasks.size!==0&&fn.tick($l)}function ad(t){let e;return fn.tasks.size===0&&fn.tick($l),{promise:new Promise(n=>{fn.tasks.add(e={c:t,f:n})}),abort(){fn.tasks.delete(e)}}}function li(t,e){Al(()=>{t.dispatchEvent(new CustomEvent(e))})}function sd(t){if(t==="float")return"cssFloat";if(t==="offset")return"cssOffset";if(t.startsWith("--"))return t;const e=t.split("-");return e.length===1?e[0]:e[0]+e.slice(1).map(n=>n[0].toUpperCase()+n.slice(1)).join("")}function mo(t){const e={},n=t.split(";");for(const r of n){const[i,s]=r.split(":");if(!i||s===void 0)break;const a=sd(i.trim());e[a]=s.trim()}return e}const od=t=>t;function ld(t,e,n,r){var i=(t&Vu)!==0,s="both",a,o=e.inert,c=e.style.overflow,d,f;function g(){var b=Hu,v=Mr;fo(null),ho(null);try{return a??(a=n()(e,(r==null?void 0:r())??{},{direction:s}))}finally{fo(b),ho(v)}}var u={is_global:i,in(){e.inert=o,li(e,"introstart"),d=qa(e,g(),f,1,()=>{li(e,"introend"),d==null||d.abort(),d=a=void 0,e.style.overflow=c})},out(b){e.inert=!0,li(e,"outrostart"),f=qa(e,g(),d,0,()=>{li(e,"outroend"),b==null||b()})},stop:()=>{d==null||d.abort(),f==null||f.abort()}},l=Mr;if((l.transitions??(l.transitions=[])).push(u),Zu){var p=i;if(!p){for(var h=l.parent;h&&(h.f&Vl)!==0;)for(;(h=h.parent)&&(h.f&Bu)===0;);p=!h||(h.f&Mu)!==0}p&&Ul(()=>{qi(()=>u.in())})}}function qa(t,e,n,r,i){var s=r===1;if(Uu(e)){var a,o=!1;return Bl(()=>{if(!o){var b=e({direction:s?"in":"out"});a=qa(t,b,n,r,i)}}),{abort:()=>{o=!0,a==null||a.abort()},deactivate:()=>a.deactivate(),reset:()=>a.reset(),t:()=>a.t()}}if(n==null||n.deactivate(),!(e!=null&&e.duration))return i(),{abort:Pt,deactivate:Pt,reset:Pt,t:()=>r};const{delay:c=0,css:d,tick:f,easing:g=od}=e;var u=[];if(s&&n===void 0&&(f&&f(0,1),d)){var l=mo(d(0,1));u.push(l,l)}var p=()=>1-r,h=t.animate(u,{duration:c,fill:"forwards"});return h.onfinish=()=>{h.cancel();var b=(n==null?void 0:n.t())??1-r;n==null||n.abort();var v=r-b,y=e.duration*Math.abs(v),x=[];if(y>0){var E=!1;if(d)for(var k=Math.ceil(y/16.666666666666668),I=0;I<=k;I+=1){var O=b+v*g(I/k),P=mo(d(O,1-O));x.push(P),E||(E=P.overflow==="hidden")}E&&(t.style.overflow="hidden"),p=()=>{var A=h.currentTime;return b+v*g(A/y)},f&&ad(()=>{if(h.playState!=="running")return!1;var A=p();return f(A,1-A),!0})}h=t.animate(x,{duration:y,fill:"forwards"}),h.onfinish=()=>{p=()=>r,f==null||f(r,1-r),i()}},{abort:()=>{h&&(h.cancel(),h.effect=null,h.onfinish=Pt)},deactivate:()=>{i=Pt},reset:()=>{r===0&&(f==null||f(1,0))},t:()=>p()}}function kn(t,e,n=e){var r=Pl();Ol(t,"input",i=>{var s=i?t.defaultValue:t.value;if(s=ha(t)?va(s):s,n(s),r&&s!==(s=e())){var a=t.selectionStart,o=t.selectionEnd;t.value=s??"",o!==null&&(t.selectionStart=a,t.selectionEnd=Math.min(o,t.value.length))}}),(Yt&&t.defaultValue!==t.value||qi(e)==null&&t.value)&&n(ha(t)?va(t.value):t.value),Rs(()=>{var i=e();ha(t)&&i===va(t.value)||t.type==="date"&&!i&&!t.value||i!==t.value&&(t.value=i??"")})}function ql(t,e,n=e){Ol(t,"change",r=>{var i=r?t.defaultChecked:t.checked;n(i)}),(Yt&&t.defaultChecked!==t.checked||qi(e)==null)&&n(t.checked),Rs(()=>{var r=e();t.checked=!!r})}function ha(t){var e=t.type;return e==="number"||e==="range"}function va(t){return t===""?null:+t}function bo(t,e){yu(window,["resize"],()=>Al(()=>e(window[t])))}const Gl=typeof window<"u",yo=t=>Gl?localStorage.getItem(t):null,_o=(t,e)=>{Gl&&(e===null?localStorage.removeItem(t):localStorage.setItem(t,e))};var xn,Kr;class Jr{constructor(e,n){yn(this,xn);yn(this,Kr);we(this,xn,e),we(this,Kr,n)}get value(){return yo(ee(this,xn))}set value(e){var n;this.value!==e&&(_o(ee(this,xn),e),(n=ee(this,Kr))==null||n.call(this))}get json(){try{const e=yo(ee(this,xn));return e?JSON.parse(e):null}finally{this.value=null}}set json(e){e===null&&_o(ee(this,xn),null),this.value=JSON.stringify(e)}}xn=new WeakMap,Kr=new WeakMap;const wo=new Jr("tool"),Zl=new Jr("color"),Kl=new Jr("standard"),Ga=new Jr("fps"),xo=new Jr("previewMode");let Qr,ti,Ye,Zi,je;const $e=(t,e)=>t+e*Ye,Xl=t=>[t%Ye,Math.floor(t/Ye)],Ps=(t,e,n,r)=>{Qr=t,ti=e;const i=Yl(r);Zi=i.length,Ye=n,je=i,Vr.clear();for(const[s,a]of i.entries())Vr.set(a,s*Ye);hr.clear(),Pe.clear(),Ur.clear()},Vr=new Map,hr=new Map,Pe=new Map,Ur=new Map,wt={w:{key:"w",label:"後"},a:{key:"a",label:"左"},s:{key:"s",label:"前"},d:{key:"d",label:"右"},q:{key:"q",label:"左後"},e:{key:"e",label:"右後"},z:{key:"z",label:"左前"},c:{key:"c",label:"右前"}},Ki=t=>t.map(e=>e.key).join(""),Yl=t=>t.split("").map(e=>e in wt?wt[e]:{key:e,label:""}),Ls={label:"RPGEN",w:16,h:16,frames:2,ways:[wt.w,wt.d,wt.s,wt.a]},Jl={label:"RPGツクール2000",w:24,h:32,frames:3,ways:[wt.w,wt.d,wt.s,wt.a]},Ql={label:"RPGツクールXP",w:32,h:48,frames:4,ways:[wt.s,wt.a,wt.d,wt.w]},tc={label:"RPGツクールVX",w:32,h:32,frames:3,ways:[wt.s,wt.a,wt.d,wt.w]},ec={label:"RPGツクールMV",w:48,h:48,frames:3,ways:[wt.s,wt.a,wt.d,wt.w]},Xi=[Ls,Jl,Ql,tc,ec],me=Xi.find(t=>t.label===Kl.value)??Ls,Tn=Object.freeze(Object.defineProperty({__proto__:null,RPGEN:Ls,RPGMaker2000:Jl,RPGMakerMV:ec,RPGMakerVX:tc,RPGMakerXP:Ql,canvasByI:Pe,dataURLByI:Ur,defaultStandard:me,get frames(){return Ye},get height(){return ti},iByWay:Vr,init:Ps,layersByI:hr,standards:Xi,strToWays:Yl,toI:$e,toXY:Xl,way:wt,get ways(){return Zi},get waysOrder(){return je},waysToStr:Ki,get width(){return Qr}},Symbol.toStringTag,{value:"Module"}));var cd=(t,e,n,r,i,s)=>{const a=(g,u)=>{const l=(u*e+g)*4;return[t[l],t[l+1],t[l+2],t[l+3]]},o=(g,u,l)=>{const p=(u*e+g)*4;[t[p],t[p+1],t[p+2],t[p+3]]=l},c=(g,u)=>g.every((l,p)=>l===u[p]),d=a(r,i);if(c(d,s))return null;const f=[[r,i]];for(;f.length>0;){const g=f.pop();if(!g)break;const[u,l]=g;if(u<0||l<0||u>=e||l>=n)continue;const p=a(u,l);c(p,d)&&(o(u,l,s),f.push([u+1,l],[u-1,l],[u,l+1],[u,l-1]))}return t},pe,Sl,ud=(Sl=class{constructor(){yn(this,pe);we(this,pe,{value:null,prev:null,next:null})}add(t){const e={value:t,prev:ee(this,pe),next:null};ee(this,pe).next=e,we(this,pe,e)}undo(){const{prev:t}=ee(this,pe);return t===null||t.value===null?null:(we(this,pe,t),ee(this,pe).value)}redo(){const{next:t}=ee(this,pe);return t===null||t.value===null?null:(we(this,pe,t),ee(this,pe).value)}},pe=new WeakMap,Sl),hn=null,cn,un,Pr,Za,he,Ti=0,ne=[],dr,Xr,Tl,Zn=(Tl=class{constructor(t,e){yn(this,dr);yn(this,Xr);we(this,dr,t),we(this,Xr,e??null)}get value(){return ee(this,dr)}set value(t){var e;we(this,dr,t),(e=ee(this,Xr))==null||e.call(this)}},dr=new WeakMap,Xr=new WeakMap,Tl),Un=new Zn("#222222"),dd=new Zn(2),fd=new Zn(16),hd=new Zn(32),Ds=new Zn(!1,()=>{hn&&(hn.style.transform=`scaleX(${Ds.value?-1:1})`)}),Ii=()=>Pr,vd=(t=1,e=64,n=un)=>{Pr=Math.floor(Math.floor(n/e)*t),nc()},Ka=0,Xa=0,Ya=0,Ja=0,Qa=0,ts=0,Nn=null,nc=()=>{Ka=0,Xa=0,Ya=0,Ja=0,Qa=0,ts=0,Nn=null},lr=()=>{const t=[];for(const e of ne)e&&t.push(e);return t},pd=(t,e)=>hn==null?void 0:hn.insertBefore(t,e.nextSibling),Hr=t=>{for(const n of ne)n==null||n.canvas.remove();ne=t,ns();let e=Za.canvas;for(const n of ne)n&&(pd(n.canvas,e),e=n.canvas)},Ns=new Zn(null),rc=new Zn(null),gd=(t,e=640,n=360)=>{const r=document.createElement("div");t.innerHTML="",t.append(r),hn=r,cn=Math.floor(e),un=Math.floor(n),r.innerHTML="",r.style.position="relative",r.style.zIndex="0",r.style.display="inline-block",r.style.width=`${e}px`,r.style.height=`${n}px`,Ti=0,Za=new vn(""),he=new vn(""),he.canvas.style.zIndex=String(2**16+3),Ns.value=Za,rc.value=he,ne=[]},Hn=t=>{const{clientX:e,clientY:n}=t,r=he.canvas.getBoundingClientRect();let i=Math.floor(e-r.left);const s=Math.floor(n-r.top);return Ds.value&&(i=cn-i),[i,s,t.buttons]},md=t=>{he.canvas.addEventListener("click",e=>requestAnimationFrame(()=>t(...Hn(e))),{passive:!0}),he.canvas.addEventListener("contextmenu",e=>e.preventDefault()),he.canvas.addEventListener("auxclick",e=>{e.preventDefault(),requestAnimationFrame(()=>t(...Hn(e)))})},bd=t=>{he.canvas.addEventListener("pointerdown",e=>{nc(),he.canvas.setPointerCapture(e.pointerId),es=!0,requestAnimationFrame(()=>t(...Hn(e)))},{passive:!0}),he.canvas.addEventListener("pointermove",e=>{if(es){for(const n of e.getCoalescedEvents())requestAnimationFrame(()=>t(...Hn(n)));requestAnimationFrame(()=>t(...Hn(e)))}},{passive:!0}),he.canvas.addEventListener("touchstart",e=>e.preventDefault()),he.canvas.addEventListener("touchmove",e=>e.preventDefault())},es=!1,yd=t=>{he.canvas.addEventListener("pointerup",e=>{he.canvas.releasePointerCapture(e.pointerId),es=!1,requestAnimationFrame(()=>t(...Hn(e)))},{passive:!0})},fr,Yr,Il,vn=(Il=class{constructor(t="",e=""){Ue(this,"canvas");Ue(this,"ctx");Ue(this,"name");Ue(this,"index");Ue(this,"history",new ud);Ue(this,"hash",0);yn(this,fr,!0);yn(this,Yr,100);Ue(this,"locked",!1);Ue(this,"used",!1);Ue(this,"uuid");this.name=t,this.uuid=e||crypto.randomUUID();const n=document.createElement("canvas");hn==null||hn.append(n),n.width=cn,n.height=un,n.style.position="absolute",n.style.zIndex=String(++Ti),n.style.left="0",n.style.top="0",this.canvas=n;const r=n.getContext("2d",{willReadFrequently:!0});if(!r)throw new Error("Failed to get 2D rendering context");this.ctx=r,ne.push(this),this.index=ne.length-1,this.trace()}get meta(){const{name:t,index:e,hash:n,visible:r,opacity:i,locked:s,used:a,uuid:o}=this;return{name:t,index:e,hash:n,visible:r,opacity:i,locked:s,used:a,uuid:o}}set meta(t){this.name=t.name,this.index=t.index,this.hash=t.hash,this.visible=t.visible,this.opacity=t.opacity,this.locked=t.locked,this.used=t.used,this.uuid=t.uuid}delete(){ne[this.index]=null,this.canvas.remove()}get prev(){const t=ne.slice(0,this.index).findLast(e=>e);return t||null}get next(){const t=ne.slice(this.index+1).find(e=>e);return t||null}swap(t){const e=this.index;if(t===e)return;const n=ne[t];n&&([ne[e],ne[t]]=[ne[t],ne[e]],[this.index,n.index]=[n.index,this.index],[this.canvas.style.zIndex,n.canvas.style.zIndex]=[n.canvas.style.zIndex,this.canvas.style.zIndex])}get visible(){return ee(this,fr)}set visible(t){we(this,fr,t),this.canvas.style.visibility=ee(this,fr)?"visible":"hidden"}get opacity(){return ee(this,Yr)}set opacity(t){we(this,Yr,t),this.canvas.style.opacity=`${t}%`}get data(){return this.ctx.getImageData(0,0,cn,un).data}set data(t){const e=new ImageData(t,cn,un);this.ctx.putImageData(e,0,0)}modified(){const t=_d(this.data);return this.hash!==t?(this.hash=t,this.used=!0,!0):!1}trace(){this.history.add(this.data)}undo(){if(this.locked)return;const t=this.history.undo();t&&(this.data=t)}redo(){if(this.locked)return;const t=this.history.redo();t&&(this.data=t)}clear(){this.locked||this.ctx.clearRect(0,0,cn,un)}translateByDot(t,e){if(this.locked)return;const n=Pr;Ka+=t,Xa+=e;const r=Math.round(Ka/n)*n,i=Math.round(Xa/n)*n;(r!==Ya||i!==Ja)&&(Nn||(Nn=this.ctx.getImageData(0,0,cn,un)),this.clear(),this.ctx.putImageData(Nn,r,i),Ya=r,Ja=i)}translate(t,e){this.locked||(Nn||(Nn=this.ctx.getImageData(0,0,cn,un)),Qa+=t,ts+=e,this.clear(),this.ctx.putImageData(Nn,Math.floor(Qa),Math.floor(ts)))}eraseByDot(t,e){if(this.locked)return;const n=Pr,r=Math.floor(t/n)*n,i=Math.floor(e/n)*n;this.ctx.clearRect(r,i,n,n)}drawByDot(t,e){if(this.locked)return;this.ctx.fillStyle=Un.value;const n=Pr,r=Math.floor(t/n)*n,i=Math.floor(e/n)*n;this.ctx.fillRect(r,i,n,n)}erase(t,e){this.locked||(this.ctx.globalCompositeOperation="destination-out",this.ctx.beginPath(),this.ctx.arc(t,e,hd.value>>1,0,Math.PI*2),this.ctx.fill(),this.ctx.globalCompositeOperation="source-over")}draw(t,e){if(this.locked)return;this.ctx.fillStyle=Un.value;const n=fd.value,r=n>>1;this.ctx.fillRect(t-r,e-r,n,n)}drawLine(t,e,n,r){this.locked||(this.ctx.strokeStyle=Un.value,this.ctx.lineWidth=dd.value,this.ctx.lineCap="round",this.ctx.beginPath(),this.ctx.moveTo(t,e),this.ctx.lineTo(n,r),this.ctx.stroke())}},fr=new WeakMap,Yr=new WeakMap,Il),cr=()=>{const t=document.createElement("canvas");t.width=cn,t.height=un;const e=t.getContext("2d");if(!e)throw new Error("Failed to get 2D rendering context");for(const n of ne)!n||!n.visible||(e.globalAlpha=n.opacity/100,e.drawImage(n.canvas,0,0));return t},ns=()=>{Ti=2;const t=lr();for(const[e,n]of t.entries())n.index=e,n.canvas.style.zIndex=String(++Ti);ne=t},_d=t=>{let e=2166136261;for(let n=0;n<t.length;n++)e^=t[n],e=Math.imul(e,16777619);return e>>>0},wd=(t,e,n,r)=>{const i=n-t,s=r-e,a=Math.max(...[i,s].map(Math.abs))||1,o=i/a,c=s/a;return[...new Array(a).keys()].map(d=>[d*o+t,d*c+e].map(Math.round))};const Fn=Gi(Zl.value??Un.value),Wn=Gi(0),vr=Gi(Ga.value?Number(Ga.value):2);/**
 * @license @lucide/svelte v0.511.0 - ISC
 *
 * ISC License
 * 
 * Copyright (c) for portions of Lucide are held by Cole Bemis 2013-2022 as part of Feather (MIT). All other copyright (c) for Lucide are held by Lucide Contributors 2022.
 * 
 * Permission to use, copy, modify, and/or distribute this software for any
 * purpose with or without fee is hereby granted, provided that the above
 * copyright notice and this permission notice appear in all copies.
 * 
 * THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES
 * WITH REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF
 * MERCHANTABILITY AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR
 * ANY SPECIAL, DIRECT, INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES
 * WHATSOEVER RESULTING FROM LOSS OF USE, DATA OR PROFITS, WHETHER IN AN
 * ACTION OF CONTRACT, NEGLIGENCE OR OTHER TORTIOUS ACTION, ARISING OUT OF
 * OR IN CONNECTION WITH THE USE OR PERFORMANCE OF THIS SOFTWARE.
 * 
 */const xd={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};var kd=_u("<svg><!><!></svg>");function Wt(t,e){gt(e,!0);const n=W(e,"color",3,"currentColor"),r=W(e,"size",3,24),i=W(e,"strokeWidth",3,2),s=W(e,"absoluteStrokeWidth",3,!1),a=W(e,"iconNode",19,()=>[]),o=Dt(e,["$$slots","$$events","$$legacy","name","color","size","strokeWidth","absoluteStrokeWidth","iconNode","children"]);var c=kd();$t(c,g=>({...xd,...o,width:r(),height:r(),stroke:n(),"stroke-width":g,class:["lucide-icon lucide",e.name&&`lucide-${e.name}`,e.class]}),[()=>s()?Number(i())*24/Number(r()):i()]);var d=q(c);de(d,17,a,ue,(g,u)=>{var l=ct(()=>Wu(w(u),2));let p=()=>w(l)[0],h=()=>w(l)[1];var b=Ct(),v=pt(b);nd(v,p,!0,(y,x)=>{$t(y,()=>({...h()}))}),tt(g,b)});var f=Y(d);Rt(f,()=>e.children??Pt),j(c),tt(t,c),mt()}function rs(t,e){gt(e,!0);let n=Dt(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M12 5v14"}],["path",{d:"m19 12-7 7-7-7"}]];Wt(t,Ht({name:"arrow-down"},()=>n,{get iconNode(){return r},children:(i,s)=>{var a=Ct(),o=pt(a);Rt(o,()=>e.children??Pt),tt(i,a)},$$slots:{default:!0}})),mt()}function Ed(t,e){gt(e,!0);let n=Dt(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m12 19-7-7 7-7"}],["path",{d:"M19 12H5"}]];Wt(t,Ht({name:"arrow-left"},()=>n,{get iconNode(){return r},children:(i,s)=>{var a=Ct(),o=pt(a);Rt(o,()=>e.children??Pt),tt(i,a)},$$slots:{default:!0}})),mt()}function Cd(t,e){gt(e,!0);let n=Dt(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M5 12h14"}],["path",{d:"m12 5 7 7-7 7"}]];Wt(t,Ht({name:"arrow-right"},()=>n,{get iconNode(){return r},children:(i,s)=>{var a=Ct(),o=pt(a);Rt(o,()=>e.children??Pt),tt(i,a)},$$slots:{default:!0}})),mt()}function zn(t,e){gt(e,!0);let n=Dt(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m5 12 7-7 7 7"}],["path",{d:"M12 19V5"}]];Wt(t,Ht({name:"arrow-up"},()=>n,{get iconNode(){return r},children:(i,s)=>{var a=Ct(),o=pt(a);Rt(o,()=>e.children??Pt),tt(i,a)},$$slots:{default:!0}})),mt()}function Sd(t,e){gt(e,!0);let n=Dt(e,["$$slots","$$events","$$legacy"]);const r=[["circle",{cx:"11",cy:"13",r:"9"}],["path",{d:"M14.35 4.65 16.3 2.7a2.41 2.41 0 0 1 3.4 0l1.6 1.6a2.4 2.4 0 0 1 0 3.4l-1.95 1.95"}],["path",{d:"m22 2-1.5 1.5"}]];Wt(t,Ht({name:"bomb"},()=>n,{get iconNode(){return r},children:(i,s)=>{var a=Ct(),o=pt(a);Rt(o,()=>e.children??Pt),tt(i,a)},$$slots:{default:!0}})),mt()}function Td(t,e){gt(e,!0);let n=Dt(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M20 6 9 17l-5-5"}]];Wt(t,Ht({name:"check"},()=>n,{get iconNode(){return r},children:(i,s)=>{var a=Ct(),o=pt(a);Rt(o,()=>e.children??Pt),tt(i,a)},$$slots:{default:!0}})),mt()}function ko(t,e){gt(e,!0);let n=Dt(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m7 21-4.3-4.3c-1-1-1-2.5 0-3.4l9.6-9.6c1-1 2.5-1 3.4 0l5.6 5.6c1 1 1 2.5 0 3.4L13 21"}],["path",{d:"M22 21H7"}],["path",{d:"m5 11 9 9"}]];Wt(t,Ht({name:"eraser"},()=>n,{get iconNode(){return r},children:(i,s)=>{var a=Ct(),o=pt(a);Rt(o,()=>e.children??Pt),tt(i,a)},$$slots:{default:!0}})),mt()}function Id(t,e){gt(e,!0);let n=Dt(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m15 18-.722-3.25"}],["path",{d:"M2 8a10.645 10.645 0 0 0 20 0"}],["path",{d:"m20 15-1.726-2.05"}],["path",{d:"m4 15 1.726-2.05"}],["path",{d:"m9 18 .722-3.25"}]];Wt(t,Ht({name:"eye-closed"},()=>n,{get iconNode(){return r},children:(i,s)=>{var a=Ct(),o=pt(a);Rt(o,()=>e.children??Pt),tt(i,a)},$$slots:{default:!0}})),mt()}function is(t,e){gt(e,!0);let n=Dt(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0"}],["circle",{cx:"12",cy:"12",r:"3"}]];Wt(t,Ht({name:"eye"},()=>n,{get iconNode(){return r},children:(i,s)=>{var a=Ct(),o=pt(a);Rt(o,()=>e.children??Pt),tt(i,a)},$$slots:{default:!0}})),mt()}function Ad(t,e){gt(e,!0);let n=Dt(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M12 17h.01"}],["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7z"}],["path",{d:"M9.1 9a3 3 0 0 1 5.82 1c0 2-3 3-3 3"}]];Wt(t,Ht({name:"file-question"},()=>n,{get iconNode(){return r},children:(i,s)=>{var a=Ct(),o=pt(a);Rt(o,()=>e.children??Pt),tt(i,a)},$$slots:{default:!0}})),mt()}function Od(t,e){gt(e,!0);let n=Dt(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m3 7 5 5-5 5V7"}],["path",{d:"m21 7-5 5 5 5V7"}],["path",{d:"M12 20v2"}],["path",{d:"M12 14v2"}],["path",{d:"M12 8v2"}],["path",{d:"M12 2v2"}]];Wt(t,Ht({name:"flip-horizontal-2"},()=>n,{get iconNode(){return r},children:(i,s)=>{var a=Ct(),o=pt(a);Rt(o,()=>e.children??Pt),tt(i,a)},$$slots:{default:!0}})),mt()}function Rd(t,e){gt(e,!0);let n=Dt(e,["$$slots","$$events","$$legacy"]);const r=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}],["path",{d:"M3 9h18"}],["path",{d:"M3 15h18"}],["path",{d:"M9 3v18"}],["path",{d:"M15 3v18"}]];Wt(t,Ht({name:"grid-3x3"},()=>n,{get iconNode(){return r},children:(i,s)=>{var a=Ct(),o=pt(a);Rt(o,()=>e.children??Pt),tt(i,a)},$$slots:{default:!0}})),mt()}function Eo(t,e){gt(e,!0);let n=Dt(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M13 13.74a2 2 0 0 1-2 0L2.5 8.87a1 1 0 0 1 0-1.74L11 2.26a2 2 0 0 1 2 0l8.5 4.87a1 1 0 0 1 0 1.74z"}],["path",{d:"m20 14.285 1.5.845a1 1 0 0 1 0 1.74L13 21.74a2 2 0 0 1-2 0l-8.5-4.87a1 1 0 0 1 0-1.74l1.5-.845"}]];Wt(t,Ht({name:"layers-2"},()=>n,{get iconNode(){return r},children:(i,s)=>{var a=Ct(),o=pt(a);Rt(o,()=>e.children??Pt),tt(i,a)},$$slots:{default:!0}})),mt()}function Pd(t,e){gt(e,!0);let n=Dt(e,["$$slots","$$events","$$legacy"]);const r=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1"}]];Wt(t,Ht({name:"lock-open"},()=>n,{get iconNode(){return r},children:(i,s)=>{var a=Ct(),o=pt(a);Rt(o,()=>e.children??Pt),tt(i,a)},$$slots:{default:!0}})),mt()}function as(t,e){gt(e,!0);let n=Dt(e,["$$slots","$$events","$$legacy"]);const r=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4"}]];Wt(t,Ht({name:"lock"},()=>n,{get iconNode(){return r},children:(i,s)=>{var a=Ct(),o=pt(a);Rt(o,()=>e.children??Pt),tt(i,a)},$$slots:{default:!0}})),mt()}function Ld(t,e){gt(e,!0);let n=Dt(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"}]];Wt(t,Ht({name:"moon"},()=>n,{get iconNode(){return r},children:(i,s)=>{var a=Ct(),o=pt(a);Rt(o,()=>e.children??Pt),tt(i,a)},$$slots:{default:!0}})),mt()}function Dd(t,e){gt(e,!0);let n=Dt(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M12 2v20"}],["path",{d:"m15 19-3 3-3-3"}],["path",{d:"m19 9 3 3-3 3"}],["path",{d:"M2 12h20"}],["path",{d:"m5 9-3 3 3 3"}],["path",{d:"m9 5 3-3 3 3"}]];Wt(t,Ht({name:"move"},()=>n,{get iconNode(){return r},children:(i,s)=>{var a=Ct(),o=pt(a);Rt(o,()=>e.children??Pt),tt(i,a)},$$slots:{default:!0}})),mt()}function Nd(t,e){gt(e,!0);let n=Dt(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z"}],["path",{d:"m5 2 5 5"}],["path",{d:"M2 13h15"}],["path",{d:"M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z"}]];Wt(t,Ht({name:"paint-bucket"},()=>n,{get iconNode(){return r},children:(i,s)=>{var a=Ct(),o=pt(a);Rt(o,()=>e.children??Pt),tt(i,a)},$$slots:{default:!0}})),mt()}function Fd(t,e){gt(e,!0);let n=Dt(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z"}]];Wt(t,Ht({name:"pen"},()=>n,{get iconNode(){return r},children:(i,s)=>{var a=Ct(),o=pt(a);Rt(o,()=>e.children??Pt),tt(i,a)},$$slots:{default:!0}})),mt()}function zd(t,e){gt(e,!0);let n=Dt(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"m12 9-8.414 8.414A2 2 0 0 0 3 18.828v1.344a2 2 0 0 1-.586 1.414A2 2 0 0 1 3.828 21h1.344a2 2 0 0 0 1.414-.586L15 12"}],["path",{d:"m18 9 .4.4a1 1 0 1 1-3 3l-3.8-3.8a1 1 0 1 1 3-3l.4.4 3.4-3.4a1 1 0 1 1 3 3z"}],["path",{d:"m2 22 .414-.414"}]];Wt(t,Ht({name:"pipette"},()=>n,{get iconNode(){return r},children:(i,s)=>{var a=Ct(),o=pt(a);Rt(o,()=>e.children??Pt),tt(i,a)},$$slots:{default:!0}})),mt()}function Bd(t,e){gt(e,!0);let n=Dt(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M5 12h14"}],["path",{d:"M12 5v14"}]];Wt(t,Ht({name:"plus"},()=>n,{get iconNode(){return r},children:(i,s)=>{var a=Ct(),o=pt(a);Rt(o,()=>e.children??Pt),tt(i,a)},$$slots:{default:!0}})),mt()}function Md(t,e){gt(e,!0);let n=Dt(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M21 7v6h-6"}],["path",{d:"M3 17a9 9 0 0 1 9-9 9 9 0 0 1 6 2.3l3 2.7"}]];Wt(t,Ht({name:"redo"},()=>n,{get iconNode(){return r},children:(i,s)=>{var a=Ct(),o=pt(a);Rt(o,()=>e.children??Pt),tt(i,a)},$$slots:{default:!0}})),mt()}function Vd(t,e){gt(e,!0);let n=Dt(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7"}]];Wt(t,Ht({name:"save"},()=>n,{get iconNode(){return r},children:(i,s)=>{var a=Ct(),o=pt(a);Rt(o,()=>e.children??Pt),tt(i,a)},$$slots:{default:!0}})),mt()}function Ud(t,e){gt(e,!0);let n=Dt(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z"}]];Wt(t,Ht({name:"square-pen"},()=>n,{get iconNode(){return r},children:(i,s)=>{var a=Ct(),o=pt(a);Rt(o,()=>e.children??Pt),tt(i,a)},$$slots:{default:!0}})),mt()}function Hd(t,e){gt(e,!0);let n=Dt(e,["$$slots","$$events","$$legacy"]);const r=[["circle",{cx:"12",cy:"12",r:"4"}],["path",{d:"M12 2v2"}],["path",{d:"M12 20v2"}],["path",{d:"m4.93 4.93 1.41 1.41"}],["path",{d:"m17.66 17.66 1.41 1.41"}],["path",{d:"M2 12h2"}],["path",{d:"M20 12h2"}],["path",{d:"m6.34 17.66-1.41 1.41"}],["path",{d:"m19.07 4.93-1.41 1.41"}]];Wt(t,Ht({name:"sun"},()=>n,{get iconNode(){return r},children:(i,s)=>{var a=Ct(),o=pt(a);Rt(o,()=>e.children??Pt),tt(i,a)},$$slots:{default:!0}})),mt()}function Ai(t,e){gt(e,!0);let n=Dt(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M3 6h18"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17"}]];Wt(t,Ht({name:"trash-2"},()=>n,{get iconNode(){return r},children:(i,s)=>{var a=Ct(),o=pt(a);Rt(o,()=>e.children??Pt),tt(i,a)},$$slots:{default:!0}})),mt()}function Wd(t,e){gt(e,!0);let n=Dt(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M3 7v6h6"}],["path",{d:"M21 17a9 9 0 0 0-9-9 9 9 0 0 0-6 2.3L3 13"}]];Wt(t,Ht({name:"undo"},()=>n,{get iconNode(){return r},children:(i,s)=>{var a=Ct(),o=pt(a);Rt(o,()=>e.children??Pt),tt(i,a)},$$slots:{default:!0}})),mt()}function ei(t,e){gt(e,!0);let n=Dt(e,["$$slots","$$events","$$legacy"]);const r=[["path",{d:"M18 6 6 18"}],["path",{d:"m6 6 12 12"}]];Wt(t,Ht({name:"x"},()=>n,{get iconNode(){return r},children:(i,s)=>{var a=Ct(),o=pt(a);Rt(o,()=>e.children??Pt),tt(i,a)},$$slots:{default:!0}})),mt()}var jd=()=>{},$d=dt('<img alt="frame" class="gimp-checkered-background w-full h-full object-cover bg-surface-500"/>'),qd=dt('<div tabindex="0" role="button"><div class="absolute top-1 left-1 bg-primary-600/80 text-white text-xs font-bold rounded-full w-4 h-4 flex items-center justify-center"> </div> <!></div>'),Gd=dt('<div class="flex items-center gap-4"><div class="flex gap-4"></div> <div class="w-6 text-sm font-semibold"><!></div></div>'),Zd=dt('<section class="space-y-4"><!></section>');function Kd(t,e){gt(e,!0);const[n,r]=Gn(),i=()=>Xe(Wn,"$activeIndex",n);let s=W(e,"activeLayer",15,void 0),a=0;Bt(()=>{e.initTimestamp&&(Wn.set(0),a=0)}),Bt(()=>{if(!e.initTimestamp)return;hr.set(a,lr());const f=hr.get(i());f?(Hr(f),s(f[f.length-1])):(Hr([]),s(new vn("レイヤー #1")))}),Ps(me.w,me.h,me.frames,Ki(me.ways));let o=ht(0);Bt(()=>{if(!e.initTimestamp||!e.pointerupTimestamp)return;const f=cr();Pe.set(i(),f);const g=f.toDataURL("image/png");Ur.set(i(),g),J(o,performance.now(),!0)});var c=Zd(),d=q(c);bi(d,()=>e.initTimestamp,f=>{var g=Ct(),u=pt(g);de(u,17,()=>Array(Zi),ue,(l,p,h)=>{var b=Gd(),v=q(b);de(v,21,()=>Array(Ye),ue,(I,O,P)=>{var A=Ct(),M=pt(A);bi(M,()=>$e(P,h),F=>{var C=qd();C.__keydown=[jd],C.__click=()=>{const V=$e(P,h);i()!==V&&(a=i(),Wn.set(V))};var R=q(C),m=q(R,!0);j(R);var N=Y(R,2);bi(N,()=>w(o),V=>{var U=$d();At(G=>Vt(U,"src",G),[()=>Ur.get($e(P,h))??"https://placehold.co/32x32?text=new"]),tt(V,U)}),j(C),At((V,U)=>{re(C,1,V),se(m,U)},[()=>`relative w-16 h-16 rounded-container overflow-hidden cursor-pointer ${i()===$e(P,h)?"ring-4 ring-primary-500 ring-offset-2":""}`,()=>$e(P,h)+1]),tt(F,C)}),tt(I,A)}),j(v);var y=Y(v,2),x=q(y);{var E=I=>{zn(I,{})},k=(I,O)=>{{var P=M=>{Ed(M,{})},A=(M,F)=>{{var C=m=>{rs(m,{})},R=(m,N)=>{{var V=G=>{Cd(G,{})},U=(G,$)=>{{var nt=z=>{zn(z,{class:"rotate-315"})},L=(z,st)=>{{var at=xt=>{zn(xt,{class:"rotate-45"})},Z=(xt,St)=>{{var vt=bt=>{zn(bt,{class:"rotate-225"})},kt=(bt,Tt)=>{{var Ut=_=>{zn(_,{class:"rotate-135"})},zt=_=>{Ad(_,{})};Lt(bt,_=>{je[h]===wt.c?_(Ut):_(zt,!1)},Tt)}};Lt(xt,bt=>{je[h]===wt.z?bt(vt):bt(kt,!1)},St)}};Lt(z,xt=>{je[h]===wt.e?xt(at):xt(Z,!1)},st)}};Lt(G,z=>{je[h]===wt.q?z(nt):z(L,!1)},$)}};Lt(m,G=>{je[h]===wt.d?G(V):G(U,!1)},N)}};Lt(M,m=>{je[h]===wt.s?m(C):m(R,!1)},F)}};Lt(I,M=>{je[h]===wt.a?M(P):M(A,!1)},O)}};Lt(x,I=>{je[h]===wt.w?I(E):I(k,!1)})}j(y),j(b),tt(l,b)}),tt(f,g)}),j(c),tt(t,c),mt(),r()}fe(["keydown","click"]);var ci=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function mr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var pa,Co;function Xd(){if(Co)return pa;Co=1;function t(e){var n=e[0],r=e[1]/100,i=e[2]/100,s,a;return i===0?[0,0,0]:(i*=2,r*=i<=1?i:2-i,a=(i+r)/2,s=2*r/(i+r),[n,s*100,a*100])}return pa=t,pa}var Yd=Xd();const Jd=mr(Yd);var ga,So;function Qd(){if(So)return ga;So=1;function t(e){var n=e[0],r=e[1]/100,i=e[2]/100,s,a;return a=(2-r)*i,s=r*i,s/=a<=1?a:2-a,s=s||0,a/=2,[n,s*100,a*100]}return ga=t,ga}var tf=Qd();const ef=mr(tf);function nf(t){var e=t[0],n=t[1],r=t[2],i=Math.max(e,n,r),s=Math.min(e,n,r),a=i-s,o=a&&60*(i===e?(n-r)/a%6:i===n?(r-e)/a+2:(e-n)/a+4);return[o<0?o+360:o,i&&a*100/i,i*100/255]}function rf(t){var e=t[0]/60,n=t[1]/100,r=t[2]/100,i=r*n,s=i*(1-Math.abs(e%2-1)),a=r-i,o=(s+a)*255+.5|0,c=(i+a)*255+.5|0,d=a*255+.5|0,f=e|0;return f===1?[o,c,d]:f===2?[d,c,o]:f===3?[d,o,c]:f===4?[o,d,c]:f===5?[c,d,o]:[c,o,d]}var ma,To;function af(){if(To)return ma;To=1;function t(e,n,r){return Math.min(Math.max(e,n),r)}return ma=t,ma}var ba,Io;function sf(){if(Io)return ba;Io=1;var t=af();function e(r){var i=Math.round(t(r,0,255)),s=i.toString(16);return s.length==1?"0"+s:s}function n(r){var i=r.length===4?e(r[3]*255):"";return"#"+e(r[0])+e(r[1])+e(r[2])+i}return ba=n,ba}var of=sf();const lf=mr(of);var ya,Ao;function cf(){if(Ao)return ya;Ao=1;function t(n){for(var r="#",i=1;i<n.length;i++){var s=n.charAt(i);r+=s+s}return r}function e(n){(n.length===4||n.length===5)&&(n=t(n));var r=[parseInt(n.substring(1,3),16),parseInt(n.substring(3,5),16),parseInt(n.substring(5,7),16)];if(n.length===9){var i=parseFloat((parseInt(n.substring(7,9),16)/255).toFixed(2));r.push(i)}return r}return ya=e,ya}var uf=cf();const df=mr(uf);function Oo(t,e){return t?[_a(t[0])?ic(t[0]):e[0],_a(t[1])?Oi(t[1]):e[1],_a(t[2])?Oi(t[2]):e[2]]:e}function Ro(t){return[ic(t[0]),Oi(t[1]),Oi(t[2])]}function ic(t){var e=Math.round(t%360*10)/10;return e<0?e+360:e}function Oi(t){return t<0?0:t>100?100:(t*10+.5|0)/10}function _a(t){return typeof t=="number"&&isFinite(t)}var Lr=typeof globalThis<"u"?globalThis:self,wa="PointerEvent"in Lr?function(t,e,n){t.addEventListener("pointerdown",function(r){r.button===0&&e(r)!==!1&&this.setPointerCapture(r.pointerId)}),t.addEventListener("pointermove",function(r){this.hasPointerCapture(r.pointerId)&&n(r)})}:"ontouchend"in Lr?function(t,e,n){var r=!1;t.addEventListener("touchstart",function(i){i.touches.length===1&&e(i.touches[0])!==!1&&(r=!0,i.preventDefault())}),t.addEventListener("touchmove",function(i){r&&i.touches.length===1&&(i.preventDefault(),n(i.touches[0]))})}:function(t,e,n){var r=function(s){n(s)},i=function(){removeEventListener("mouseup",i),removeEventListener("mousemove",r)};t.addEventListener("mousedown",function(s){s.button===0&&e(s)!==!1&&(addEventListener("mousemove",r),addEventListener("mouseup",i))})},Ln={hsv:[0,100,100],hsl:[0,100,50],wheelDiameter:200,wheelThickness:20,handleDiameter:16,wheelReflectsSaturation:!0,onChange:function(){}},ss=Lr.DOMMatrix||Lr.WebKitCSSMatrix||Lr.MSCSSMatrix,ff=function(t){for(var e=[t];t=t.parentElement;)e.push(t);for(var n=new ss,r=e.length-1;r>=0;r--){var i=getComputedStyle(e[r]),s=i.transform;if(s&&s!=="none"){var a=i.transformOrigin.split(" ").map(parseFloat);n=n.translate(a[0],a[1]).multiply(new ss(s)).translate(-a[0],-a[1])}}return n.inverse()},xa=function(t,e){return t===e||t[0]===e[0]&&t[1]===e[1]&&t[2]===e[2]},hf=function(){function t(e){var n=this;this.options=e,this.wheelDiameter=this.options.wheelDiameter||Ln.wheelDiameter,this.wheelThickness=this.options.wheelThickness||Ln.wheelThickness,this.handleDiameter=this.options.handleDiameter||Ln.handleDiameter,this.onChange=this.options.onChange||Ln.onChange,this.wheelReflectsSaturation=this.options.wheelReflectsSaturation!==void 0?this.options.wheelReflectsSaturation:Ln.wheelReflectsSaturation,this.rootElement=this.options.appendTo.appendChild(Er("div","reinvented-color-wheel")),this.hueWheelElement=this.rootElement.appendChild(Er("canvas","reinvented-color-wheel--hue-wheel")),this.hueWheelContext=this.hueWheelElement.getContext("2d"),this.hueHandleElement=this.rootElement.appendChild(Er("div","reinvented-color-wheel--hue-handle")),this.svSpaceElement=this.rootElement.appendChild(Er("canvas","reinvented-color-wheel--sv-space")),this.svSpaceContext=this.svSpaceElement.getContext("2d"),this.svHandleElement=this.rootElement.appendChild(Er("div","reinvented-color-wheel--sv-handle")),this._redrawHueWheel=function(){n._redrawHueWheelRequested=!1;var d=n.wheelDiameter,f=d/2,g=f-n.wheelThickness/2,u=Math.PI/180,l=n.wheelReflectsSaturation?","+n._hsl[1]+"%,"+n._hsl[2]+"%)":",100%,50%)",p=n.hueWheelContext;p.clearRect(0,0,d,d),p.lineWidth=n.wheelThickness;for(var h=0;h<360;h++)p.beginPath(),p.arc(f,f,g,(h-90.7)*u,(h-89.3)*u),p.strokeStyle="hsl("+h+l,p.stroke()},this.hueWheelContext.imageSmoothingEnabled=!1,this.svSpaceContext.imageSmoothingEnabled=!1,this._hsv=Oo(e.hsv?e.hsv:e.hsl?t.hsl2hsv(e.hsl):e.rgb?t.rgb2hsv(e.rgb):e.hex?t.rgb2hsv(t.hex2rgb(e.hex)):void 0,Ln.hsv),this._hsl=Ro(t.hsv2hsl(this._hsv)),this._rgb=t.hsv2rgb(this._hsv),this._hex=t.rgb2hex(this._rgb);var r=function(d,f){var g=n._inverseTransform.multiply(new ss("matrix(1,0,0,1,"+d+","+f+")"));return{x:g.e,y:g.f}},i=function(d){n._inverseTransform=ff(d);var f=d.getBoundingClientRect();n._center=r(f.left+f.width/2,f.top+f.height/2)},s=function(d){i(n.hueWheelElement);var f=r(d.clientX,d.clientY),g=f.x-n._center.x,u=f.y-n._center.y,l=n.wheelDiameter/2-n.wheelThickness;if(g*g+u*u<l*l)return!1;a(d)},a=function(d){var f=r(d.clientX,d.clientY),g=f.x-n._center.x,u=f.y-n._center.y,l=Math.atan2(u,g);n.hsv=[l*180/Math.PI+90,n.hsv[1],n.hsv[2]]},o=function(d){var f=r(d.clientX,d.clientY),g=100/n.svSpaceElement.width,u=(f.x-n._center.x)*g+50,l=(n._center.y-f.y)*g+50;n.hsv=[n._hsv[0],u,l]},c=function(d){i(n.svSpaceElement),o(d)};wa(this.hueWheelElement,s,a),wa(this.svSpaceElement,c,o),wa(this.svHandleElement,c,o),this.redraw()}return Object.defineProperty(t.prototype,"hsv",{get:function(){return this._hsv},set:function(e){xa(this._hsv,e)||this._setHSV(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hsl",{get:function(){return this._hsl},set:function(e){xa(this._hsl,e)||this._setHSV(t.hsl2hsv(e))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rgb",{get:function(){return this._rgb},set:function(e){xa(this._rgb,e)||this._setHSV(t.rgb2hsv(e))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hex",{get:function(){return this._hex},set:function(e){this._hex!==e&&(this.rgb=t.hex2rgb(e))},enumerable:!1,configurable:!0}),t.prototype.setHSV=function(){this.hsv=arguments},t.prototype.setHSL=function(){this.hsl=arguments},t.prototype.redraw=function(){this.hueWheelElement.width=this.hueWheelElement.height=this.wheelDiameter,this.svSpaceElement.width=this.svSpaceElement.height=(this.wheelDiameter-this.wheelThickness*2)*Math.SQRT1_2;var e=this.hueHandleElement.style,n=this.svHandleElement.style;e.width=e.height=n.width=n.height=this.handleDiameter+"px",e.marginLeft=e.marginTop=n.marginLeft=n.marginTop=-this.handleDiameter/2+"px",this._redrawHueWheel(),this._redrawHueHandle(),this._redrawSvSpace(),this._redrawSvHandle()},t.prototype._setHSV=function(e){var n=this._hsv,r=this._hsv=Oo(e,n),i=n[0]-r[0],s=n[1]-r[1]||n[2]-r[2];i&&(this._hsl=[r[0],this._hsl[1],this._hsl[2]],this._redrawHueHandle(),this._updateSvBackground()),s&&(this._hsl=Ro(t.hsv2hsl(r)),this._redrawSvHandle(),this.wheelReflectsSaturation&&!this._redrawHueWheelRequested&&(requestAnimationFrame(this._redrawHueWheel),this._redrawHueWheelRequested=!0)),(i||s)&&(this._rgb=t.hsv2rgb(r),this._hex=t.rgb2hex(this._rgb),this.onChange(this))},t.prototype._redrawSvSpace=function(){this._updateSvBackground();var e=this.svSpaceElement.width,n=this.svSpaceContext,r=n.createLinearGradient(0,0,e,0),i=n.createLinearGradient(0,0,0,e);r.addColorStop(0,"rgba(255,255,255,1)"),r.addColorStop(1,"rgba(255,255,255,0)"),i.addColorStop(0,"rgba(0,0,0,0)"),i.addColorStop(1,"rgba(0,0,0,1)"),n.fillStyle=r,n.fillRect(0,0,e,e),n.fillStyle=i,n.fillRect(0,0,e,e)},t.prototype._updateSvBackground=function(){this.svSpaceElement.style.backgroundColor="hsl("+this._hsv[0]+",100%,50%)"},t.prototype._redrawHueHandle=function(){var e=this.wheelDiameter/2,n=e-this.wheelThickness/2,r=(this._hsv[0]-90)*Math.PI/180,i=this.hueHandleElement.style;i.left=n*Math.cos(r)+e+"px",i.top=n*Math.sin(r)+e+"px"},t.prototype._redrawSvHandle=function(){var e=this.svSpaceElement.width,n=this.svHandleElement.style,r=(this.wheelDiameter-e)/2,i=this._hsv;n.left=r+e*i[1]/100+"px",n.top=r+e*(1-i[2]/100)+"px"},t.default=t,t.defaultOptions=Ln,t.hsv2hsl=ef,t.hsl2hsv=Jd,t.hsv2rgb=rf,t.rgb2hsv=nf,t.rgb2hex=lf,t.hex2rgb=df,t}();function Er(t,e){var n=document.createElement(t);return n.className=e,n}var vf=dt("<center></center>");function pf(t,e){gt(e,!0);const[n,r]=Gn(),i=()=>Xe(Fn,"$color",n),s=hf;let a=ht(void 0),o=ht(void 0);const c=i();Bt(()=>{J(o,new s({appendTo:w(a),hex:c,wheelDiameter:200,wheelThickness:20,handleDiameter:16,wheelReflectsSaturation:!1,onChange:f=>{Fn.set(f.hex)}}),!0)}),Bt(()=>{w(o)&&(w(o).hex=i())});var d=vf();Se(d,f=>J(a,f),()=>w(a)),tt(t,d),mt(),r()}function En(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var ka={exports:{}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/var Po;function gf(){return Po||(Po=1,function(t,e){(function(n){t.exports=n()})(function(){return function n(r,i,s){function a(d,f){if(!i[d]){if(!r[d]){var g=typeof En=="function"&&En;if(!f&&g)return g(d,!0);if(o)return o(d,!0);var u=new Error("Cannot find module '"+d+"'");throw u.code="MODULE_NOT_FOUND",u}var l=i[d]={exports:{}};r[d][0].call(l.exports,function(p){var h=r[d][1][p];return a(h||p)},l,l.exports,n,r,i,s)}return i[d].exports}for(var o=typeof En=="function"&&En,c=0;c<s.length;c++)a(s[c]);return a}({1:[function(n,r,i){var s=n("./utils"),a=n("./support"),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";i.encode=function(c){for(var d,f,g,u,l,p,h,b=[],v=0,y=c.length,x=y,E=s.getTypeOf(c)!=="string";v<c.length;)x=y-v,g=E?(d=c[v++],f=v<y?c[v++]:0,v<y?c[v++]:0):(d=c.charCodeAt(v++),f=v<y?c.charCodeAt(v++):0,v<y?c.charCodeAt(v++):0),u=d>>2,l=(3&d)<<4|f>>4,p=1<x?(15&f)<<2|g>>6:64,h=2<x?63&g:64,b.push(o.charAt(u)+o.charAt(l)+o.charAt(p)+o.charAt(h));return b.join("")},i.decode=function(c){var d,f,g,u,l,p,h=0,b=0,v="data:";if(c.substr(0,v.length)===v)throw new Error("Invalid base64 input, it looks like a data url.");var y,x=3*(c=c.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(c.charAt(c.length-1)===o.charAt(64)&&x--,c.charAt(c.length-2)===o.charAt(64)&&x--,x%1!=0)throw new Error("Invalid base64 input, bad content length.");for(y=a.uint8array?new Uint8Array(0|x):new Array(0|x);h<c.length;)d=o.indexOf(c.charAt(h++))<<2|(u=o.indexOf(c.charAt(h++)))>>4,f=(15&u)<<4|(l=o.indexOf(c.charAt(h++)))>>2,g=(3&l)<<6|(p=o.indexOf(c.charAt(h++))),y[b++]=d,l!==64&&(y[b++]=f),p!==64&&(y[b++]=g);return y}},{"./support":30,"./utils":32}],2:[function(n,r,i){var s=n("./external"),a=n("./stream/DataWorker"),o=n("./stream/Crc32Probe"),c=n("./stream/DataLengthProbe");function d(f,g,u,l,p){this.compressedSize=f,this.uncompressedSize=g,this.crc32=u,this.compression=l,this.compressedContent=p}d.prototype={getContentWorker:function(){var f=new a(s.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new c("data_length")),g=this;return f.on("end",function(){if(this.streamInfo.data_length!==g.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),f},getCompressedWorker:function(){return new a(s.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},d.createWorkerFrom=function(f,g,u){return f.pipe(new o).pipe(new c("uncompressedSize")).pipe(g.compressWorker(u)).pipe(new c("compressedSize")).withStreamInfo("compression",g)},r.exports=d},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(n,r,i){var s=n("./stream/GenericWorker");i.STORE={magic:"\0\0",compressWorker:function(){return new s("STORE compression")},uncompressWorker:function(){return new s("STORE decompression")}},i.DEFLATE=n("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(n,r,i){var s=n("./utils"),a=function(){for(var o,c=[],d=0;d<256;d++){o=d;for(var f=0;f<8;f++)o=1&o?3988292384^o>>>1:o>>>1;c[d]=o}return c}();r.exports=function(o,c){return o!==void 0&&o.length?s.getTypeOf(o)!=="string"?function(d,f,g,u){var l=a,p=u+g;d^=-1;for(var h=u;h<p;h++)d=d>>>8^l[255&(d^f[h])];return-1^d}(0|c,o,o.length,0):function(d,f,g,u){var l=a,p=u+g;d^=-1;for(var h=u;h<p;h++)d=d>>>8^l[255&(d^f.charCodeAt(h))];return-1^d}(0|c,o,o.length,0):0}},{"./utils":32}],5:[function(n,r,i){i.base64=!1,i.binary=!1,i.dir=!1,i.createFolders=!0,i.date=null,i.compression=null,i.compressionOptions=null,i.comment=null,i.unixPermissions=null,i.dosPermissions=null},{}],6:[function(n,r,i){var s=null;s=typeof Promise<"u"?Promise:n("lie"),r.exports={Promise:s}},{lie:37}],7:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",a=n("pako"),o=n("./utils"),c=n("./stream/GenericWorker"),d=s?"uint8array":"array";function f(g,u){c.call(this,"FlateWorker/"+g),this._pako=null,this._pakoAction=g,this._pakoOptions=u,this.meta={}}i.magic="\b\0",o.inherits(f,c),f.prototype.processChunk=function(g){this.meta=g.meta,this._pako===null&&this._createPako(),this._pako.push(o.transformTo(d,g.data),!1)},f.prototype.flush=function(){c.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},f.prototype.cleanUp=function(){c.prototype.cleanUp.call(this),this._pako=null},f.prototype._createPako=function(){this._pako=new a[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var g=this;this._pako.onData=function(u){g.push({data:u,meta:g.meta})}},i.compressWorker=function(g){return new f("Deflate",g)},i.uncompressWorker=function(){return new f("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(n,r,i){function s(l,p){var h,b="";for(h=0;h<p;h++)b+=String.fromCharCode(255&l),l>>>=8;return b}function a(l,p,h,b,v,y){var x,E,k=l.file,I=l.compression,O=y!==d.utf8encode,P=o.transformTo("string",y(k.name)),A=o.transformTo("string",d.utf8encode(k.name)),M=k.comment,F=o.transformTo("string",y(M)),C=o.transformTo("string",d.utf8encode(M)),R=A.length!==k.name.length,m=C.length!==M.length,N="",V="",U="",G=k.dir,$=k.date,nt={crc32:0,compressedSize:0,uncompressedSize:0};p&&!h||(nt.crc32=l.crc32,nt.compressedSize=l.compressedSize,nt.uncompressedSize=l.uncompressedSize);var L=0;p&&(L|=8),O||!R&&!m||(L|=2048);var z=0,st=0;G&&(z|=16),v==="UNIX"?(st=798,z|=function(Z,xt){var St=Z;return Z||(St=xt?16893:33204),(65535&St)<<16}(k.unixPermissions,G)):(st=20,z|=function(Z){return 63&(Z||0)}(k.dosPermissions)),x=$.getUTCHours(),x<<=6,x|=$.getUTCMinutes(),x<<=5,x|=$.getUTCSeconds()/2,E=$.getUTCFullYear()-1980,E<<=4,E|=$.getUTCMonth()+1,E<<=5,E|=$.getUTCDate(),R&&(V=s(1,1)+s(f(P),4)+A,N+="up"+s(V.length,2)+V),m&&(U=s(1,1)+s(f(F),4)+C,N+="uc"+s(U.length,2)+U);var at="";return at+=`
\0`,at+=s(L,2),at+=I.magic,at+=s(x,2),at+=s(E,2),at+=s(nt.crc32,4),at+=s(nt.compressedSize,4),at+=s(nt.uncompressedSize,4),at+=s(P.length,2),at+=s(N.length,2),{fileRecord:g.LOCAL_FILE_HEADER+at+P+N,dirRecord:g.CENTRAL_FILE_HEADER+s(st,2)+at+s(F.length,2)+"\0\0\0\0"+s(z,4)+s(b,4)+P+N+F}}var o=n("../utils"),c=n("../stream/GenericWorker"),d=n("../utf8"),f=n("../crc32"),g=n("../signature");function u(l,p,h,b){c.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=p,this.zipPlatform=h,this.encodeFileName=b,this.streamFiles=l,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}o.inherits(u,c),u.prototype.push=function(l){var p=l.meta.percent||0,h=this.entriesCount,b=this._sources.length;this.accumulate?this.contentBuffer.push(l):(this.bytesWritten+=l.data.length,c.prototype.push.call(this,{data:l.data,meta:{currentFile:this.currentFile,percent:h?(p+100*(h-b-1))/h:100}}))},u.prototype.openedSource=function(l){this.currentSourceOffset=this.bytesWritten,this.currentFile=l.file.name;var p=this.streamFiles&&!l.file.dir;if(p){var h=a(l,p,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:h.fileRecord,meta:{percent:0}})}else this.accumulate=!0},u.prototype.closedSource=function(l){this.accumulate=!1;var p=this.streamFiles&&!l.file.dir,h=a(l,p,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(h.dirRecord),p)this.push({data:function(b){return g.DATA_DESCRIPTOR+s(b.crc32,4)+s(b.compressedSize,4)+s(b.uncompressedSize,4)}(l),meta:{percent:100}});else for(this.push({data:h.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},u.prototype.flush=function(){for(var l=this.bytesWritten,p=0;p<this.dirRecords.length;p++)this.push({data:this.dirRecords[p],meta:{percent:100}});var h=this.bytesWritten-l,b=function(v,y,x,E,k){var I=o.transformTo("string",k(E));return g.CENTRAL_DIRECTORY_END+"\0\0\0\0"+s(v,2)+s(v,2)+s(y,4)+s(x,4)+s(I.length,2)+I}(this.dirRecords.length,h,l,this.zipComment,this.encodeFileName);this.push({data:b,meta:{percent:100}})},u.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},u.prototype.registerPrevious=function(l){this._sources.push(l);var p=this;return l.on("data",function(h){p.processChunk(h)}),l.on("end",function(){p.closedSource(p.previous.streamInfo),p._sources.length?p.prepareNextSource():p.end()}),l.on("error",function(h){p.error(h)}),this},u.prototype.resume=function(){return!!c.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},u.prototype.error=function(l){var p=this._sources;if(!c.prototype.error.call(this,l))return!1;for(var h=0;h<p.length;h++)try{p[h].error(l)}catch{}return!0},u.prototype.lock=function(){c.prototype.lock.call(this);for(var l=this._sources,p=0;p<l.length;p++)l[p].lock()},r.exports=u},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(n,r,i){var s=n("../compressions"),a=n("./ZipFileWorker");i.generateWorker=function(o,c,d){var f=new a(c.streamFiles,d,c.platform,c.encodeFileName),g=0;try{o.forEach(function(u,l){g++;var p=function(y,x){var E=y||x,k=s[E];if(!k)throw new Error(E+" is not a valid compression method !");return k}(l.options.compression,c.compression),h=l.options.compressionOptions||c.compressionOptions||{},b=l.dir,v=l.date;l._compressWorker(p,h).withStreamInfo("file",{name:u,dir:b,date:v,comment:l.comment||"",unixPermissions:l.unixPermissions,dosPermissions:l.dosPermissions}).pipe(f)}),f.entriesCount=g}catch(u){f.error(u)}return f}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(n,r,i){function s(){if(!(this instanceof s))return new s;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var a=new s;for(var o in this)typeof this[o]!="function"&&(a[o]=this[o]);return a}}(s.prototype=n("./object")).loadAsync=n("./load"),s.support=n("./support"),s.defaults=n("./defaults"),s.version="3.10.1",s.loadAsync=function(a,o){return new s().loadAsync(a,o)},s.external=n("./external"),r.exports=s},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(n,r,i){var s=n("./utils"),a=n("./external"),o=n("./utf8"),c=n("./zipEntries"),d=n("./stream/Crc32Probe"),f=n("./nodejsUtils");function g(u){return new a.Promise(function(l,p){var h=u.decompressed.getContentWorker().pipe(new d);h.on("error",function(b){p(b)}).on("end",function(){h.streamInfo.crc32!==u.decompressed.crc32?p(new Error("Corrupted zip : CRC32 mismatch")):l()}).resume()})}r.exports=function(u,l){var p=this;return l=s.extend(l||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:o.utf8decode}),f.isNode&&f.isStream(u)?a.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):s.prepareContent("the loaded zip file",u,!0,l.optimizedBinaryString,l.base64).then(function(h){var b=new c(l);return b.load(h),b}).then(function(h){var b=[a.Promise.resolve(h)],v=h.files;if(l.checkCRC32)for(var y=0;y<v.length;y++)b.push(g(v[y]));return a.Promise.all(b)}).then(function(h){for(var b=h.shift(),v=b.files,y=0;y<v.length;y++){var x=v[y],E=x.fileNameStr,k=s.resolve(x.fileNameStr);p.file(k,x.decompressed,{binary:!0,optimizedBinaryString:!0,date:x.date,dir:x.dir,comment:x.fileCommentStr.length?x.fileCommentStr:null,unixPermissions:x.unixPermissions,dosPermissions:x.dosPermissions,createFolders:l.createFolders}),x.dir||(p.file(k).unsafeOriginalName=E)}return b.zipComment.length&&(p.comment=b.zipComment),p})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(n,r,i){var s=n("../utils"),a=n("../stream/GenericWorker");function o(c,d){a.call(this,"Nodejs stream input adapter for "+c),this._upstreamEnded=!1,this._bindStream(d)}s.inherits(o,a),o.prototype._bindStream=function(c){var d=this;(this._stream=c).pause(),c.on("data",function(f){d.push({data:f,meta:{percent:0}})}).on("error",function(f){d.isPaused?this.generatedError=f:d.error(f)}).on("end",function(){d.isPaused?d._upstreamEnded=!0:d.end()})},o.prototype.pause=function(){return!!a.prototype.pause.call(this)&&(this._stream.pause(),!0)},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},r.exports=o},{"../stream/GenericWorker":28,"../utils":32}],13:[function(n,r,i){var s=n("readable-stream").Readable;function a(o,c,d){s.call(this,c),this._helper=o;var f=this;o.on("data",function(g,u){f.push(g)||f._helper.pause(),d&&d(u)}).on("error",function(g){f.emit("error",g)}).on("end",function(){f.push(null)})}n("../utils").inherits(a,s),a.prototype._read=function(){this._helper.resume()},r.exports=a},{"../utils":32,"readable-stream":16}],14:[function(n,r,i){r.exports={isNode:typeof Buffer<"u",newBufferFrom:function(s,a){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(s,a);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Buffer(s,a)},allocBuffer:function(s){if(Buffer.alloc)return Buffer.alloc(s);var a=new Buffer(s);return a.fill(0),a},isBuffer:function(s){return Buffer.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(n,r,i){function s(k,I,O){var P,A=o.getTypeOf(I),M=o.extend(O||{},f);M.date=M.date||new Date,M.compression!==null&&(M.compression=M.compression.toUpperCase()),typeof M.unixPermissions=="string"&&(M.unixPermissions=parseInt(M.unixPermissions,8)),M.unixPermissions&&16384&M.unixPermissions&&(M.dir=!0),M.dosPermissions&&16&M.dosPermissions&&(M.dir=!0),M.dir&&(k=v(k)),M.createFolders&&(P=b(k))&&y.call(this,P,!0);var F=A==="string"&&M.binary===!1&&M.base64===!1;O&&O.binary!==void 0||(M.binary=!F),(I instanceof g&&I.uncompressedSize===0||M.dir||!I||I.length===0)&&(M.base64=!1,M.binary=!0,I="",M.compression="STORE",A="string");var C=null;C=I instanceof g||I instanceof c?I:p.isNode&&p.isStream(I)?new h(k,I):o.prepareContent(k,I,M.binary,M.optimizedBinaryString,M.base64);var R=new u(k,C,M);this.files[k]=R}var a=n("./utf8"),o=n("./utils"),c=n("./stream/GenericWorker"),d=n("./stream/StreamHelper"),f=n("./defaults"),g=n("./compressedObject"),u=n("./zipObject"),l=n("./generate"),p=n("./nodejsUtils"),h=n("./nodejs/NodejsStreamInputAdapter"),b=function(k){k.slice(-1)==="/"&&(k=k.substring(0,k.length-1));var I=k.lastIndexOf("/");return 0<I?k.substring(0,I):""},v=function(k){return k.slice(-1)!=="/"&&(k+="/"),k},y=function(k,I){return I=I!==void 0?I:f.createFolders,k=v(k),this.files[k]||s.call(this,k,null,{dir:!0,createFolders:I}),this.files[k]};function x(k){return Object.prototype.toString.call(k)==="[object RegExp]"}var E={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(k){var I,O,P;for(I in this.files)P=this.files[I],(O=I.slice(this.root.length,I.length))&&I.slice(0,this.root.length)===this.root&&k(O,P)},filter:function(k){var I=[];return this.forEach(function(O,P){k(O,P)&&I.push(P)}),I},file:function(k,I,O){if(arguments.length!==1)return k=this.root+k,s.call(this,k,I,O),this;if(x(k)){var P=k;return this.filter(function(M,F){return!F.dir&&P.test(M)})}var A=this.files[this.root+k];return A&&!A.dir?A:null},folder:function(k){if(!k)return this;if(x(k))return this.filter(function(A,M){return M.dir&&k.test(A)});var I=this.root+k,O=y.call(this,I),P=this.clone();return P.root=O.name,P},remove:function(k){k=this.root+k;var I=this.files[k];if(I||(k.slice(-1)!=="/"&&(k+="/"),I=this.files[k]),I&&!I.dir)delete this.files[k];else for(var O=this.filter(function(A,M){return M.name.slice(0,k.length)===k}),P=0;P<O.length;P++)delete this.files[O[P].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(k){var I,O={};try{if((O=o.extend(k||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:a.utf8encode})).type=O.type.toLowerCase(),O.compression=O.compression.toUpperCase(),O.type==="binarystring"&&(O.type="string"),!O.type)throw new Error("No output type specified.");o.checkSupport(O.type),O.platform!=="darwin"&&O.platform!=="freebsd"&&O.platform!=="linux"&&O.platform!=="sunos"||(O.platform="UNIX"),O.platform==="win32"&&(O.platform="DOS");var P=O.comment||this.comment||"";I=l.generateWorker(this,O,P)}catch(A){(I=new c("error")).error(A)}return new d(I,O.type||"string",O.mimeType)},generateAsync:function(k,I){return this.generateInternalStream(k).accumulate(I)},generateNodeStream:function(k,I){return(k=k||{}).type||(k.type="nodebuffer"),this.generateInternalStream(k).toNodejsStream(I)}};r.exports=E},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(n,r,i){r.exports=n("stream")},{stream:void 0}],17:[function(n,r,i){var s=n("./DataReader");function a(o){s.call(this,o);for(var c=0;c<this.data.length;c++)o[c]=255&o[c]}n("../utils").inherits(a,s),a.prototype.byteAt=function(o){return this.data[this.zero+o]},a.prototype.lastIndexOfSignature=function(o){for(var c=o.charCodeAt(0),d=o.charCodeAt(1),f=o.charCodeAt(2),g=o.charCodeAt(3),u=this.length-4;0<=u;--u)if(this.data[u]===c&&this.data[u+1]===d&&this.data[u+2]===f&&this.data[u+3]===g)return u-this.zero;return-1},a.prototype.readAndCheckSignature=function(o){var c=o.charCodeAt(0),d=o.charCodeAt(1),f=o.charCodeAt(2),g=o.charCodeAt(3),u=this.readData(4);return c===u[0]&&d===u[1]&&f===u[2]&&g===u[3]},a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return[];var c=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},r.exports=a},{"../utils":32,"./DataReader":18}],18:[function(n,r,i){var s=n("../utils");function a(o){this.data=o,this.length=o.length,this.index=0,this.zero=0}a.prototype={checkOffset:function(o){this.checkIndex(this.index+o)},checkIndex:function(o){if(this.length<this.zero+o||o<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+o+"). Corrupted zip ?")},setIndex:function(o){this.checkIndex(o),this.index=o},skip:function(o){this.setIndex(this.index+o)},byteAt:function(){},readInt:function(o){var c,d=0;for(this.checkOffset(o),c=this.index+o-1;c>=this.index;c--)d=(d<<8)+this.byteAt(c);return this.index+=o,d},readString:function(o){return s.transformTo("string",this.readData(o))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var o=this.readInt(4);return new Date(Date.UTC(1980+(o>>25&127),(o>>21&15)-1,o>>16&31,o>>11&31,o>>5&63,(31&o)<<1))}},r.exports=a},{"../utils":32}],19:[function(n,r,i){var s=n("./Uint8ArrayReader");function a(o){s.call(this,o)}n("../utils").inherits(a,s),a.prototype.readData=function(o){this.checkOffset(o);var c=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},r.exports=a},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(n,r,i){var s=n("./DataReader");function a(o){s.call(this,o)}n("../utils").inherits(a,s),a.prototype.byteAt=function(o){return this.data.charCodeAt(this.zero+o)},a.prototype.lastIndexOfSignature=function(o){return this.data.lastIndexOf(o)-this.zero},a.prototype.readAndCheckSignature=function(o){return o===this.readData(4)},a.prototype.readData=function(o){this.checkOffset(o);var c=this.data.slice(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},r.exports=a},{"../utils":32,"./DataReader":18}],21:[function(n,r,i){var s=n("./ArrayReader");function a(o){s.call(this,o)}n("../utils").inherits(a,s),a.prototype.readData=function(o){if(this.checkOffset(o),o===0)return new Uint8Array(0);var c=this.data.subarray(this.zero+this.index,this.zero+this.index+o);return this.index+=o,c},r.exports=a},{"../utils":32,"./ArrayReader":17}],22:[function(n,r,i){var s=n("../utils"),a=n("../support"),o=n("./ArrayReader"),c=n("./StringReader"),d=n("./NodeBufferReader"),f=n("./Uint8ArrayReader");r.exports=function(g){var u=s.getTypeOf(g);return s.checkSupport(u),u!=="string"||a.uint8array?u==="nodebuffer"?new d(g):a.uint8array?new f(s.transformTo("uint8array",g)):new o(s.transformTo("array",g)):new c(g)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(n,r,i){i.LOCAL_FILE_HEADER="PK",i.CENTRAL_FILE_HEADER="PK",i.CENTRAL_DIRECTORY_END="PK",i.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",i.ZIP64_CENTRAL_DIRECTORY_END="PK",i.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(n,r,i){var s=n("./GenericWorker"),a=n("../utils");function o(c){s.call(this,"ConvertWorker to "+c),this.destType=c}a.inherits(o,s),o.prototype.processChunk=function(c){this.push({data:a.transformTo(this.destType,c.data),meta:c.meta})},r.exports=o},{"../utils":32,"./GenericWorker":28}],25:[function(n,r,i){var s=n("./GenericWorker"),a=n("../crc32");function o(){s.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}n("../utils").inherits(o,s),o.prototype.processChunk=function(c){this.streamInfo.crc32=a(c.data,this.streamInfo.crc32||0),this.push(c)},r.exports=o},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(n,r,i){var s=n("../utils"),a=n("./GenericWorker");function o(c){a.call(this,"DataLengthProbe for "+c),this.propName=c,this.withStreamInfo(c,0)}s.inherits(o,a),o.prototype.processChunk=function(c){if(c){var d=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=d+c.data.length}a.prototype.processChunk.call(this,c)},r.exports=o},{"../utils":32,"./GenericWorker":28}],27:[function(n,r,i){var s=n("../utils"),a=n("./GenericWorker");function o(c){a.call(this,"DataWorker");var d=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,c.then(function(f){d.dataIsReady=!0,d.data=f,d.max=f&&f.length||0,d.type=s.getTypeOf(f),d.isPaused||d._tickAndRepeat()},function(f){d.error(f)})}s.inherits(o,a),o.prototype.cleanUp=function(){a.prototype.cleanUp.call(this),this.data=null},o.prototype.resume=function(){return!!a.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,s.delay(this._tickAndRepeat,[],this)),!0)},o.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(s.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},o.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var c=null,d=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":c=this.data.substring(this.index,d);break;case"uint8array":c=this.data.subarray(this.index,d);break;case"array":case"nodebuffer":c=this.data.slice(this.index,d)}return this.index=d,this.push({data:c,meta:{percent:this.max?this.index/this.max*100:0}})},r.exports=o},{"../utils":32,"./GenericWorker":28}],28:[function(n,r,i){function s(a){this.name=a||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}s.prototype={push:function(a){this.emit("data",a)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(a){this.emit("error",a)}return!0},error:function(a){return!this.isFinished&&(this.isPaused?this.generatedError=a:(this.isFinished=!0,this.emit("error",a),this.previous&&this.previous.error(a),this.cleanUp()),!0)},on:function(a,o){return this._listeners[a].push(o),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(a,o){if(this._listeners[a])for(var c=0;c<this._listeners[a].length;c++)this._listeners[a][c].call(this,o)},pipe:function(a){return a.registerPrevious(this)},registerPrevious:function(a){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=a.streamInfo,this.mergeStreamInfo(),this.previous=a;var o=this;return a.on("data",function(c){o.processChunk(c)}),a.on("end",function(){o.end()}),a.on("error",function(c){o.error(c)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var a=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),a=!0),this.previous&&this.previous.resume(),!a},flush:function(){},processChunk:function(a){this.push(a)},withStreamInfo:function(a,o){return this.extraStreamInfo[a]=o,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var a in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,a)&&(this.streamInfo[a]=this.extraStreamInfo[a])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var a="Worker "+this.name;return this.previous?this.previous+" -> "+a:a}},r.exports=s},{}],29:[function(n,r,i){var s=n("../utils"),a=n("./ConvertWorker"),o=n("./GenericWorker"),c=n("../base64"),d=n("../support"),f=n("../external"),g=null;if(d.nodestream)try{g=n("../nodejs/NodejsStreamOutputAdapter")}catch{}function u(p,h){return new f.Promise(function(b,v){var y=[],x=p._internalType,E=p._outputType,k=p._mimeType;p.on("data",function(I,O){y.push(I),h&&h(O)}).on("error",function(I){y=[],v(I)}).on("end",function(){try{var I=function(O,P,A){switch(O){case"blob":return s.newBlob(s.transformTo("arraybuffer",P),A);case"base64":return c.encode(P);default:return s.transformTo(O,P)}}(E,function(O,P){var A,M=0,F=null,C=0;for(A=0;A<P.length;A++)C+=P[A].length;switch(O){case"string":return P.join("");case"array":return Array.prototype.concat.apply([],P);case"uint8array":for(F=new Uint8Array(C),A=0;A<P.length;A++)F.set(P[A],M),M+=P[A].length;return F;case"nodebuffer":return Buffer.concat(P);default:throw new Error("concat : unsupported type '"+O+"'")}}(x,y),k);b(I)}catch(O){v(O)}y=[]}).resume()})}function l(p,h,b){var v=h;switch(h){case"blob":case"arraybuffer":v="uint8array";break;case"base64":v="string"}try{this._internalType=v,this._outputType=h,this._mimeType=b,s.checkSupport(v),this._worker=p.pipe(new a(v)),p.lock()}catch(y){this._worker=new o("error"),this._worker.error(y)}}l.prototype={accumulate:function(p){return u(this,p)},on:function(p,h){var b=this;return p==="data"?this._worker.on(p,function(v){h.call(b,v.data,v.meta)}):this._worker.on(p,function(){s.delay(h,arguments,b)}),this},resume:function(){return s.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(p){if(s.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new g(this,{objectMode:this._outputType!=="nodebuffer"},p)}},r.exports=l},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(n,r,i){if(i.base64=!0,i.array=!0,i.string=!0,i.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",i.nodebuffer=typeof Buffer<"u",i.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")i.blob=!1;else{var s=new ArrayBuffer(0);try{i.blob=new Blob([s],{type:"application/zip"}).size===0}catch{try{var a=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);a.append(s),i.blob=a.getBlob("application/zip").size===0}catch{i.blob=!1}}}try{i.nodestream=!!n("readable-stream").Readable}catch{i.nodestream=!1}},{"readable-stream":16}],31:[function(n,r,i){for(var s=n("./utils"),a=n("./support"),o=n("./nodejsUtils"),c=n("./stream/GenericWorker"),d=new Array(256),f=0;f<256;f++)d[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;d[254]=d[254]=1;function g(){c.call(this,"utf-8 decode"),this.leftOver=null}function u(){c.call(this,"utf-8 encode")}i.utf8encode=function(l){return a.nodebuffer?o.newBufferFrom(l,"utf-8"):function(p){var h,b,v,y,x,E=p.length,k=0;for(y=0;y<E;y++)(64512&(b=p.charCodeAt(y)))==55296&&y+1<E&&(64512&(v=p.charCodeAt(y+1)))==56320&&(b=65536+(b-55296<<10)+(v-56320),y++),k+=b<128?1:b<2048?2:b<65536?3:4;for(h=a.uint8array?new Uint8Array(k):new Array(k),y=x=0;x<k;y++)(64512&(b=p.charCodeAt(y)))==55296&&y+1<E&&(64512&(v=p.charCodeAt(y+1)))==56320&&(b=65536+(b-55296<<10)+(v-56320),y++),b<128?h[x++]=b:(b<2048?h[x++]=192|b>>>6:(b<65536?h[x++]=224|b>>>12:(h[x++]=240|b>>>18,h[x++]=128|b>>>12&63),h[x++]=128|b>>>6&63),h[x++]=128|63&b);return h}(l)},i.utf8decode=function(l){return a.nodebuffer?s.transformTo("nodebuffer",l).toString("utf-8"):function(p){var h,b,v,y,x=p.length,E=new Array(2*x);for(h=b=0;h<x;)if((v=p[h++])<128)E[b++]=v;else if(4<(y=d[v]))E[b++]=65533,h+=y-1;else{for(v&=y===2?31:y===3?15:7;1<y&&h<x;)v=v<<6|63&p[h++],y--;1<y?E[b++]=65533:v<65536?E[b++]=v:(v-=65536,E[b++]=55296|v>>10&1023,E[b++]=56320|1023&v)}return E.length!==b&&(E.subarray?E=E.subarray(0,b):E.length=b),s.applyFromCharCode(E)}(l=s.transformTo(a.uint8array?"uint8array":"array",l))},s.inherits(g,c),g.prototype.processChunk=function(l){var p=s.transformTo(a.uint8array?"uint8array":"array",l.data);if(this.leftOver&&this.leftOver.length){if(a.uint8array){var h=p;(p=new Uint8Array(h.length+this.leftOver.length)).set(this.leftOver,0),p.set(h,this.leftOver.length)}else p=this.leftOver.concat(p);this.leftOver=null}var b=function(y,x){var E;for((x=x||y.length)>y.length&&(x=y.length),E=x-1;0<=E&&(192&y[E])==128;)E--;return E<0||E===0?x:E+d[y[E]]>x?E:x}(p),v=p;b!==p.length&&(a.uint8array?(v=p.subarray(0,b),this.leftOver=p.subarray(b,p.length)):(v=p.slice(0,b),this.leftOver=p.slice(b,p.length))),this.push({data:i.utf8decode(v),meta:l.meta})},g.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:i.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},i.Utf8DecodeWorker=g,s.inherits(u,c),u.prototype.processChunk=function(l){this.push({data:i.utf8encode(l.data),meta:l.meta})},i.Utf8EncodeWorker=u},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(n,r,i){var s=n("./support"),a=n("./base64"),o=n("./nodejsUtils"),c=n("./external");function d(h){return h}function f(h,b){for(var v=0;v<h.length;++v)b[v]=255&h.charCodeAt(v);return b}n("setimmediate"),i.newBlob=function(h,b){i.checkSupport("blob");try{return new Blob([h],{type:b})}catch{try{var v=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return v.append(h),v.getBlob(b)}catch{throw new Error("Bug : can't construct the Blob.")}}};var g={stringifyByChunk:function(h,b,v){var y=[],x=0,E=h.length;if(E<=v)return String.fromCharCode.apply(null,h);for(;x<E;)b==="array"||b==="nodebuffer"?y.push(String.fromCharCode.apply(null,h.slice(x,Math.min(x+v,E)))):y.push(String.fromCharCode.apply(null,h.subarray(x,Math.min(x+v,E)))),x+=v;return y.join("")},stringifyByChar:function(h){for(var b="",v=0;v<h.length;v++)b+=String.fromCharCode(h[v]);return b},applyCanBeUsed:{uint8array:function(){try{return s.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return s.nodebuffer&&String.fromCharCode.apply(null,o.allocBuffer(1)).length===1}catch{return!1}}()}};function u(h){var b=65536,v=i.getTypeOf(h),y=!0;if(v==="uint8array"?y=g.applyCanBeUsed.uint8array:v==="nodebuffer"&&(y=g.applyCanBeUsed.nodebuffer),y)for(;1<b;)try{return g.stringifyByChunk(h,v,b)}catch{b=Math.floor(b/2)}return g.stringifyByChar(h)}function l(h,b){for(var v=0;v<h.length;v++)b[v]=h[v];return b}i.applyFromCharCode=u;var p={};p.string={string:d,array:function(h){return f(h,new Array(h.length))},arraybuffer:function(h){return p.string.uint8array(h).buffer},uint8array:function(h){return f(h,new Uint8Array(h.length))},nodebuffer:function(h){return f(h,o.allocBuffer(h.length))}},p.array={string:u,array:d,arraybuffer:function(h){return new Uint8Array(h).buffer},uint8array:function(h){return new Uint8Array(h)},nodebuffer:function(h){return o.newBufferFrom(h)}},p.arraybuffer={string:function(h){return u(new Uint8Array(h))},array:function(h){return l(new Uint8Array(h),new Array(h.byteLength))},arraybuffer:d,uint8array:function(h){return new Uint8Array(h)},nodebuffer:function(h){return o.newBufferFrom(new Uint8Array(h))}},p.uint8array={string:u,array:function(h){return l(h,new Array(h.length))},arraybuffer:function(h){return h.buffer},uint8array:d,nodebuffer:function(h){return o.newBufferFrom(h)}},p.nodebuffer={string:u,array:function(h){return l(h,new Array(h.length))},arraybuffer:function(h){return p.nodebuffer.uint8array(h).buffer},uint8array:function(h){return l(h,new Uint8Array(h.length))},nodebuffer:d},i.transformTo=function(h,b){if(b=b||"",!h)return b;i.checkSupport(h);var v=i.getTypeOf(b);return p[v][h](b)},i.resolve=function(h){for(var b=h.split("/"),v=[],y=0;y<b.length;y++){var x=b[y];x==="."||x===""&&y!==0&&y!==b.length-1||(x===".."?v.pop():v.push(x))}return v.join("/")},i.getTypeOf=function(h){return typeof h=="string"?"string":Object.prototype.toString.call(h)==="[object Array]"?"array":s.nodebuffer&&o.isBuffer(h)?"nodebuffer":s.uint8array&&h instanceof Uint8Array?"uint8array":s.arraybuffer&&h instanceof ArrayBuffer?"arraybuffer":void 0},i.checkSupport=function(h){if(!s[h.toLowerCase()])throw new Error(h+" is not supported by this platform")},i.MAX_VALUE_16BITS=65535,i.MAX_VALUE_32BITS=-1,i.pretty=function(h){var b,v,y="";for(v=0;v<(h||"").length;v++)y+="\\x"+((b=h.charCodeAt(v))<16?"0":"")+b.toString(16).toUpperCase();return y},i.delay=function(h,b,v){setImmediate(function(){h.apply(v||null,b||[])})},i.inherits=function(h,b){function v(){}v.prototype=b.prototype,h.prototype=new v},i.extend=function(){var h,b,v={};for(h=0;h<arguments.length;h++)for(b in arguments[h])Object.prototype.hasOwnProperty.call(arguments[h],b)&&v[b]===void 0&&(v[b]=arguments[h][b]);return v},i.prepareContent=function(h,b,v,y,x){return c.Promise.resolve(b).then(function(E){return s.blob&&(E instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(E))!==-1)&&typeof FileReader<"u"?new c.Promise(function(k,I){var O=new FileReader;O.onload=function(P){k(P.target.result)},O.onerror=function(P){I(P.target.error)},O.readAsArrayBuffer(E)}):E}).then(function(E){var k=i.getTypeOf(E);return k?(k==="arraybuffer"?E=i.transformTo("uint8array",E):k==="string"&&(x?E=a.decode(E):v&&y!==!0&&(E=function(I){return f(I,s.uint8array?new Uint8Array(I.length):new Array(I.length))}(E))),E):c.Promise.reject(new Error("Can't read the data of '"+h+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(n,r,i){var s=n("./reader/readerFor"),a=n("./utils"),o=n("./signature"),c=n("./zipEntry"),d=n("./support");function f(g){this.files=[],this.loadOptions=g}f.prototype={checkSignature:function(g){if(!this.reader.readAndCheckSignature(g)){this.reader.index-=4;var u=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+a.pretty(u)+", expected "+a.pretty(g)+")")}},isSignature:function(g,u){var l=this.reader.index;this.reader.setIndex(g);var p=this.reader.readString(4)===u;return this.reader.setIndex(l),p},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var g=this.reader.readData(this.zipCommentLength),u=d.uint8array?"uint8array":"array",l=a.transformTo(u,g);this.zipComment=this.loadOptions.decodeFileName(l)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var g,u,l,p=this.zip64EndOfCentralSize-44;0<p;)g=this.reader.readInt(2),u=this.reader.readInt(4),l=this.reader.readData(u),this.zip64ExtensibleData[g]={id:g,length:u,value:l}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var g,u;for(g=0;g<this.files.length;g++)u=this.files[g],this.reader.setIndex(u.localHeaderOffset),this.checkSignature(o.LOCAL_FILE_HEADER),u.readLocalPart(this.reader),u.handleUTF8(),u.processAttributes()},readCentralDir:function(){var g;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(o.CENTRAL_FILE_HEADER);)(g=new c({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(g);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var g=this.reader.lastIndexOfSignature(o.CENTRAL_DIRECTORY_END);if(g<0)throw this.isSignature(0,o.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(g);var u=g;if(this.checkSignature(o.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===a.MAX_VALUE_16BITS||this.diskWithCentralDirStart===a.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===a.MAX_VALUE_16BITS||this.centralDirRecords===a.MAX_VALUE_16BITS||this.centralDirSize===a.MAX_VALUE_32BITS||this.centralDirOffset===a.MAX_VALUE_32BITS){if(this.zip64=!0,(g=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(g),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,o.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(o.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var l=this.centralDirOffset+this.centralDirSize;this.zip64&&(l+=20,l+=12+this.zip64EndOfCentralSize);var p=u-l;if(0<p)this.isSignature(u,o.CENTRAL_FILE_HEADER)||(this.reader.zero=p);else if(p<0)throw new Error("Corrupted zip: missing "+Math.abs(p)+" bytes.")},prepareReader:function(g){this.reader=s(g)},load:function(g){this.prepareReader(g),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},r.exports=f},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(n,r,i){var s=n("./reader/readerFor"),a=n("./utils"),o=n("./compressedObject"),c=n("./crc32"),d=n("./utf8"),f=n("./compressions"),g=n("./support");function u(l,p){this.options=l,this.loadOptions=p}u.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(l){var p,h;if(l.skip(22),this.fileNameLength=l.readInt(2),h=l.readInt(2),this.fileName=l.readData(this.fileNameLength),l.skip(h),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((p=function(b){for(var v in f)if(Object.prototype.hasOwnProperty.call(f,v)&&f[v].magic===b)return f[v];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+a.pretty(this.compressionMethod)+" unknown (inner file : "+a.transformTo("string",this.fileName)+")");this.decompressed=new o(this.compressedSize,this.uncompressedSize,this.crc32,p,l.readData(this.compressedSize))},readCentralPart:function(l){this.versionMadeBy=l.readInt(2),l.skip(2),this.bitFlag=l.readInt(2),this.compressionMethod=l.readString(2),this.date=l.readDate(),this.crc32=l.readInt(4),this.compressedSize=l.readInt(4),this.uncompressedSize=l.readInt(4);var p=l.readInt(2);if(this.extraFieldsLength=l.readInt(2),this.fileCommentLength=l.readInt(2),this.diskNumberStart=l.readInt(2),this.internalFileAttributes=l.readInt(2),this.externalFileAttributes=l.readInt(4),this.localHeaderOffset=l.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");l.skip(p),this.readExtraFields(l),this.parseZIP64ExtraField(l),this.fileComment=l.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var l=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),l==0&&(this.dosPermissions=63&this.externalFileAttributes),l==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var l=s(this.extraFields[1].value);this.uncompressedSize===a.MAX_VALUE_32BITS&&(this.uncompressedSize=l.readInt(8)),this.compressedSize===a.MAX_VALUE_32BITS&&(this.compressedSize=l.readInt(8)),this.localHeaderOffset===a.MAX_VALUE_32BITS&&(this.localHeaderOffset=l.readInt(8)),this.diskNumberStart===a.MAX_VALUE_32BITS&&(this.diskNumberStart=l.readInt(4))}},readExtraFields:function(l){var p,h,b,v=l.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});l.index+4<v;)p=l.readInt(2),h=l.readInt(2),b=l.readData(h),this.extraFields[p]={id:p,length:h,value:b};l.setIndex(v)},handleUTF8:function(){var l=g.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=d.utf8decode(this.fileName),this.fileCommentStr=d.utf8decode(this.fileComment);else{var p=this.findExtraFieldUnicodePath();if(p!==null)this.fileNameStr=p;else{var h=a.transformTo(l,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(h)}var b=this.findExtraFieldUnicodeComment();if(b!==null)this.fileCommentStr=b;else{var v=a.transformTo(l,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(v)}}},findExtraFieldUnicodePath:function(){var l=this.extraFields[28789];if(l){var p=s(l.value);return p.readInt(1)!==1||c(this.fileName)!==p.readInt(4)?null:d.utf8decode(p.readData(l.length-5))}return null},findExtraFieldUnicodeComment:function(){var l=this.extraFields[25461];if(l){var p=s(l.value);return p.readInt(1)!==1||c(this.fileComment)!==p.readInt(4)?null:d.utf8decode(p.readData(l.length-5))}return null}},r.exports=u},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(n,r,i){function s(p,h,b){this.name=p,this.dir=b.dir,this.date=b.date,this.comment=b.comment,this.unixPermissions=b.unixPermissions,this.dosPermissions=b.dosPermissions,this._data=h,this._dataBinary=b.binary,this.options={compression:b.compression,compressionOptions:b.compressionOptions}}var a=n("./stream/StreamHelper"),o=n("./stream/DataWorker"),c=n("./utf8"),d=n("./compressedObject"),f=n("./stream/GenericWorker");s.prototype={internalStream:function(p){var h=null,b="string";try{if(!p)throw new Error("No output type specified.");var v=(b=p.toLowerCase())==="string"||b==="text";b!=="binarystring"&&b!=="text"||(b="string"),h=this._decompressWorker();var y=!this._dataBinary;y&&!v&&(h=h.pipe(new c.Utf8EncodeWorker)),!y&&v&&(h=h.pipe(new c.Utf8DecodeWorker))}catch(x){(h=new f("error")).error(x)}return new a(h,b,"")},async:function(p,h){return this.internalStream(p).accumulate(h)},nodeStream:function(p,h){return this.internalStream(p||"nodebuffer").toNodejsStream(h)},_compressWorker:function(p,h){if(this._data instanceof d&&this._data.compression.magic===p.magic)return this._data.getCompressedWorker();var b=this._decompressWorker();return this._dataBinary||(b=b.pipe(new c.Utf8EncodeWorker)),d.createWorkerFrom(b,p,h)},_decompressWorker:function(){return this._data instanceof d?this._data.getContentWorker():this._data instanceof f?this._data:new o(this._data)}};for(var g=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],u=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},l=0;l<g.length;l++)s.prototype[g[l]]=u;r.exports=s},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(n,r,i){(function(s){var a,o,c=s.MutationObserver||s.WebKitMutationObserver;if(c){var d=0,f=new c(p),g=s.document.createTextNode("");f.observe(g,{characterData:!0}),a=function(){g.data=d=++d%2}}else if(s.setImmediate||s.MessageChannel===void 0)a="document"in s&&"onreadystatechange"in s.document.createElement("script")?function(){var h=s.document.createElement("script");h.onreadystatechange=function(){p(),h.onreadystatechange=null,h.parentNode.removeChild(h),h=null},s.document.documentElement.appendChild(h)}:function(){setTimeout(p,0)};else{var u=new s.MessageChannel;u.port1.onmessage=p,a=function(){u.port2.postMessage(0)}}var l=[];function p(){var h,b;o=!0;for(var v=l.length;v;){for(b=l,l=[],h=-1;++h<v;)b[h]();v=l.length}o=!1}r.exports=function(h){l.push(h)!==1||o||a()}}).call(this,typeof ci<"u"?ci:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(n,r,i){var s=n("immediate");function a(){}var o={},c=["REJECTED"],d=["FULFILLED"],f=["PENDING"];function g(v){if(typeof v!="function")throw new TypeError("resolver must be a function");this.state=f,this.queue=[],this.outcome=void 0,v!==a&&h(this,v)}function u(v,y,x){this.promise=v,typeof y=="function"&&(this.onFulfilled=y,this.callFulfilled=this.otherCallFulfilled),typeof x=="function"&&(this.onRejected=x,this.callRejected=this.otherCallRejected)}function l(v,y,x){s(function(){var E;try{E=y(x)}catch(k){return o.reject(v,k)}E===v?o.reject(v,new TypeError("Cannot resolve promise with itself")):o.resolve(v,E)})}function p(v){var y=v&&v.then;if(v&&(typeof v=="object"||typeof v=="function")&&typeof y=="function")return function(){y.apply(v,arguments)}}function h(v,y){var x=!1;function E(O){x||(x=!0,o.reject(v,O))}function k(O){x||(x=!0,o.resolve(v,O))}var I=b(function(){y(k,E)});I.status==="error"&&E(I.value)}function b(v,y){var x={};try{x.value=v(y),x.status="success"}catch(E){x.status="error",x.value=E}return x}(r.exports=g).prototype.finally=function(v){if(typeof v!="function")return this;var y=this.constructor;return this.then(function(x){return y.resolve(v()).then(function(){return x})},function(x){return y.resolve(v()).then(function(){throw x})})},g.prototype.catch=function(v){return this.then(null,v)},g.prototype.then=function(v,y){if(typeof v!="function"&&this.state===d||typeof y!="function"&&this.state===c)return this;var x=new this.constructor(a);return this.state!==f?l(x,this.state===d?v:y,this.outcome):this.queue.push(new u(x,v,y)),x},u.prototype.callFulfilled=function(v){o.resolve(this.promise,v)},u.prototype.otherCallFulfilled=function(v){l(this.promise,this.onFulfilled,v)},u.prototype.callRejected=function(v){o.reject(this.promise,v)},u.prototype.otherCallRejected=function(v){l(this.promise,this.onRejected,v)},o.resolve=function(v,y){var x=b(p,y);if(x.status==="error")return o.reject(v,x.value);var E=x.value;if(E)h(v,E);else{v.state=d,v.outcome=y;for(var k=-1,I=v.queue.length;++k<I;)v.queue[k].callFulfilled(y)}return v},o.reject=function(v,y){v.state=c,v.outcome=y;for(var x=-1,E=v.queue.length;++x<E;)v.queue[x].callRejected(y);return v},g.resolve=function(v){return v instanceof this?v:o.resolve(new this(a),v)},g.reject=function(v){var y=new this(a);return o.reject(y,v)},g.all=function(v){var y=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=v.length,E=!1;if(!x)return this.resolve([]);for(var k=new Array(x),I=0,O=-1,P=new this(a);++O<x;)A(v[O],O);return P;function A(M,F){y.resolve(M).then(function(C){k[F]=C,++I!==x||E||(E=!0,o.resolve(P,k))},function(C){E||(E=!0,o.reject(P,C))})}},g.race=function(v){var y=this;if(Object.prototype.toString.call(v)!=="[object Array]")return this.reject(new TypeError("must be an array"));var x=v.length,E=!1;if(!x)return this.resolve([]);for(var k=-1,I=new this(a);++k<x;)O=v[k],y.resolve(O).then(function(P){E||(E=!0,o.resolve(I,P))},function(P){E||(E=!0,o.reject(I,P))});var O;return I}},{immediate:36}],38:[function(n,r,i){var s={};(0,n("./lib/utils/common").assign)(s,n("./lib/deflate"),n("./lib/inflate"),n("./lib/zlib/constants")),r.exports=s},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(n,r,i){var s=n("./zlib/deflate"),a=n("./utils/common"),o=n("./utils/strings"),c=n("./zlib/messages"),d=n("./zlib/zstream"),f=Object.prototype.toString,g=0,u=-1,l=0,p=8;function h(v){if(!(this instanceof h))return new h(v);this.options=a.assign({level:u,method:p,chunkSize:16384,windowBits:15,memLevel:8,strategy:l,to:""},v||{});var y=this.options;y.raw&&0<y.windowBits?y.windowBits=-y.windowBits:y.gzip&&0<y.windowBits&&y.windowBits<16&&(y.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new d,this.strm.avail_out=0;var x=s.deflateInit2(this.strm,y.level,y.method,y.windowBits,y.memLevel,y.strategy);if(x!==g)throw new Error(c[x]);if(y.header&&s.deflateSetHeader(this.strm,y.header),y.dictionary){var E;if(E=typeof y.dictionary=="string"?o.string2buf(y.dictionary):f.call(y.dictionary)==="[object ArrayBuffer]"?new Uint8Array(y.dictionary):y.dictionary,(x=s.deflateSetDictionary(this.strm,E))!==g)throw new Error(c[x]);this._dict_set=!0}}function b(v,y){var x=new h(y);if(x.push(v,!0),x.err)throw x.msg||c[x.err];return x.result}h.prototype.push=function(v,y){var x,E,k=this.strm,I=this.options.chunkSize;if(this.ended)return!1;E=y===~~y?y:y===!0?4:0,typeof v=="string"?k.input=o.string2buf(v):f.call(v)==="[object ArrayBuffer]"?k.input=new Uint8Array(v):k.input=v,k.next_in=0,k.avail_in=k.input.length;do{if(k.avail_out===0&&(k.output=new a.Buf8(I),k.next_out=0,k.avail_out=I),(x=s.deflate(k,E))!==1&&x!==g)return this.onEnd(x),!(this.ended=!0);k.avail_out!==0&&(k.avail_in!==0||E!==4&&E!==2)||(this.options.to==="string"?this.onData(o.buf2binstring(a.shrinkBuf(k.output,k.next_out))):this.onData(a.shrinkBuf(k.output,k.next_out)))}while((0<k.avail_in||k.avail_out===0)&&x!==1);return E===4?(x=s.deflateEnd(this.strm),this.onEnd(x),this.ended=!0,x===g):E!==2||(this.onEnd(g),!(k.avail_out=0))},h.prototype.onData=function(v){this.chunks.push(v)},h.prototype.onEnd=function(v){v===g&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=v,this.msg=this.strm.msg},i.Deflate=h,i.deflate=b,i.deflateRaw=function(v,y){return(y=y||{}).raw=!0,b(v,y)},i.gzip=function(v,y){return(y=y||{}).gzip=!0,b(v,y)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(n,r,i){var s=n("./zlib/inflate"),a=n("./utils/common"),o=n("./utils/strings"),c=n("./zlib/constants"),d=n("./zlib/messages"),f=n("./zlib/zstream"),g=n("./zlib/gzheader"),u=Object.prototype.toString;function l(h){if(!(this instanceof l))return new l(h);this.options=a.assign({chunkSize:16384,windowBits:0,to:""},h||{});var b=this.options;b.raw&&0<=b.windowBits&&b.windowBits<16&&(b.windowBits=-b.windowBits,b.windowBits===0&&(b.windowBits=-15)),!(0<=b.windowBits&&b.windowBits<16)||h&&h.windowBits||(b.windowBits+=32),15<b.windowBits&&b.windowBits<48&&(15&b.windowBits)==0&&(b.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var v=s.inflateInit2(this.strm,b.windowBits);if(v!==c.Z_OK)throw new Error(d[v]);this.header=new g,s.inflateGetHeader(this.strm,this.header)}function p(h,b){var v=new l(b);if(v.push(h,!0),v.err)throw v.msg||d[v.err];return v.result}l.prototype.push=function(h,b){var v,y,x,E,k,I,O=this.strm,P=this.options.chunkSize,A=this.options.dictionary,M=!1;if(this.ended)return!1;y=b===~~b?b:b===!0?c.Z_FINISH:c.Z_NO_FLUSH,typeof h=="string"?O.input=o.binstring2buf(h):u.call(h)==="[object ArrayBuffer]"?O.input=new Uint8Array(h):O.input=h,O.next_in=0,O.avail_in=O.input.length;do{if(O.avail_out===0&&(O.output=new a.Buf8(P),O.next_out=0,O.avail_out=P),(v=s.inflate(O,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&A&&(I=typeof A=="string"?o.string2buf(A):u.call(A)==="[object ArrayBuffer]"?new Uint8Array(A):A,v=s.inflateSetDictionary(this.strm,I)),v===c.Z_BUF_ERROR&&M===!0&&(v=c.Z_OK,M=!1),v!==c.Z_STREAM_END&&v!==c.Z_OK)return this.onEnd(v),!(this.ended=!0);O.next_out&&(O.avail_out!==0&&v!==c.Z_STREAM_END&&(O.avail_in!==0||y!==c.Z_FINISH&&y!==c.Z_SYNC_FLUSH)||(this.options.to==="string"?(x=o.utf8border(O.output,O.next_out),E=O.next_out-x,k=o.buf2string(O.output,x),O.next_out=E,O.avail_out=P-E,E&&a.arraySet(O.output,O.output,x,E,0),this.onData(k)):this.onData(a.shrinkBuf(O.output,O.next_out)))),O.avail_in===0&&O.avail_out===0&&(M=!0)}while((0<O.avail_in||O.avail_out===0)&&v!==c.Z_STREAM_END);return v===c.Z_STREAM_END&&(y=c.Z_FINISH),y===c.Z_FINISH?(v=s.inflateEnd(this.strm),this.onEnd(v),this.ended=!0,v===c.Z_OK):y!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),!(O.avail_out=0))},l.prototype.onData=function(h){this.chunks.push(h)},l.prototype.onEnd=function(h){h===c.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=a.flattenChunks(this.chunks)),this.chunks=[],this.err=h,this.msg=this.strm.msg},i.Inflate=l,i.inflate=p,i.inflateRaw=function(h,b){return(b=b||{}).raw=!0,p(h,b)},i.ungzip=p},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(n,r,i){var s=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";i.assign=function(c){for(var d=Array.prototype.slice.call(arguments,1);d.length;){var f=d.shift();if(f){if(typeof f!="object")throw new TypeError(f+"must be non-object");for(var g in f)f.hasOwnProperty(g)&&(c[g]=f[g])}}return c},i.shrinkBuf=function(c,d){return c.length===d?c:c.subarray?c.subarray(0,d):(c.length=d,c)};var a={arraySet:function(c,d,f,g,u){if(d.subarray&&c.subarray)c.set(d.subarray(f,f+g),u);else for(var l=0;l<g;l++)c[u+l]=d[f+l]},flattenChunks:function(c){var d,f,g,u,l,p;for(d=g=0,f=c.length;d<f;d++)g+=c[d].length;for(p=new Uint8Array(g),d=u=0,f=c.length;d<f;d++)l=c[d],p.set(l,u),u+=l.length;return p}},o={arraySet:function(c,d,f,g,u){for(var l=0;l<g;l++)c[u+l]=d[f+l]},flattenChunks:function(c){return[].concat.apply([],c)}};i.setTyped=function(c){c?(i.Buf8=Uint8Array,i.Buf16=Uint16Array,i.Buf32=Int32Array,i.assign(i,a)):(i.Buf8=Array,i.Buf16=Array,i.Buf32=Array,i.assign(i,o))},i.setTyped(s)},{}],42:[function(n,r,i){var s=n("./common"),a=!0,o=!0;try{String.fromCharCode.apply(null,[0])}catch{a=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{o=!1}for(var c=new s.Buf8(256),d=0;d<256;d++)c[d]=252<=d?6:248<=d?5:240<=d?4:224<=d?3:192<=d?2:1;function f(g,u){if(u<65537&&(g.subarray&&o||!g.subarray&&a))return String.fromCharCode.apply(null,s.shrinkBuf(g,u));for(var l="",p=0;p<u;p++)l+=String.fromCharCode(g[p]);return l}c[254]=c[254]=1,i.string2buf=function(g){var u,l,p,h,b,v=g.length,y=0;for(h=0;h<v;h++)(64512&(l=g.charCodeAt(h)))==55296&&h+1<v&&(64512&(p=g.charCodeAt(h+1)))==56320&&(l=65536+(l-55296<<10)+(p-56320),h++),y+=l<128?1:l<2048?2:l<65536?3:4;for(u=new s.Buf8(y),h=b=0;b<y;h++)(64512&(l=g.charCodeAt(h)))==55296&&h+1<v&&(64512&(p=g.charCodeAt(h+1)))==56320&&(l=65536+(l-55296<<10)+(p-56320),h++),l<128?u[b++]=l:(l<2048?u[b++]=192|l>>>6:(l<65536?u[b++]=224|l>>>12:(u[b++]=240|l>>>18,u[b++]=128|l>>>12&63),u[b++]=128|l>>>6&63),u[b++]=128|63&l);return u},i.buf2binstring=function(g){return f(g,g.length)},i.binstring2buf=function(g){for(var u=new s.Buf8(g.length),l=0,p=u.length;l<p;l++)u[l]=g.charCodeAt(l);return u},i.buf2string=function(g,u){var l,p,h,b,v=u||g.length,y=new Array(2*v);for(l=p=0;l<v;)if((h=g[l++])<128)y[p++]=h;else if(4<(b=c[h]))y[p++]=65533,l+=b-1;else{for(h&=b===2?31:b===3?15:7;1<b&&l<v;)h=h<<6|63&g[l++],b--;1<b?y[p++]=65533:h<65536?y[p++]=h:(h-=65536,y[p++]=55296|h>>10&1023,y[p++]=56320|1023&h)}return f(y,p)},i.utf8border=function(g,u){var l;for((u=u||g.length)>g.length&&(u=g.length),l=u-1;0<=l&&(192&g[l])==128;)l--;return l<0||l===0?u:l+c[g[l]]>u?l:u}},{"./common":41}],43:[function(n,r,i){r.exports=function(s,a,o,c){for(var d=65535&s|0,f=s>>>16&65535|0,g=0;o!==0;){for(o-=g=2e3<o?2e3:o;f=f+(d=d+a[c++]|0)|0,--g;);d%=65521,f%=65521}return d|f<<16|0}},{}],44:[function(n,r,i){r.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(n,r,i){var s=function(){for(var a,o=[],c=0;c<256;c++){a=c;for(var d=0;d<8;d++)a=1&a?3988292384^a>>>1:a>>>1;o[c]=a}return o}();r.exports=function(a,o,c,d){var f=s,g=d+c;a^=-1;for(var u=d;u<g;u++)a=a>>>8^f[255&(a^o[u])];return-1^a}},{}],46:[function(n,r,i){var s,a=n("../utils/common"),o=n("./trees"),c=n("./adler32"),d=n("./crc32"),f=n("./messages"),g=0,u=4,l=0,p=-2,h=-1,b=4,v=2,y=8,x=9,E=286,k=30,I=19,O=2*E+1,P=15,A=3,M=258,F=M+A+1,C=42,R=113,m=1,N=2,V=3,U=4;function G(_,X){return _.msg=f[X],X}function $(_){return(_<<1)-(4<_?9:0)}function nt(_){for(var X=_.length;0<=--X;)_[X]=0}function L(_){var X=_.state,B=X.pending;B>_.avail_out&&(B=_.avail_out),B!==0&&(a.arraySet(_.output,X.pending_buf,X.pending_out,B,_.next_out),_.next_out+=B,X.pending_out+=B,_.total_out+=B,_.avail_out-=B,X.pending-=B,X.pending===0&&(X.pending_out=0))}function z(_,X){o._tr_flush_block(_,0<=_.block_start?_.block_start:-1,_.strstart-_.block_start,X),_.block_start=_.strstart,L(_.strm)}function st(_,X){_.pending_buf[_.pending++]=X}function at(_,X){_.pending_buf[_.pending++]=X>>>8&255,_.pending_buf[_.pending++]=255&X}function Z(_,X){var B,T,S=_.max_chain_length,D=_.strstart,K=_.prev_length,et=_.nice_match,H=_.strstart>_.w_size-F?_.strstart-(_.w_size-F):0,it=_.window,lt=_.w_mask,ot=_.prev,ft=_.strstart+M,Mt=it[D+K-1],It=it[D+K];_.prev_length>=_.good_match&&(S>>=2),et>_.lookahead&&(et=_.lookahead);do if(it[(B=X)+K]===It&&it[B+K-1]===Mt&&it[B]===it[D]&&it[++B]===it[D+1]){D+=2,B++;do;while(it[++D]===it[++B]&&it[++D]===it[++B]&&it[++D]===it[++B]&&it[++D]===it[++B]&&it[++D]===it[++B]&&it[++D]===it[++B]&&it[++D]===it[++B]&&it[++D]===it[++B]&&D<ft);if(T=M-(ft-D),D=ft-M,K<T){if(_.match_start=X,et<=(K=T))break;Mt=it[D+K-1],It=it[D+K]}}while((X=ot[X&lt])>H&&--S!=0);return K<=_.lookahead?K:_.lookahead}function xt(_){var X,B,T,S,D,K,et,H,it,lt,ot=_.w_size;do{if(S=_.window_size-_.lookahead-_.strstart,_.strstart>=ot+(ot-F)){for(a.arraySet(_.window,_.window,ot,ot,0),_.match_start-=ot,_.strstart-=ot,_.block_start-=ot,X=B=_.hash_size;T=_.head[--X],_.head[X]=ot<=T?T-ot:0,--B;);for(X=B=ot;T=_.prev[--X],_.prev[X]=ot<=T?T-ot:0,--B;);S+=ot}if(_.strm.avail_in===0)break;if(K=_.strm,et=_.window,H=_.strstart+_.lookahead,it=S,lt=void 0,lt=K.avail_in,it<lt&&(lt=it),B=lt===0?0:(K.avail_in-=lt,a.arraySet(et,K.input,K.next_in,lt,H),K.state.wrap===1?K.adler=c(K.adler,et,lt,H):K.state.wrap===2&&(K.adler=d(K.adler,et,lt,H)),K.next_in+=lt,K.total_in+=lt,lt),_.lookahead+=B,_.lookahead+_.insert>=A)for(D=_.strstart-_.insert,_.ins_h=_.window[D],_.ins_h=(_.ins_h<<_.hash_shift^_.window[D+1])&_.hash_mask;_.insert&&(_.ins_h=(_.ins_h<<_.hash_shift^_.window[D+A-1])&_.hash_mask,_.prev[D&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=D,D++,_.insert--,!(_.lookahead+_.insert<A)););}while(_.lookahead<F&&_.strm.avail_in!==0)}function St(_,X){for(var B,T;;){if(_.lookahead<F){if(xt(_),_.lookahead<F&&X===g)return m;if(_.lookahead===0)break}if(B=0,_.lookahead>=A&&(_.ins_h=(_.ins_h<<_.hash_shift^_.window[_.strstart+A-1])&_.hash_mask,B=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart),B!==0&&_.strstart-B<=_.w_size-F&&(_.match_length=Z(_,B)),_.match_length>=A)if(T=o._tr_tally(_,_.strstart-_.match_start,_.match_length-A),_.lookahead-=_.match_length,_.match_length<=_.max_lazy_match&&_.lookahead>=A){for(_.match_length--;_.strstart++,_.ins_h=(_.ins_h<<_.hash_shift^_.window[_.strstart+A-1])&_.hash_mask,B=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart,--_.match_length!=0;);_.strstart++}else _.strstart+=_.match_length,_.match_length=0,_.ins_h=_.window[_.strstart],_.ins_h=(_.ins_h<<_.hash_shift^_.window[_.strstart+1])&_.hash_mask;else T=o._tr_tally(_,0,_.window[_.strstart]),_.lookahead--,_.strstart++;if(T&&(z(_,!1),_.strm.avail_out===0))return m}return _.insert=_.strstart<A-1?_.strstart:A-1,X===u?(z(_,!0),_.strm.avail_out===0?V:U):_.last_lit&&(z(_,!1),_.strm.avail_out===0)?m:N}function vt(_,X){for(var B,T,S;;){if(_.lookahead<F){if(xt(_),_.lookahead<F&&X===g)return m;if(_.lookahead===0)break}if(B=0,_.lookahead>=A&&(_.ins_h=(_.ins_h<<_.hash_shift^_.window[_.strstart+A-1])&_.hash_mask,B=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart),_.prev_length=_.match_length,_.prev_match=_.match_start,_.match_length=A-1,B!==0&&_.prev_length<_.max_lazy_match&&_.strstart-B<=_.w_size-F&&(_.match_length=Z(_,B),_.match_length<=5&&(_.strategy===1||_.match_length===A&&4096<_.strstart-_.match_start)&&(_.match_length=A-1)),_.prev_length>=A&&_.match_length<=_.prev_length){for(S=_.strstart+_.lookahead-A,T=o._tr_tally(_,_.strstart-1-_.prev_match,_.prev_length-A),_.lookahead-=_.prev_length-1,_.prev_length-=2;++_.strstart<=S&&(_.ins_h=(_.ins_h<<_.hash_shift^_.window[_.strstart+A-1])&_.hash_mask,B=_.prev[_.strstart&_.w_mask]=_.head[_.ins_h],_.head[_.ins_h]=_.strstart),--_.prev_length!=0;);if(_.match_available=0,_.match_length=A-1,_.strstart++,T&&(z(_,!1),_.strm.avail_out===0))return m}else if(_.match_available){if((T=o._tr_tally(_,0,_.window[_.strstart-1]))&&z(_,!1),_.strstart++,_.lookahead--,_.strm.avail_out===0)return m}else _.match_available=1,_.strstart++,_.lookahead--}return _.match_available&&(T=o._tr_tally(_,0,_.window[_.strstart-1]),_.match_available=0),_.insert=_.strstart<A-1?_.strstart:A-1,X===u?(z(_,!0),_.strm.avail_out===0?V:U):_.last_lit&&(z(_,!1),_.strm.avail_out===0)?m:N}function kt(_,X,B,T,S){this.good_length=_,this.max_lazy=X,this.nice_length=B,this.max_chain=T,this.func=S}function bt(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=y,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new a.Buf16(2*O),this.dyn_dtree=new a.Buf16(2*(2*k+1)),this.bl_tree=new a.Buf16(2*(2*I+1)),nt(this.dyn_ltree),nt(this.dyn_dtree),nt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new a.Buf16(P+1),this.heap=new a.Buf16(2*E+1),nt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new a.Buf16(2*E+1),nt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Tt(_){var X;return _&&_.state?(_.total_in=_.total_out=0,_.data_type=v,(X=_.state).pending=0,X.pending_out=0,X.wrap<0&&(X.wrap=-X.wrap),X.status=X.wrap?C:R,_.adler=X.wrap===2?0:1,X.last_flush=g,o._tr_init(X),l):G(_,p)}function Ut(_){var X=Tt(_);return X===l&&function(B){B.window_size=2*B.w_size,nt(B.head),B.max_lazy_match=s[B.level].max_lazy,B.good_match=s[B.level].good_length,B.nice_match=s[B.level].nice_length,B.max_chain_length=s[B.level].max_chain,B.strstart=0,B.block_start=0,B.lookahead=0,B.insert=0,B.match_length=B.prev_length=A-1,B.match_available=0,B.ins_h=0}(_.state),X}function zt(_,X,B,T,S,D){if(!_)return p;var K=1;if(X===h&&(X=6),T<0?(K=0,T=-T):15<T&&(K=2,T-=16),S<1||x<S||B!==y||T<8||15<T||X<0||9<X||D<0||b<D)return G(_,p);T===8&&(T=9);var et=new bt;return(_.state=et).strm=_,et.wrap=K,et.gzhead=null,et.w_bits=T,et.w_size=1<<et.w_bits,et.w_mask=et.w_size-1,et.hash_bits=S+7,et.hash_size=1<<et.hash_bits,et.hash_mask=et.hash_size-1,et.hash_shift=~~((et.hash_bits+A-1)/A),et.window=new a.Buf8(2*et.w_size),et.head=new a.Buf16(et.hash_size),et.prev=new a.Buf16(et.w_size),et.lit_bufsize=1<<S+6,et.pending_buf_size=4*et.lit_bufsize,et.pending_buf=new a.Buf8(et.pending_buf_size),et.d_buf=1*et.lit_bufsize,et.l_buf=3*et.lit_bufsize,et.level=X,et.strategy=D,et.method=B,Ut(_)}s=[new kt(0,0,0,0,function(_,X){var B=65535;for(B>_.pending_buf_size-5&&(B=_.pending_buf_size-5);;){if(_.lookahead<=1){if(xt(_),_.lookahead===0&&X===g)return m;if(_.lookahead===0)break}_.strstart+=_.lookahead,_.lookahead=0;var T=_.block_start+B;if((_.strstart===0||_.strstart>=T)&&(_.lookahead=_.strstart-T,_.strstart=T,z(_,!1),_.strm.avail_out===0)||_.strstart-_.block_start>=_.w_size-F&&(z(_,!1),_.strm.avail_out===0))return m}return _.insert=0,X===u?(z(_,!0),_.strm.avail_out===0?V:U):(_.strstart>_.block_start&&(z(_,!1),_.strm.avail_out),m)}),new kt(4,4,8,4,St),new kt(4,5,16,8,St),new kt(4,6,32,32,St),new kt(4,4,16,16,vt),new kt(8,16,32,32,vt),new kt(8,16,128,128,vt),new kt(8,32,128,256,vt),new kt(32,128,258,1024,vt),new kt(32,258,258,4096,vt)],i.deflateInit=function(_,X){return zt(_,X,y,15,8,0)},i.deflateInit2=zt,i.deflateReset=Ut,i.deflateResetKeep=Tt,i.deflateSetHeader=function(_,X){return _&&_.state?_.state.wrap!==2?p:(_.state.gzhead=X,l):p},i.deflate=function(_,X){var B,T,S,D;if(!_||!_.state||5<X||X<0)return _?G(_,p):p;if(T=_.state,!_.output||!_.input&&_.avail_in!==0||T.status===666&&X!==u)return G(_,_.avail_out===0?-5:p);if(T.strm=_,B=T.last_flush,T.last_flush=X,T.status===C)if(T.wrap===2)_.adler=0,st(T,31),st(T,139),st(T,8),T.gzhead?(st(T,(T.gzhead.text?1:0)+(T.gzhead.hcrc?2:0)+(T.gzhead.extra?4:0)+(T.gzhead.name?8:0)+(T.gzhead.comment?16:0)),st(T,255&T.gzhead.time),st(T,T.gzhead.time>>8&255),st(T,T.gzhead.time>>16&255),st(T,T.gzhead.time>>24&255),st(T,T.level===9?2:2<=T.strategy||T.level<2?4:0),st(T,255&T.gzhead.os),T.gzhead.extra&&T.gzhead.extra.length&&(st(T,255&T.gzhead.extra.length),st(T,T.gzhead.extra.length>>8&255)),T.gzhead.hcrc&&(_.adler=d(_.adler,T.pending_buf,T.pending,0)),T.gzindex=0,T.status=69):(st(T,0),st(T,0),st(T,0),st(T,0),st(T,0),st(T,T.level===9?2:2<=T.strategy||T.level<2?4:0),st(T,3),T.status=R);else{var K=y+(T.w_bits-8<<4)<<8;K|=(2<=T.strategy||T.level<2?0:T.level<6?1:T.level===6?2:3)<<6,T.strstart!==0&&(K|=32),K+=31-K%31,T.status=R,at(T,K),T.strstart!==0&&(at(T,_.adler>>>16),at(T,65535&_.adler)),_.adler=1}if(T.status===69)if(T.gzhead.extra){for(S=T.pending;T.gzindex<(65535&T.gzhead.extra.length)&&(T.pending!==T.pending_buf_size||(T.gzhead.hcrc&&T.pending>S&&(_.adler=d(_.adler,T.pending_buf,T.pending-S,S)),L(_),S=T.pending,T.pending!==T.pending_buf_size));)st(T,255&T.gzhead.extra[T.gzindex]),T.gzindex++;T.gzhead.hcrc&&T.pending>S&&(_.adler=d(_.adler,T.pending_buf,T.pending-S,S)),T.gzindex===T.gzhead.extra.length&&(T.gzindex=0,T.status=73)}else T.status=73;if(T.status===73)if(T.gzhead.name){S=T.pending;do{if(T.pending===T.pending_buf_size&&(T.gzhead.hcrc&&T.pending>S&&(_.adler=d(_.adler,T.pending_buf,T.pending-S,S)),L(_),S=T.pending,T.pending===T.pending_buf_size)){D=1;break}D=T.gzindex<T.gzhead.name.length?255&T.gzhead.name.charCodeAt(T.gzindex++):0,st(T,D)}while(D!==0);T.gzhead.hcrc&&T.pending>S&&(_.adler=d(_.adler,T.pending_buf,T.pending-S,S)),D===0&&(T.gzindex=0,T.status=91)}else T.status=91;if(T.status===91)if(T.gzhead.comment){S=T.pending;do{if(T.pending===T.pending_buf_size&&(T.gzhead.hcrc&&T.pending>S&&(_.adler=d(_.adler,T.pending_buf,T.pending-S,S)),L(_),S=T.pending,T.pending===T.pending_buf_size)){D=1;break}D=T.gzindex<T.gzhead.comment.length?255&T.gzhead.comment.charCodeAt(T.gzindex++):0,st(T,D)}while(D!==0);T.gzhead.hcrc&&T.pending>S&&(_.adler=d(_.adler,T.pending_buf,T.pending-S,S)),D===0&&(T.status=103)}else T.status=103;if(T.status===103&&(T.gzhead.hcrc?(T.pending+2>T.pending_buf_size&&L(_),T.pending+2<=T.pending_buf_size&&(st(T,255&_.adler),st(T,_.adler>>8&255),_.adler=0,T.status=R)):T.status=R),T.pending!==0){if(L(_),_.avail_out===0)return T.last_flush=-1,l}else if(_.avail_in===0&&$(X)<=$(B)&&X!==u)return G(_,-5);if(T.status===666&&_.avail_in!==0)return G(_,-5);if(_.avail_in!==0||T.lookahead!==0||X!==g&&T.status!==666){var et=T.strategy===2?function(H,it){for(var lt;;){if(H.lookahead===0&&(xt(H),H.lookahead===0)){if(it===g)return m;break}if(H.match_length=0,lt=o._tr_tally(H,0,H.window[H.strstart]),H.lookahead--,H.strstart++,lt&&(z(H,!1),H.strm.avail_out===0))return m}return H.insert=0,it===u?(z(H,!0),H.strm.avail_out===0?V:U):H.last_lit&&(z(H,!1),H.strm.avail_out===0)?m:N}(T,X):T.strategy===3?function(H,it){for(var lt,ot,ft,Mt,It=H.window;;){if(H.lookahead<=M){if(xt(H),H.lookahead<=M&&it===g)return m;if(H.lookahead===0)break}if(H.match_length=0,H.lookahead>=A&&0<H.strstart&&(ot=It[ft=H.strstart-1])===It[++ft]&&ot===It[++ft]&&ot===It[++ft]){Mt=H.strstart+M;do;while(ot===It[++ft]&&ot===It[++ft]&&ot===It[++ft]&&ot===It[++ft]&&ot===It[++ft]&&ot===It[++ft]&&ot===It[++ft]&&ot===It[++ft]&&ft<Mt);H.match_length=M-(Mt-ft),H.match_length>H.lookahead&&(H.match_length=H.lookahead)}if(H.match_length>=A?(lt=o._tr_tally(H,1,H.match_length-A),H.lookahead-=H.match_length,H.strstart+=H.match_length,H.match_length=0):(lt=o._tr_tally(H,0,H.window[H.strstart]),H.lookahead--,H.strstart++),lt&&(z(H,!1),H.strm.avail_out===0))return m}return H.insert=0,it===u?(z(H,!0),H.strm.avail_out===0?V:U):H.last_lit&&(z(H,!1),H.strm.avail_out===0)?m:N}(T,X):s[T.level].func(T,X);if(et!==V&&et!==U||(T.status=666),et===m||et===V)return _.avail_out===0&&(T.last_flush=-1),l;if(et===N&&(X===1?o._tr_align(T):X!==5&&(o._tr_stored_block(T,0,0,!1),X===3&&(nt(T.head),T.lookahead===0&&(T.strstart=0,T.block_start=0,T.insert=0))),L(_),_.avail_out===0))return T.last_flush=-1,l}return X!==u?l:T.wrap<=0?1:(T.wrap===2?(st(T,255&_.adler),st(T,_.adler>>8&255),st(T,_.adler>>16&255),st(T,_.adler>>24&255),st(T,255&_.total_in),st(T,_.total_in>>8&255),st(T,_.total_in>>16&255),st(T,_.total_in>>24&255)):(at(T,_.adler>>>16),at(T,65535&_.adler)),L(_),0<T.wrap&&(T.wrap=-T.wrap),T.pending!==0?l:1)},i.deflateEnd=function(_){var X;return _&&_.state?(X=_.state.status)!==C&&X!==69&&X!==73&&X!==91&&X!==103&&X!==R&&X!==666?G(_,p):(_.state=null,X===R?G(_,-3):l):p},i.deflateSetDictionary=function(_,X){var B,T,S,D,K,et,H,it,lt=X.length;if(!_||!_.state||(D=(B=_.state).wrap)===2||D===1&&B.status!==C||B.lookahead)return p;for(D===1&&(_.adler=c(_.adler,X,lt,0)),B.wrap=0,lt>=B.w_size&&(D===0&&(nt(B.head),B.strstart=0,B.block_start=0,B.insert=0),it=new a.Buf8(B.w_size),a.arraySet(it,X,lt-B.w_size,B.w_size,0),X=it,lt=B.w_size),K=_.avail_in,et=_.next_in,H=_.input,_.avail_in=lt,_.next_in=0,_.input=X,xt(B);B.lookahead>=A;){for(T=B.strstart,S=B.lookahead-(A-1);B.ins_h=(B.ins_h<<B.hash_shift^B.window[T+A-1])&B.hash_mask,B.prev[T&B.w_mask]=B.head[B.ins_h],B.head[B.ins_h]=T,T++,--S;);B.strstart=T,B.lookahead=A-1,xt(B)}return B.strstart+=B.lookahead,B.block_start=B.strstart,B.insert=B.lookahead,B.lookahead=0,B.match_length=B.prev_length=A-1,B.match_available=0,_.next_in=et,_.input=H,_.avail_in=K,B.wrap=D,l},i.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(n,r,i){r.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(n,r,i){r.exports=function(s,a){var o,c,d,f,g,u,l,p,h,b,v,y,x,E,k,I,O,P,A,M,F,C,R,m,N;o=s.state,c=s.next_in,m=s.input,d=c+(s.avail_in-5),f=s.next_out,N=s.output,g=f-(a-s.avail_out),u=f+(s.avail_out-257),l=o.dmax,p=o.wsize,h=o.whave,b=o.wnext,v=o.window,y=o.hold,x=o.bits,E=o.lencode,k=o.distcode,I=(1<<o.lenbits)-1,O=(1<<o.distbits)-1;t:do{x<15&&(y+=m[c++]<<x,x+=8,y+=m[c++]<<x,x+=8),P=E[y&I];e:for(;;){if(y>>>=A=P>>>24,x-=A,(A=P>>>16&255)===0)N[f++]=65535&P;else{if(!(16&A)){if((64&A)==0){P=E[(65535&P)+(y&(1<<A)-1)];continue e}if(32&A){o.mode=12;break t}s.msg="invalid literal/length code",o.mode=30;break t}M=65535&P,(A&=15)&&(x<A&&(y+=m[c++]<<x,x+=8),M+=y&(1<<A)-1,y>>>=A,x-=A),x<15&&(y+=m[c++]<<x,x+=8,y+=m[c++]<<x,x+=8),P=k[y&O];n:for(;;){if(y>>>=A=P>>>24,x-=A,!(16&(A=P>>>16&255))){if((64&A)==0){P=k[(65535&P)+(y&(1<<A)-1)];continue n}s.msg="invalid distance code",o.mode=30;break t}if(F=65535&P,x<(A&=15)&&(y+=m[c++]<<x,(x+=8)<A&&(y+=m[c++]<<x,x+=8)),l<(F+=y&(1<<A)-1)){s.msg="invalid distance too far back",o.mode=30;break t}if(y>>>=A,x-=A,(A=f-g)<F){if(h<(A=F-A)&&o.sane){s.msg="invalid distance too far back",o.mode=30;break t}if(R=v,(C=0)===b){if(C+=p-A,A<M){for(M-=A;N[f++]=v[C++],--A;);C=f-F,R=N}}else if(b<A){if(C+=p+b-A,(A-=b)<M){for(M-=A;N[f++]=v[C++],--A;);if(C=0,b<M){for(M-=A=b;N[f++]=v[C++],--A;);C=f-F,R=N}}}else if(C+=b-A,A<M){for(M-=A;N[f++]=v[C++],--A;);C=f-F,R=N}for(;2<M;)N[f++]=R[C++],N[f++]=R[C++],N[f++]=R[C++],M-=3;M&&(N[f++]=R[C++],1<M&&(N[f++]=R[C++]))}else{for(C=f-F;N[f++]=N[C++],N[f++]=N[C++],N[f++]=N[C++],2<(M-=3););M&&(N[f++]=N[C++],1<M&&(N[f++]=N[C++]))}break}}break}}while(c<d&&f<u);c-=M=x>>3,y&=(1<<(x-=M<<3))-1,s.next_in=c,s.next_out=f,s.avail_in=c<d?d-c+5:5-(c-d),s.avail_out=f<u?u-f+257:257-(f-u),o.hold=y,o.bits=x}},{}],49:[function(n,r,i){var s=n("../utils/common"),a=n("./adler32"),o=n("./crc32"),c=n("./inffast"),d=n("./inftrees"),f=1,g=2,u=0,l=-2,p=1,h=852,b=592;function v(C){return(C>>>24&255)+(C>>>8&65280)+((65280&C)<<8)+((255&C)<<24)}function y(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new s.Buf16(320),this.work=new s.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function x(C){var R;return C&&C.state?(R=C.state,C.total_in=C.total_out=R.total=0,C.msg="",R.wrap&&(C.adler=1&R.wrap),R.mode=p,R.last=0,R.havedict=0,R.dmax=32768,R.head=null,R.hold=0,R.bits=0,R.lencode=R.lendyn=new s.Buf32(h),R.distcode=R.distdyn=new s.Buf32(b),R.sane=1,R.back=-1,u):l}function E(C){var R;return C&&C.state?((R=C.state).wsize=0,R.whave=0,R.wnext=0,x(C)):l}function k(C,R){var m,N;return C&&C.state?(N=C.state,R<0?(m=0,R=-R):(m=1+(R>>4),R<48&&(R&=15)),R&&(R<8||15<R)?l:(N.window!==null&&N.wbits!==R&&(N.window=null),N.wrap=m,N.wbits=R,E(C))):l}function I(C,R){var m,N;return C?(N=new y,(C.state=N).window=null,(m=k(C,R))!==u&&(C.state=null),m):l}var O,P,A=!0;function M(C){if(A){var R;for(O=new s.Buf32(512),P=new s.Buf32(32),R=0;R<144;)C.lens[R++]=8;for(;R<256;)C.lens[R++]=9;for(;R<280;)C.lens[R++]=7;for(;R<288;)C.lens[R++]=8;for(d(f,C.lens,0,288,O,0,C.work,{bits:9}),R=0;R<32;)C.lens[R++]=5;d(g,C.lens,0,32,P,0,C.work,{bits:5}),A=!1}C.lencode=O,C.lenbits=9,C.distcode=P,C.distbits=5}function F(C,R,m,N){var V,U=C.state;return U.window===null&&(U.wsize=1<<U.wbits,U.wnext=0,U.whave=0,U.window=new s.Buf8(U.wsize)),N>=U.wsize?(s.arraySet(U.window,R,m-U.wsize,U.wsize,0),U.wnext=0,U.whave=U.wsize):(N<(V=U.wsize-U.wnext)&&(V=N),s.arraySet(U.window,R,m-N,V,U.wnext),(N-=V)?(s.arraySet(U.window,R,m-N,N,0),U.wnext=N,U.whave=U.wsize):(U.wnext+=V,U.wnext===U.wsize&&(U.wnext=0),U.whave<U.wsize&&(U.whave+=V))),0}i.inflateReset=E,i.inflateReset2=k,i.inflateResetKeep=x,i.inflateInit=function(C){return I(C,15)},i.inflateInit2=I,i.inflate=function(C,R){var m,N,V,U,G,$,nt,L,z,st,at,Z,xt,St,vt,kt,bt,Tt,Ut,zt,_,X,B,T,S=0,D=new s.Buf8(4),K=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!C||!C.state||!C.output||!C.input&&C.avail_in!==0)return l;(m=C.state).mode===12&&(m.mode=13),G=C.next_out,V=C.output,nt=C.avail_out,U=C.next_in,N=C.input,$=C.avail_in,L=m.hold,z=m.bits,st=$,at=nt,X=u;t:for(;;)switch(m.mode){case p:if(m.wrap===0){m.mode=13;break}for(;z<16;){if($===0)break t;$--,L+=N[U++]<<z,z+=8}if(2&m.wrap&&L===35615){D[m.check=0]=255&L,D[1]=L>>>8&255,m.check=o(m.check,D,2,0),z=L=0,m.mode=2;break}if(m.flags=0,m.head&&(m.head.done=!1),!(1&m.wrap)||(((255&L)<<8)+(L>>8))%31){C.msg="incorrect header check",m.mode=30;break}if((15&L)!=8){C.msg="unknown compression method",m.mode=30;break}if(z-=4,_=8+(15&(L>>>=4)),m.wbits===0)m.wbits=_;else if(_>m.wbits){C.msg="invalid window size",m.mode=30;break}m.dmax=1<<_,C.adler=m.check=1,m.mode=512&L?10:12,z=L=0;break;case 2:for(;z<16;){if($===0)break t;$--,L+=N[U++]<<z,z+=8}if(m.flags=L,(255&m.flags)!=8){C.msg="unknown compression method",m.mode=30;break}if(57344&m.flags){C.msg="unknown header flags set",m.mode=30;break}m.head&&(m.head.text=L>>8&1),512&m.flags&&(D[0]=255&L,D[1]=L>>>8&255,m.check=o(m.check,D,2,0)),z=L=0,m.mode=3;case 3:for(;z<32;){if($===0)break t;$--,L+=N[U++]<<z,z+=8}m.head&&(m.head.time=L),512&m.flags&&(D[0]=255&L,D[1]=L>>>8&255,D[2]=L>>>16&255,D[3]=L>>>24&255,m.check=o(m.check,D,4,0)),z=L=0,m.mode=4;case 4:for(;z<16;){if($===0)break t;$--,L+=N[U++]<<z,z+=8}m.head&&(m.head.xflags=255&L,m.head.os=L>>8),512&m.flags&&(D[0]=255&L,D[1]=L>>>8&255,m.check=o(m.check,D,2,0)),z=L=0,m.mode=5;case 5:if(1024&m.flags){for(;z<16;){if($===0)break t;$--,L+=N[U++]<<z,z+=8}m.length=L,m.head&&(m.head.extra_len=L),512&m.flags&&(D[0]=255&L,D[1]=L>>>8&255,m.check=o(m.check,D,2,0)),z=L=0}else m.head&&(m.head.extra=null);m.mode=6;case 6:if(1024&m.flags&&($<(Z=m.length)&&(Z=$),Z&&(m.head&&(_=m.head.extra_len-m.length,m.head.extra||(m.head.extra=new Array(m.head.extra_len)),s.arraySet(m.head.extra,N,U,Z,_)),512&m.flags&&(m.check=o(m.check,N,Z,U)),$-=Z,U+=Z,m.length-=Z),m.length))break t;m.length=0,m.mode=7;case 7:if(2048&m.flags){if($===0)break t;for(Z=0;_=N[U+Z++],m.head&&_&&m.length<65536&&(m.head.name+=String.fromCharCode(_)),_&&Z<$;);if(512&m.flags&&(m.check=o(m.check,N,Z,U)),$-=Z,U+=Z,_)break t}else m.head&&(m.head.name=null);m.length=0,m.mode=8;case 8:if(4096&m.flags){if($===0)break t;for(Z=0;_=N[U+Z++],m.head&&_&&m.length<65536&&(m.head.comment+=String.fromCharCode(_)),_&&Z<$;);if(512&m.flags&&(m.check=o(m.check,N,Z,U)),$-=Z,U+=Z,_)break t}else m.head&&(m.head.comment=null);m.mode=9;case 9:if(512&m.flags){for(;z<16;){if($===0)break t;$--,L+=N[U++]<<z,z+=8}if(L!==(65535&m.check)){C.msg="header crc mismatch",m.mode=30;break}z=L=0}m.head&&(m.head.hcrc=m.flags>>9&1,m.head.done=!0),C.adler=m.check=0,m.mode=12;break;case 10:for(;z<32;){if($===0)break t;$--,L+=N[U++]<<z,z+=8}C.adler=m.check=v(L),z=L=0,m.mode=11;case 11:if(m.havedict===0)return C.next_out=G,C.avail_out=nt,C.next_in=U,C.avail_in=$,m.hold=L,m.bits=z,2;C.adler=m.check=1,m.mode=12;case 12:if(R===5||R===6)break t;case 13:if(m.last){L>>>=7&z,z-=7&z,m.mode=27;break}for(;z<3;){if($===0)break t;$--,L+=N[U++]<<z,z+=8}switch(m.last=1&L,z-=1,3&(L>>>=1)){case 0:m.mode=14;break;case 1:if(M(m),m.mode=20,R!==6)break;L>>>=2,z-=2;break t;case 2:m.mode=17;break;case 3:C.msg="invalid block type",m.mode=30}L>>>=2,z-=2;break;case 14:for(L>>>=7&z,z-=7&z;z<32;){if($===0)break t;$--,L+=N[U++]<<z,z+=8}if((65535&L)!=(L>>>16^65535)){C.msg="invalid stored block lengths",m.mode=30;break}if(m.length=65535&L,z=L=0,m.mode=15,R===6)break t;case 15:m.mode=16;case 16:if(Z=m.length){if($<Z&&(Z=$),nt<Z&&(Z=nt),Z===0)break t;s.arraySet(V,N,U,Z,G),$-=Z,U+=Z,nt-=Z,G+=Z,m.length-=Z;break}m.mode=12;break;case 17:for(;z<14;){if($===0)break t;$--,L+=N[U++]<<z,z+=8}if(m.nlen=257+(31&L),L>>>=5,z-=5,m.ndist=1+(31&L),L>>>=5,z-=5,m.ncode=4+(15&L),L>>>=4,z-=4,286<m.nlen||30<m.ndist){C.msg="too many length or distance symbols",m.mode=30;break}m.have=0,m.mode=18;case 18:for(;m.have<m.ncode;){for(;z<3;){if($===0)break t;$--,L+=N[U++]<<z,z+=8}m.lens[K[m.have++]]=7&L,L>>>=3,z-=3}for(;m.have<19;)m.lens[K[m.have++]]=0;if(m.lencode=m.lendyn,m.lenbits=7,B={bits:m.lenbits},X=d(0,m.lens,0,19,m.lencode,0,m.work,B),m.lenbits=B.bits,X){C.msg="invalid code lengths set",m.mode=30;break}m.have=0,m.mode=19;case 19:for(;m.have<m.nlen+m.ndist;){for(;kt=(S=m.lencode[L&(1<<m.lenbits)-1])>>>16&255,bt=65535&S,!((vt=S>>>24)<=z);){if($===0)break t;$--,L+=N[U++]<<z,z+=8}if(bt<16)L>>>=vt,z-=vt,m.lens[m.have++]=bt;else{if(bt===16){for(T=vt+2;z<T;){if($===0)break t;$--,L+=N[U++]<<z,z+=8}if(L>>>=vt,z-=vt,m.have===0){C.msg="invalid bit length repeat",m.mode=30;break}_=m.lens[m.have-1],Z=3+(3&L),L>>>=2,z-=2}else if(bt===17){for(T=vt+3;z<T;){if($===0)break t;$--,L+=N[U++]<<z,z+=8}z-=vt,_=0,Z=3+(7&(L>>>=vt)),L>>>=3,z-=3}else{for(T=vt+7;z<T;){if($===0)break t;$--,L+=N[U++]<<z,z+=8}z-=vt,_=0,Z=11+(127&(L>>>=vt)),L>>>=7,z-=7}if(m.have+Z>m.nlen+m.ndist){C.msg="invalid bit length repeat",m.mode=30;break}for(;Z--;)m.lens[m.have++]=_}}if(m.mode===30)break;if(m.lens[256]===0){C.msg="invalid code -- missing end-of-block",m.mode=30;break}if(m.lenbits=9,B={bits:m.lenbits},X=d(f,m.lens,0,m.nlen,m.lencode,0,m.work,B),m.lenbits=B.bits,X){C.msg="invalid literal/lengths set",m.mode=30;break}if(m.distbits=6,m.distcode=m.distdyn,B={bits:m.distbits},X=d(g,m.lens,m.nlen,m.ndist,m.distcode,0,m.work,B),m.distbits=B.bits,X){C.msg="invalid distances set",m.mode=30;break}if(m.mode=20,R===6)break t;case 20:m.mode=21;case 21:if(6<=$&&258<=nt){C.next_out=G,C.avail_out=nt,C.next_in=U,C.avail_in=$,m.hold=L,m.bits=z,c(C,at),G=C.next_out,V=C.output,nt=C.avail_out,U=C.next_in,N=C.input,$=C.avail_in,L=m.hold,z=m.bits,m.mode===12&&(m.back=-1);break}for(m.back=0;kt=(S=m.lencode[L&(1<<m.lenbits)-1])>>>16&255,bt=65535&S,!((vt=S>>>24)<=z);){if($===0)break t;$--,L+=N[U++]<<z,z+=8}if(kt&&(240&kt)==0){for(Tt=vt,Ut=kt,zt=bt;kt=(S=m.lencode[zt+((L&(1<<Tt+Ut)-1)>>Tt)])>>>16&255,bt=65535&S,!(Tt+(vt=S>>>24)<=z);){if($===0)break t;$--,L+=N[U++]<<z,z+=8}L>>>=Tt,z-=Tt,m.back+=Tt}if(L>>>=vt,z-=vt,m.back+=vt,m.length=bt,kt===0){m.mode=26;break}if(32&kt){m.back=-1,m.mode=12;break}if(64&kt){C.msg="invalid literal/length code",m.mode=30;break}m.extra=15&kt,m.mode=22;case 22:if(m.extra){for(T=m.extra;z<T;){if($===0)break t;$--,L+=N[U++]<<z,z+=8}m.length+=L&(1<<m.extra)-1,L>>>=m.extra,z-=m.extra,m.back+=m.extra}m.was=m.length,m.mode=23;case 23:for(;kt=(S=m.distcode[L&(1<<m.distbits)-1])>>>16&255,bt=65535&S,!((vt=S>>>24)<=z);){if($===0)break t;$--,L+=N[U++]<<z,z+=8}if((240&kt)==0){for(Tt=vt,Ut=kt,zt=bt;kt=(S=m.distcode[zt+((L&(1<<Tt+Ut)-1)>>Tt)])>>>16&255,bt=65535&S,!(Tt+(vt=S>>>24)<=z);){if($===0)break t;$--,L+=N[U++]<<z,z+=8}L>>>=Tt,z-=Tt,m.back+=Tt}if(L>>>=vt,z-=vt,m.back+=vt,64&kt){C.msg="invalid distance code",m.mode=30;break}m.offset=bt,m.extra=15&kt,m.mode=24;case 24:if(m.extra){for(T=m.extra;z<T;){if($===0)break t;$--,L+=N[U++]<<z,z+=8}m.offset+=L&(1<<m.extra)-1,L>>>=m.extra,z-=m.extra,m.back+=m.extra}if(m.offset>m.dmax){C.msg="invalid distance too far back",m.mode=30;break}m.mode=25;case 25:if(nt===0)break t;if(Z=at-nt,m.offset>Z){if((Z=m.offset-Z)>m.whave&&m.sane){C.msg="invalid distance too far back",m.mode=30;break}xt=Z>m.wnext?(Z-=m.wnext,m.wsize-Z):m.wnext-Z,Z>m.length&&(Z=m.length),St=m.window}else St=V,xt=G-m.offset,Z=m.length;for(nt<Z&&(Z=nt),nt-=Z,m.length-=Z;V[G++]=St[xt++],--Z;);m.length===0&&(m.mode=21);break;case 26:if(nt===0)break t;V[G++]=m.length,nt--,m.mode=21;break;case 27:if(m.wrap){for(;z<32;){if($===0)break t;$--,L|=N[U++]<<z,z+=8}if(at-=nt,C.total_out+=at,m.total+=at,at&&(C.adler=m.check=m.flags?o(m.check,V,at,G-at):a(m.check,V,at,G-at)),at=nt,(m.flags?L:v(L))!==m.check){C.msg="incorrect data check",m.mode=30;break}z=L=0}m.mode=28;case 28:if(m.wrap&&m.flags){for(;z<32;){if($===0)break t;$--,L+=N[U++]<<z,z+=8}if(L!==(4294967295&m.total)){C.msg="incorrect length check",m.mode=30;break}z=L=0}m.mode=29;case 29:X=1;break t;case 30:X=-3;break t;case 31:return-4;case 32:default:return l}return C.next_out=G,C.avail_out=nt,C.next_in=U,C.avail_in=$,m.hold=L,m.bits=z,(m.wsize||at!==C.avail_out&&m.mode<30&&(m.mode<27||R!==4))&&F(C,C.output,C.next_out,at-C.avail_out)?(m.mode=31,-4):(st-=C.avail_in,at-=C.avail_out,C.total_in+=st,C.total_out+=at,m.total+=at,m.wrap&&at&&(C.adler=m.check=m.flags?o(m.check,V,at,C.next_out-at):a(m.check,V,at,C.next_out-at)),C.data_type=m.bits+(m.last?64:0)+(m.mode===12?128:0)+(m.mode===20||m.mode===15?256:0),(st==0&&at===0||R===4)&&X===u&&(X=-5),X)},i.inflateEnd=function(C){if(!C||!C.state)return l;var R=C.state;return R.window&&(R.window=null),C.state=null,u},i.inflateGetHeader=function(C,R){var m;return C&&C.state?(2&(m=C.state).wrap)==0?l:((m.head=R).done=!1,u):l},i.inflateSetDictionary=function(C,R){var m,N=R.length;return C&&C.state?(m=C.state).wrap!==0&&m.mode!==11?l:m.mode===11&&a(1,R,N,0)!==m.check?-3:F(C,R,N,N)?(m.mode=31,-4):(m.havedict=1,u):l},i.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(n,r,i){var s=n("../utils/common"),a=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],o=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],c=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],d=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];r.exports=function(f,g,u,l,p,h,b,v){var y,x,E,k,I,O,P,A,M,F=v.bits,C=0,R=0,m=0,N=0,V=0,U=0,G=0,$=0,nt=0,L=0,z=null,st=0,at=new s.Buf16(16),Z=new s.Buf16(16),xt=null,St=0;for(C=0;C<=15;C++)at[C]=0;for(R=0;R<l;R++)at[g[u+R]]++;for(V=F,N=15;1<=N&&at[N]===0;N--);if(N<V&&(V=N),N===0)return p[h++]=20971520,p[h++]=20971520,v.bits=1,0;for(m=1;m<N&&at[m]===0;m++);for(V<m&&(V=m),C=$=1;C<=15;C++)if($<<=1,($-=at[C])<0)return-1;if(0<$&&(f===0||N!==1))return-1;for(Z[1]=0,C=1;C<15;C++)Z[C+1]=Z[C]+at[C];for(R=0;R<l;R++)g[u+R]!==0&&(b[Z[g[u+R]]++]=R);if(O=f===0?(z=xt=b,19):f===1?(z=a,st-=257,xt=o,St-=257,256):(z=c,xt=d,-1),C=m,I=h,G=R=L=0,E=-1,k=(nt=1<<(U=V))-1,f===1&&852<nt||f===2&&592<nt)return 1;for(;;){for(P=C-G,M=b[R]<O?(A=0,b[R]):b[R]>O?(A=xt[St+b[R]],z[st+b[R]]):(A=96,0),y=1<<C-G,m=x=1<<U;p[I+(L>>G)+(x-=y)]=P<<24|A<<16|M|0,x!==0;);for(y=1<<C-1;L&y;)y>>=1;if(y!==0?(L&=y-1,L+=y):L=0,R++,--at[C]==0){if(C===N)break;C=g[u+b[R]]}if(V<C&&(L&k)!==E){for(G===0&&(G=V),I+=m,$=1<<(U=C-G);U+G<N&&!(($-=at[U+G])<=0);)U++,$<<=1;if(nt+=1<<U,f===1&&852<nt||f===2&&592<nt)return 1;p[E=L&k]=V<<24|U<<16|I-h|0}}return L!==0&&(p[I+L]=C-G<<24|64<<16|0),v.bits=V,0}},{"../utils/common":41}],51:[function(n,r,i){r.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(n,r,i){var s=n("../utils/common"),a=0,o=1;function c(S){for(var D=S.length;0<=--D;)S[D]=0}var d=0,f=29,g=256,u=g+1+f,l=30,p=19,h=2*u+1,b=15,v=16,y=7,x=256,E=16,k=17,I=18,O=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],P=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],A=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],F=new Array(2*(u+2));c(F);var C=new Array(2*l);c(C);var R=new Array(512);c(R);var m=new Array(256);c(m);var N=new Array(f);c(N);var V,U,G,$=new Array(l);function nt(S,D,K,et,H){this.static_tree=S,this.extra_bits=D,this.extra_base=K,this.elems=et,this.max_length=H,this.has_stree=S&&S.length}function L(S,D){this.dyn_tree=S,this.max_code=0,this.stat_desc=D}function z(S){return S<256?R[S]:R[256+(S>>>7)]}function st(S,D){S.pending_buf[S.pending++]=255&D,S.pending_buf[S.pending++]=D>>>8&255}function at(S,D,K){S.bi_valid>v-K?(S.bi_buf|=D<<S.bi_valid&65535,st(S,S.bi_buf),S.bi_buf=D>>v-S.bi_valid,S.bi_valid+=K-v):(S.bi_buf|=D<<S.bi_valid&65535,S.bi_valid+=K)}function Z(S,D,K){at(S,K[2*D],K[2*D+1])}function xt(S,D){for(var K=0;K|=1&S,S>>>=1,K<<=1,0<--D;);return K>>>1}function St(S,D,K){var et,H,it=new Array(b+1),lt=0;for(et=1;et<=b;et++)it[et]=lt=lt+K[et-1]<<1;for(H=0;H<=D;H++){var ot=S[2*H+1];ot!==0&&(S[2*H]=xt(it[ot]++,ot))}}function vt(S){var D;for(D=0;D<u;D++)S.dyn_ltree[2*D]=0;for(D=0;D<l;D++)S.dyn_dtree[2*D]=0;for(D=0;D<p;D++)S.bl_tree[2*D]=0;S.dyn_ltree[2*x]=1,S.opt_len=S.static_len=0,S.last_lit=S.matches=0}function kt(S){8<S.bi_valid?st(S,S.bi_buf):0<S.bi_valid&&(S.pending_buf[S.pending++]=S.bi_buf),S.bi_buf=0,S.bi_valid=0}function bt(S,D,K,et){var H=2*D,it=2*K;return S[H]<S[it]||S[H]===S[it]&&et[D]<=et[K]}function Tt(S,D,K){for(var et=S.heap[K],H=K<<1;H<=S.heap_len&&(H<S.heap_len&&bt(D,S.heap[H+1],S.heap[H],S.depth)&&H++,!bt(D,et,S.heap[H],S.depth));)S.heap[K]=S.heap[H],K=H,H<<=1;S.heap[K]=et}function Ut(S,D,K){var et,H,it,lt,ot=0;if(S.last_lit!==0)for(;et=S.pending_buf[S.d_buf+2*ot]<<8|S.pending_buf[S.d_buf+2*ot+1],H=S.pending_buf[S.l_buf+ot],ot++,et===0?Z(S,H,D):(Z(S,(it=m[H])+g+1,D),(lt=O[it])!==0&&at(S,H-=N[it],lt),Z(S,it=z(--et),K),(lt=P[it])!==0&&at(S,et-=$[it],lt)),ot<S.last_lit;);Z(S,x,D)}function zt(S,D){var K,et,H,it=D.dyn_tree,lt=D.stat_desc.static_tree,ot=D.stat_desc.has_stree,ft=D.stat_desc.elems,Mt=-1;for(S.heap_len=0,S.heap_max=h,K=0;K<ft;K++)it[2*K]!==0?(S.heap[++S.heap_len]=Mt=K,S.depth[K]=0):it[2*K+1]=0;for(;S.heap_len<2;)it[2*(H=S.heap[++S.heap_len]=Mt<2?++Mt:0)]=1,S.depth[H]=0,S.opt_len--,ot&&(S.static_len-=lt[2*H+1]);for(D.max_code=Mt,K=S.heap_len>>1;1<=K;K--)Tt(S,it,K);for(H=ft;K=S.heap[1],S.heap[1]=S.heap[S.heap_len--],Tt(S,it,1),et=S.heap[1],S.heap[--S.heap_max]=K,S.heap[--S.heap_max]=et,it[2*H]=it[2*K]+it[2*et],S.depth[H]=(S.depth[K]>=S.depth[et]?S.depth[K]:S.depth[et])+1,it[2*K+1]=it[2*et+1]=H,S.heap[1]=H++,Tt(S,it,1),2<=S.heap_len;);S.heap[--S.heap_max]=S.heap[1],function(It,Jt){var Ie,ae,Ne,jt,Fe,tn,ve=Jt.dyn_tree,On=Jt.max_code,Xn=Jt.stat_desc.static_tree,Yn=Jt.stat_desc.has_stree,wr=Jt.stat_desc.extra_bits,Nt=Jt.stat_desc.extra_base,Kt=Jt.stat_desc.max_length,te=0;for(jt=0;jt<=b;jt++)It.bl_count[jt]=0;for(ve[2*It.heap[It.heap_max]+1]=0,Ie=It.heap_max+1;Ie<h;Ie++)Kt<(jt=ve[2*ve[2*(ae=It.heap[Ie])+1]+1]+1)&&(jt=Kt,te++),ve[2*ae+1]=jt,On<ae||(It.bl_count[jt]++,Fe=0,Nt<=ae&&(Fe=wr[ae-Nt]),tn=ve[2*ae],It.opt_len+=tn*(jt+Fe),Yn&&(It.static_len+=tn*(Xn[2*ae+1]+Fe)));if(te!==0){do{for(jt=Kt-1;It.bl_count[jt]===0;)jt--;It.bl_count[jt]--,It.bl_count[jt+1]+=2,It.bl_count[Kt]--,te-=2}while(0<te);for(jt=Kt;jt!==0;jt--)for(ae=It.bl_count[jt];ae!==0;)On<(Ne=It.heap[--Ie])||(ve[2*Ne+1]!==jt&&(It.opt_len+=(jt-ve[2*Ne+1])*ve[2*Ne],ve[2*Ne+1]=jt),ae--)}}(S,D),St(it,Mt,S.bl_count)}function _(S,D,K){var et,H,it=-1,lt=D[1],ot=0,ft=7,Mt=4;for(lt===0&&(ft=138,Mt=3),D[2*(K+1)+1]=65535,et=0;et<=K;et++)H=lt,lt=D[2*(et+1)+1],++ot<ft&&H===lt||(ot<Mt?S.bl_tree[2*H]+=ot:H!==0?(H!==it&&S.bl_tree[2*H]++,S.bl_tree[2*E]++):ot<=10?S.bl_tree[2*k]++:S.bl_tree[2*I]++,it=H,Mt=(ot=0)===lt?(ft=138,3):H===lt?(ft=6,3):(ft=7,4))}function X(S,D,K){var et,H,it=-1,lt=D[1],ot=0,ft=7,Mt=4;for(lt===0&&(ft=138,Mt=3),et=0;et<=K;et++)if(H=lt,lt=D[2*(et+1)+1],!(++ot<ft&&H===lt)){if(ot<Mt)for(;Z(S,H,S.bl_tree),--ot!=0;);else H!==0?(H!==it&&(Z(S,H,S.bl_tree),ot--),Z(S,E,S.bl_tree),at(S,ot-3,2)):ot<=10?(Z(S,k,S.bl_tree),at(S,ot-3,3)):(Z(S,I,S.bl_tree),at(S,ot-11,7));it=H,Mt=(ot=0)===lt?(ft=138,3):H===lt?(ft=6,3):(ft=7,4)}}c($);var B=!1;function T(S,D,K,et){at(S,(d<<1)+(et?1:0),3),function(H,it,lt,ot){kt(H),st(H,lt),st(H,~lt),s.arraySet(H.pending_buf,H.window,it,lt,H.pending),H.pending+=lt}(S,D,K)}i._tr_init=function(S){B||(function(){var D,K,et,H,it,lt=new Array(b+1);for(H=et=0;H<f-1;H++)for(N[H]=et,D=0;D<1<<O[H];D++)m[et++]=H;for(m[et-1]=H,H=it=0;H<16;H++)for($[H]=it,D=0;D<1<<P[H];D++)R[it++]=H;for(it>>=7;H<l;H++)for($[H]=it<<7,D=0;D<1<<P[H]-7;D++)R[256+it++]=H;for(K=0;K<=b;K++)lt[K]=0;for(D=0;D<=143;)F[2*D+1]=8,D++,lt[8]++;for(;D<=255;)F[2*D+1]=9,D++,lt[9]++;for(;D<=279;)F[2*D+1]=7,D++,lt[7]++;for(;D<=287;)F[2*D+1]=8,D++,lt[8]++;for(St(F,u+1,lt),D=0;D<l;D++)C[2*D+1]=5,C[2*D]=xt(D,5);V=new nt(F,O,g+1,u,b),U=new nt(C,P,0,l,b),G=new nt(new Array(0),A,0,p,y)}(),B=!0),S.l_desc=new L(S.dyn_ltree,V),S.d_desc=new L(S.dyn_dtree,U),S.bl_desc=new L(S.bl_tree,G),S.bi_buf=0,S.bi_valid=0,vt(S)},i._tr_stored_block=T,i._tr_flush_block=function(S,D,K,et){var H,it,lt=0;0<S.level?(S.strm.data_type===2&&(S.strm.data_type=function(ot){var ft,Mt=4093624447;for(ft=0;ft<=31;ft++,Mt>>>=1)if(1&Mt&&ot.dyn_ltree[2*ft]!==0)return a;if(ot.dyn_ltree[18]!==0||ot.dyn_ltree[20]!==0||ot.dyn_ltree[26]!==0)return o;for(ft=32;ft<g;ft++)if(ot.dyn_ltree[2*ft]!==0)return o;return a}(S)),zt(S,S.l_desc),zt(S,S.d_desc),lt=function(ot){var ft;for(_(ot,ot.dyn_ltree,ot.l_desc.max_code),_(ot,ot.dyn_dtree,ot.d_desc.max_code),zt(ot,ot.bl_desc),ft=p-1;3<=ft&&ot.bl_tree[2*M[ft]+1]===0;ft--);return ot.opt_len+=3*(ft+1)+5+5+4,ft}(S),H=S.opt_len+3+7>>>3,(it=S.static_len+3+7>>>3)<=H&&(H=it)):H=it=K+5,K+4<=H&&D!==-1?T(S,D,K,et):S.strategy===4||it===H?(at(S,2+(et?1:0),3),Ut(S,F,C)):(at(S,4+(et?1:0),3),function(ot,ft,Mt,It){var Jt;for(at(ot,ft-257,5),at(ot,Mt-1,5),at(ot,It-4,4),Jt=0;Jt<It;Jt++)at(ot,ot.bl_tree[2*M[Jt]+1],3);X(ot,ot.dyn_ltree,ft-1),X(ot,ot.dyn_dtree,Mt-1)}(S,S.l_desc.max_code+1,S.d_desc.max_code+1,lt+1),Ut(S,S.dyn_ltree,S.dyn_dtree)),vt(S),et&&kt(S)},i._tr_tally=function(S,D,K){return S.pending_buf[S.d_buf+2*S.last_lit]=D>>>8&255,S.pending_buf[S.d_buf+2*S.last_lit+1]=255&D,S.pending_buf[S.l_buf+S.last_lit]=255&K,S.last_lit++,D===0?S.dyn_ltree[2*K]++:(S.matches++,D--,S.dyn_ltree[2*(m[K]+g+1)]++,S.dyn_dtree[2*z(D)]++),S.last_lit===S.lit_bufsize-1},i._tr_align=function(S){at(S,2,3),Z(S,x,F),function(D){D.bi_valid===16?(st(D,D.bi_buf),D.bi_buf=0,D.bi_valid=0):8<=D.bi_valid&&(D.pending_buf[D.pending++]=255&D.bi_buf,D.bi_buf>>=8,D.bi_valid-=8)}(S)}},{"../utils/common":41}],53:[function(n,r,i){r.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(n,r,i){(function(s){(function(a,o){if(!a.setImmediate){var c,d,f,g,u=1,l={},p=!1,h=a.document,b=Object.getPrototypeOf&&Object.getPrototypeOf(a);b=b&&b.setTimeout?b:a,c={}.toString.call(a.process)==="[object process]"?function(E){process.nextTick(function(){y(E)})}:function(){if(a.postMessage&&!a.importScripts){var E=!0,k=a.onmessage;return a.onmessage=function(){E=!1},a.postMessage("","*"),a.onmessage=k,E}}()?(g="setImmediate$"+Math.random()+"$",a.addEventListener?a.addEventListener("message",x,!1):a.attachEvent("onmessage",x),function(E){a.postMessage(g+E,"*")}):a.MessageChannel?((f=new MessageChannel).port1.onmessage=function(E){y(E.data)},function(E){f.port2.postMessage(E)}):h&&"onreadystatechange"in h.createElement("script")?(d=h.documentElement,function(E){var k=h.createElement("script");k.onreadystatechange=function(){y(E),k.onreadystatechange=null,d.removeChild(k),k=null},d.appendChild(k)}):function(E){setTimeout(y,0,E)},b.setImmediate=function(E){typeof E!="function"&&(E=new Function(""+E));for(var k=new Array(arguments.length-1),I=0;I<k.length;I++)k[I]=arguments[I+1];var O={callback:E,args:k};return l[u]=O,c(u),u++},b.clearImmediate=v}function v(E){delete l[E]}function y(E){if(p)setTimeout(y,0,E);else{var k=l[E];if(k){p=!0;try{(function(I){var O=I.callback,P=I.args;switch(P.length){case 0:O();break;case 1:O(P[0]);break;case 2:O(P[0],P[1]);break;case 3:O(P[0],P[1],P[2]);break;default:O.apply(o,P)}})(k)}finally{v(E),p=!1}}}}function x(E){E.source===a&&typeof E.data=="string"&&E.data.indexOf(g)===0&&y(+E.data.slice(g.length))}})(typeof self>"u"?s===void 0?this:s:self)}).call(this,typeof ci<"u"?ci:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})}(ka)),ka.exports}var mf=gf();const ac=mr(mf),Dr=t=>Uint8Array.from(t,e=>e.charCodeAt(0)),bf=(t,e,n,r=0,i=0)=>{const a=new ArrayBuffer(22+t.length),o=new DataView(a);let c=0;return o.setUint16(c,0,!0),c+=2,o.setUint16(c,2,!0),c+=2,o.setUint16(c,1,!0),c+=2,o.setUint8(c++,e===256?0:e),o.setUint8(c++,n===256?0:n),o.setUint8(c++,0),o.setUint8(c++,0),o.setUint16(c,r,!0),c+=2,o.setUint16(c,i,!0),c+=2,o.setUint32(c,t.length,!0),c+=4,o.setUint32(c,22,!0),new Uint8Array(a,22).set(t),new Uint8Array(a)},yf=(t,e)=>{const n=4+e.reduce((s,a)=>s+a.length,0),r=new Uint8Array(8+n);r.set(Dr("LIST"),0),new DataView(r.buffer).setUint32(4,n,!0),r.set(Dr(t),8);let i=12;for(const s of e)r.set(s,i),i+=s.length;return r},_f=t=>{const e=t.length,n=Math.max(1,Math.round(60/$a(vr))),r=new ArrayBuffer(36),i=new DataView(r);i.setUint32(0,36,!0),i.setUint32(4,e,!0),i.setUint32(8,e,!0),i.setUint32(24,n,!0),i.setUint32(32,1,!0);const s=new Uint32Array(e).fill(n),a=Uint32Array.from({length:e},(p,h)=>h),o=(p,h)=>{const b=h instanceof Uint8Array?h:new Uint8Array(h),v=b.length&1?1:0,y=new Uint8Array(8+b.length+v);return y.set(Dr(p),0),new DataView(y.buffer).setUint32(4,b.length,!0),y.set(b,8),y},c=t.map(p=>o("icon",p)),d=yf("fram",c),f=[o("anih",r),o("rate",s.buffer),o("seq ",a.buffer),d],g=f.reduce((p,h)=>p+h.length,4),u=new Uint8Array(8+g);u.set(Dr("RIFF"),0),new DataView(u.buffer).setUint32(4,g,!0),u.set(Dr("ACON"),8);let l=12;for(const p of f)u.set(p,l),l+=p.length;return u},wf=async t=>{const{width:e,height:n,frames:r,ways:i}=t,s=new ac;for(let a=0;a<i;a++){const o=[];for(let d=0;d<r;d++){const f=t.toI(d,a),g=t.canvasByI.get(f);if(!g)continue;const u=document.createElement("canvas");u.width=e,u.height=n;const l=u.getContext("2d",{willReadFrequently:!0});if(!l)continue;l.imageSmoothingEnabled=!1,l.drawImage(g,0,0,g.width,g.height,0,0,e,n);const h=u.toDataURL("image/png").split(",")[1],b=Uint8Array.from(atob(h),v=>v.charCodeAt(0));o.push(bf(b,e,n))}const c=_f(o);s.file(`cursor_${a+1}.ani`,c)}return s.generateAsync({type:"blob"})},xf=(t,e)=>Math.floor(Math.random()*Math.abs(e-t+1))+t;var jn=(t,e=[])=>({parts:(...n)=>{if(kf(e))return jn(t,n);throw new Error("createAnatomy().parts(...) should only be called once. Did you mean to use .extendWith(...) ?")},extendWith:(...n)=>jn(t,[...e,...n]),rename:n=>jn(n,e),keys:()=>e,build:()=>[...new Set(e)].reduce((n,r)=>Object.assign(n,{[r]:{selector:[`&[data-scope="${Qn(t)}"][data-part="${Qn(r)}"]`,`& [data-scope="${Qn(t)}"][data-part="${Qn(r)}"]`].join(", "),attrs:{"data-scope":Qn(t),"data-part":Qn(r)}}}),{})}),Qn=t=>t.replace(/([A-Z])([A-Z])/g,"$1-$2").replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[\s_]+/g,"-").toLowerCase(),kf=t=>t.length===0,Lo=t=>Math.max(0,Math.min(1,t)),Ea=(...t)=>e=>t.reduce((n,r)=>r(n),e),ar=()=>{},Yi=t=>typeof t=="object"&&t!==null,Et=t=>t?"":void 0,Ef=t=>t?"true":void 0,Cf=1,Sf=9,Tf=11,ie=t=>Yi(t)&&t.nodeType===Cf&&typeof t.nodeName=="string",Fs=t=>Yi(t)&&t.nodeType===Sf,If=t=>Yi(t)&&t===t.window,sc=t=>ie(t)?t.localName||"":"#document";function Af(t){return["html","body","#document"].includes(sc(t))}var Of=t=>Yi(t)&&t.nodeType!==void 0,Wr=t=>Of(t)&&t.nodeType===Tf&&"host"in t,Rf=t=>ie(t)&&t.localName==="input",Pf=t=>ie(t)?t.offsetWidth>0||t.offsetHeight>0||t.getClientRects().length>0:!1,Lf=/(textarea|select)/;function Df(t){if(t==null||!ie(t))return!1;try{return Rf(t)&&t.selectionStart!=null||Lf.test(t.localName)||t.isContentEditable||t.getAttribute("contenteditable")==="true"||t.getAttribute("contenteditable")===""}catch{return!1}}function jr(t,e){var r;if(!t||!e||!ie(t)||!ie(e))return!1;const n=(r=e.getRootNode)==null?void 0:r.call(e);if(t===e||t.contains(e))return!0;if(n&&Wr(n)){let i=e;for(;i;){if(t===i)return!0;i=i.parentNode||i.host}}return!1}function Te(t){return Fs(t)?t:If(t)?t.document:(t==null?void 0:t.ownerDocument)??document}function Nf(t){return Te(t).documentElement}function oe(t){var e;return Wr(t)?oe(t.host):Fs(t)?t.defaultView??window:ie(t)?((e=t.ownerDocument)==null?void 0:e.defaultView)??window:window}function oc(t){let e=t.activeElement;for(;e!=null&&e.shadowRoot;){const n=e.shadowRoot.activeElement;if(n===e)break;e=n}return e}function Ff(t){if(sc(t)==="html")return t;const e=t.assignedSlot||t.parentNode||Wr(t)&&t.host||Nf(t);return Wr(e)?e.host:e}var Ca=new WeakMap;function zf(t){return Ca.has(t)||Ca.set(t,oe(t).getComputedStyle(t)),Ca.get(t)}var Ji=()=>typeof document<"u";function Bf(){const t=navigator.userAgentData;return(t==null?void 0:t.platform)??navigator.platform}function Mf(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(({brand:e,version:n})=>`${e}/${n}`).join(" "):navigator.userAgent}var zs=t=>Ji()&&t.test(Bf()),Vf=t=>Ji()&&t.test(Mf()),Uf=t=>Ji()&&t.test(navigator.vendor),Do=()=>Ji()&&!!navigator.maxTouchPoints,Hf=()=>zs(/^iPhone/i),Wf=()=>zs(/^iPad/i)||ta()&&navigator.maxTouchPoints>1,Qi=()=>Hf()||Wf(),jf=()=>ta()||Qi(),ta=()=>zs(/^Mac/i),Bs=()=>jf()&&Uf(/apple/i),$f=()=>Vf(/Android/i);function qf(t){var e,n,r;return((e=t.composedPath)==null?void 0:e.call(t))??((r=(n=t.nativeEvent)==null?void 0:n.composedPath)==null?void 0:r.call(n))}function ke(t){const e=qf(t);return(e==null?void 0:e[0])??t.target}function Gf(t){return t.mozInputSource===0&&t.isTrusted?!0:$f()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}var Zf=t=>t.button===0,Kf=t=>t.button===2||ta()&&t.ctrlKey&&t.button===0,Xf=t=>t.ctrlKey||t.altKey||t.metaKey,Yf=t=>"touches"in t&&t.touches.length>0,Jf={Up:"ArrowUp",Down:"ArrowDown",Esc:"Escape"," ":"Space",",":"Comma",Left:"ArrowLeft",Right:"ArrowRight"},No={ArrowLeft:"ArrowRight",ArrowRight:"ArrowLeft"};function Qf(t,e={}){const{dir:n="ltr",orientation:r="horizontal"}=e;let i=t.key;return i=Jf[i]??i,n==="rtl"&&r==="horizontal"&&i in No&&(i=No[i]),i}var th=new Set(["PageUp","PageDown"]),eh=new Set(["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"]);function nh(t){return t.ctrlKey||t.metaKey?.1:th.has(t.key)||t.shiftKey&&eh.has(t.key)?10:1}function Ms(t,e="client"){const n=Yf(t)?t.touches[0]||t.changedTouches[0]:t;return{x:n[`${e}X`],y:n[`${e}Y`]}}var Xt=(t,e,n,r)=>{const i=typeof t=="function"?t():t;return i==null||i.addEventListener(e,n,r),()=>{i==null||i.removeEventListener(e,n,r)}};function lc(t,e){const{type:n="HTMLInputElement",property:r="value"}=e,i=oe(t)[n].prototype;return Object.getOwnPropertyDescriptor(i,r)??{}}function rh(t){if(t.localName==="input")return"HTMLInputElement";if(t.localName==="textarea")return"HTMLTextAreaElement";if(t.localName==="select")return"HTMLSelectElement"}function cc(t,e,n="value"){var i;if(!t)return;const r=rh(t);r&&((i=lc(t,{type:r,property:n}).set)==null||i.call(t,e)),t.setAttribute(n,e)}function uc(t,e){var r;if(!t)return;(r=lc(t,{type:"HTMLInputElement",property:"checked"}).set)==null||r.call(t,e),e?t.setAttribute("checked",""):t.removeAttribute("checked")}function ih(t,e){const{value:n,bubbles:r=!0}=e;if(!t)return;const i=oe(t);t instanceof i.HTMLInputElement&&(cc(t,`${n}`),t.dispatchEvent(new i.Event("input",{bubbles:r})))}function dc(t,e){const{checked:n,bubbles:r=!0}=e;if(!t)return;const i=oe(t);t instanceof i.HTMLInputElement&&(uc(t,n),t.dispatchEvent(new i.Event("click",{bubbles:r})))}function ah(t){return sh(t)?t.form:t.closest("form")}function sh(t){return t.matches("textarea, input, select, button")}function oh(t,e){if(!t)return;const n=ah(t),r=i=>{i.defaultPrevented||e()};return n==null||n.addEventListener("reset",r,{passive:!0}),()=>n==null?void 0:n.removeEventListener("reset",r)}function lh(t,e){const n=t==null?void 0:t.closest("fieldset");if(!n)return;e(n.disabled);const r=oe(n),i=new r.MutationObserver(()=>e(n.disabled));return i.observe(n,{attributes:!0,attributeFilter:["disabled"]}),()=>i.disconnect()}function Vs(t,e){if(!t)return;const{onFieldsetDisabledChange:n,onFormReset:r}=e,i=[oh(t,r),lh(t,n)];return()=>i.forEach(s=>s==null?void 0:s())}var fc=t=>ie(t)&&t.tagName==="IFRAME",ch=t=>!Number.isNaN(parseInt(t.getAttribute("tabindex")||"0",10)),uh=t=>parseInt(t.getAttribute("tabindex")||"0",10)<0,Us="input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), a[href], button:not([disabled]), [tabindex], iframe, object, embed, area[href], audio[controls], video[controls], [contenteditable]:not([contenteditable='false']), details > summary:first-of-type",hc=(t,e=!1)=>{if(!t)return[];const n=Array.from(t.querySelectorAll(Us));(e==!0||e=="if-empty"&&n.length===0)&&ie(t)&&Cn(t)&&n.unshift(t);const i=n.filter(Cn);return i.forEach((s,a)=>{if(fc(s)&&s.contentDocument){const o=s.contentDocument.body;i.splice(a,1,...hc(o))}}),i};function Cn(t){return!t||t.closest("[inert]")?!1:t.matches(Us)&&Pf(t)}function ni(t,e){if(!t)return[];const n=Array.from(t.querySelectorAll(Us)),r=n.filter(wn);return e&&wn(t)&&r.unshift(t),r.forEach((i,s)=>{if(fc(i)&&i.contentDocument){const a=i.contentDocument.body,o=ni(a);r.splice(s,1,...o)}}),!r.length&&e?n:r}function wn(t){return t!=null&&t.tabIndex>0?!0:Cn(t)&&!uh(t)}function dh(t,e){const n=ni(t,e),r=n[0]||null,i=n[n.length-1]||null;return[r,i]}function fh(t,e){const n=ni(t),r=(t==null?void 0:t.ownerDocument)||document,i=e??r.activeElement;if(!i)return null;const s=n.indexOf(i);return n[s+1]||null}function Cr(t){return t.tabIndex<0&&(/^(audio|video|details)$/.test(t.localName)||Df(t))&&!ch(t)?0:t.tabIndex}function Fo(t){const{root:e,getInitialEl:n,filter:r,enabled:i=!0}=t;if(!i)return;let s=null;if(s||(s=typeof n=="function"?n():n),s||(s=e==null?void 0:e.querySelector("[data-autofocus],[autofocus]")),!s){const a=ni(e);s=r?a.filter(r)[0]:a[0]}return s||e||void 0}function hh(t){const e=new Set;function n(r){const i=globalThis.requestAnimationFrame(r);e.add(()=>globalThis.cancelAnimationFrame(i))}return n(()=>n(t)),function(){e.forEach(i=>i())}}function Ce(t){let e;const n=globalThis.requestAnimationFrame(()=>{e=t()});return()=>{globalThis.cancelAnimationFrame(n),e==null||e()}}function os(t){const e=Ff(t);return Af(e)?Te(e).body:ie(e)&&ph(e)?e:os(e)}var vh=/auto|scroll|overlay|hidden|clip/;function ph(t){const e=oe(t),{overflow:n,overflowX:r,overflowY:i,display:s}=e.getComputedStyle(t);return vh.test(n+i+r)&&!["inline","contents"].includes(s)}function gh(t,e){const{left:n,top:r,width:i,height:s}=e.getBoundingClientRect(),a={x:t.x-n,y:t.y-r},o={x:Lo(a.x/i),y:Lo(a.y/s)};function c(d={}){const{dir:f="ltr",orientation:g="horizontal",inverted:u}=d,l=typeof u=="object"?u.x:u,p=typeof u=="object"?u.y:u;return g==="horizontal"?f==="rtl"||l?1-o.x:o.x:p?1-o.y:o.y}return{offset:a,percent:o,getPercentValue:c}}var sr="default",ls="",yi=new WeakMap;function mh(t={}){const{target:e,doc:n}=t,r=n??document,i=r.documentElement;return Qi()?(sr==="default"&&(ls=i.style.webkitUserSelect,i.style.webkitUserSelect="none"),sr="disabled"):e&&(yi.set(e,e.style.userSelect),e.style.userSelect="none"),()=>bh({target:e,doc:r})}function bh(t={}){const{target:e,doc:n}=t,i=(n??document).documentElement;if(Qi()){if(sr!=="disabled")return;sr="restoring",setTimeout(()=>{hh(()=>{sr==="restoring"&&(i.style.webkitUserSelect==="none"&&(i.style.webkitUserSelect=ls||""),ls="",sr="default")})},300)}else if(e&&yi.has(e)){const s=yi.get(e);e.style.userSelect==="none"&&(e.style.userSelect=s??""),e.getAttribute("style")===""&&e.removeAttribute("style"),yi.delete(e)}}function yh(t={}){const{defer:e,target:n,...r}=t,i=e?Ce:a=>a(),s=[];return s.push(i(()=>{const a=typeof n=="function"?n():n;s.push(mh({...r,target:a}))})),()=>{s.forEach(a=>a==null?void 0:a())}}function _h(t,e){const{onPointerMove:n,onPointerUp:r}=e,s=[Xt(t,"pointermove",a=>{const o=Ms(a),c=Math.sqrt(o.x**2+o.y**2),d=a.pointerType==="touch"?10:5;if(!(c<d)){if(a.pointerType==="mouse"&&a.button===0){r();return}n({point:o,event:a})}},!1),Xt(t,"pointerup",r,!1),Xt(t,"pointercancel",r,!1),Xt(t,"contextmenu",r,!1),yh({doc:t})];return()=>{s.forEach(a=>a())}}function wh(t){const{pointerNode:e,keyboardNode:n=e,onPress:r,onPressStart:i,onPressEnd:s,isValidKey:a=x=>x.key==="Enter"}=t;if(!e)return ar;const o=oe(e),c=Te(e);let d=ar,f=ar,g=ar;const u=x=>({point:Ms(x),event:x});function l(x){i==null||i(u(x))}function p(x){s==null||s(u(x))}const b=Xt(e,"pointerdown",x=>{f();const k=Xt(o,"pointerup",O=>{const P=ke(O);jr(e,P)?r==null||r(u(O)):s==null||s(u(O))},{passive:!r,once:!0}),I=Xt(o,"pointercancel",p,{passive:!s,once:!0});f=Ea(k,I),c.activeElement===n&&x.pointerType==="mouse"&&x.preventDefault(),l(x)},{passive:!i}),v=Xt(n,"focus",y);d=Ea(b,v);function y(){const x=O=>{if(!a(O))return;const P=M=>{if(!a(M))return;const F=new o.PointerEvent("pointerup"),C=u(F);r==null||r(C),s==null||s(C)};f(),f=Xt(n,"keyup",P);const A=new o.PointerEvent("pointerdown");l(A)},E=()=>{const O=new o.PointerEvent("pointercancel");p(O)},k=Xt(n,"keydown",x),I=Xt(n,"blur",E);g=Ea(k,I)}return()=>{d(),f(),g()}}function xh(t,e={}){const{triggerElement:n,onFocus:r,onFocusEnter:i}=e,s=(t==null?void 0:t.ownerDocument)||document,a=s.body;function o(c){if(c.key!=="Tab")return;let d=null;const[f,g]=dh(t,!0),u=fh(a,n),l=!f&&!g;c.shiftKey&&u===s.activeElement?(i==null||i(),d=g):c.shiftKey&&(s.activeElement===f||l)?d=n:!c.shiftKey&&s.activeElement===n?(i==null||i(),d=f):!c.shiftKey&&(s.activeElement===g||l)&&(d=u),d&&(c.preventDefault(),typeof r=="function"?r(d):d.focus())}return Xt(s,"keydown",o,!0)}function kh(t,e){const{defer:n,triggerElement:r,...i}=e,s=n?Ce:o=>o(),a=[];return a.push(s(()=>{const o=typeof t=="function"?t():t,c=typeof r=="function"?r():r;a.push(xh(o,{triggerElement:c,...i}))})),()=>{a.forEach(o=>o==null?void 0:o())}}function vc(t,e){return Array.from((t==null?void 0:t.querySelectorAll(e))??[])}function pc(t,e){const{onEntry:n,measure:r,box:i="border-box"}=e,s=(Array.isArray(t)?t:[t]).filter(ie),a=oe(s[0]),o=d=>{const f=s.map(g=>r(g));n({rects:f,entries:d})};o([]);const c=new a.ResizeObserver(o);return s.forEach(d=>c.observe(d,{box:i})),()=>c.disconnect()}function cs(t,e){if(!t)return ar;const n=Object.keys(e).reduce((r,i)=>(r[i]=t.style.getPropertyValue(i),r),{});return Object.assign(t.style,e),()=>{Object.assign(t.style,n),t.style.length===0&&t.removeAttribute("style")}}function Eh(t,e,n){if(!t)return ar;const r=t.style.getPropertyValue(e);return t.style.setProperty(e,n),()=>{t.style.setProperty(e,r),t.style.length===0&&t.removeAttribute("style")}}var gc={border:"0",clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:"0",position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"},Ch=1e3/60;function Sh(t,e){const n=t();if(ie(n)&&n.isConnected)return e(n),()=>{};{const r=setInterval(()=>{const i=t();ie(i)&&i.isConnected&&(e(i),clearInterval(r))},Ch);return()=>clearInterval(r)}}function Th(t,e){const n=[];return t==null||t.forEach(r=>{const i=Sh(r,e);n.push(i)}),()=>{n.forEach(r=>r())}}function Ih(t){return t==null?[]:Array.isArray(t)?t:[t]}var Ah=t=>t[0],Oh=t=>t[t.length-1],zo=t=>(t==null?void 0:t.constructor.name)==="Array",Rh=(t,e)=>{if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(!ea(t[n],e[n]))return!1;return!0},ea=(t,e)=>{if(Object.is(t,e))return!0;if(t==null&&e!=null||t!=null&&e==null)return!1;if(typeof(t==null?void 0:t.isEqual)=="function"&&typeof(e==null?void 0:e.isEqual)=="function")return t.isEqual(e);if(typeof t=="function"&&typeof e=="function")return t.toString()===e.toString();if(zo(t)&&zo(e))return Rh(Array.from(t),Array.from(e));if(typeof t!="object"||typeof e!="object")return!1;const n=Object.keys(e??Object.create(null)),r=n.length;for(let i=0;i<r;i++)if(!Reflect.has(t,n[i]))return!1;for(let i=0;i<r;i++){const s=n[i];if(!ea(t[s],e[s]))return!1}return!0},Nr=t=>typeof t=="string",Bn=t=>typeof t=="function",Ph=t=>t==null,Lh=Function.prototype.toString;Lh.call(Object);var Dh=(t,...e)=>(typeof t=="function"?t(...e):t)??void 0,Nh=t=>t(),Fh=()=>{},us=(...t)=>(...e)=>{t.forEach(function(n){n==null||n(...e)})},{floor:zh,abs:Ri,round:mc,min:Bh,max:Mh,pow:Vh,sign:Uh}=Math,ds=t=>Number.isNaN(t),$r=t=>ds(t)?0:t,Hh=(t,e,n)=>t===0?n:e[t-1],Wh=(t,e,n)=>t===e.length-1?n:e[t+1],jh=(t,e,n)=>$r(t)>=e&&$r(t)<=n,$h=(t,e,n)=>mc(($r(t)-e)/n)*n+e,ri=(t,e,n)=>Bh(Mh($r(t),e),n),Hs=(t,e,n)=>($r(t)-e)/(n-e),bc=(t,e,n,r)=>ri($h(t*(n-e)+e,e,r),e,n),Bo=(t,e)=>{let n=t,r=e.toString(),i=r.indexOf("."),s=i>=0?r.length-i:0;if(s>0){let a=Vh(10,s);n=mc(n*a)/a}return n},Ws=(t,e,n,r)=>{const i=e!=null?Number(e):0,s=Number(n),a=(t-i)%r;let o=Ri(a)*2>=r?t+Uh(a)*(r-Ri(a)):t-a;if(o=Bo(o,r),!ds(i)&&o<i)o=i;else if(!ds(s)&&o>s){const c=zh((s-i)/r),d=i+c*r;o=c<=0||d<i?s:d}return Bo(o,r)},Ar=(t,e,n)=>t[e]===n?t:[...t.slice(0,e),n,...t.slice(e+1)];function yc(t,e){const n=Hh(t,e.values,e.min),r=Wh(t,e.values,e.max);let i=e.values.slice();return function(a){let o=Ws(a,n,r,e.step);return i=Ar(i,t,a),i[t]=o,i}}function qh(t,e){const n=e.values[t]+e.step;return yc(t,e)(n)}function Gh(t,e){const n=e.values[t]-e.step;return yc(t,e)(n)}var Zh=(t,e)=>{let n=t.findIndex(s=>e-s<0);if(n===0)return n;if(n===-1)return t.length-1;let r=t[n-1],i=t[n];return Ri(r-e)<Ri(i-e)?n-1:n},_c=(t,e,n,r)=>t.map((i,s)=>({min:s===0?e:t[s-1]+r,max:s===t.length-1?n:t[s+1]-r,value:i})),fs=(t,e)=>{const[n,r]=t,[i,s]=e;return a=>n===r||i===s?i:i+(s-i)/(r-n)*(a-n)},Mo=t=>t!=null?`${t}px`:void 0;function js(t){if(!Kh(t)||t===void 0)return t;const e=Reflect.ownKeys(t).filter(r=>typeof r=="string"),n={};for(const r of e){const i=t[r];i!==void 0&&(n[r]=js(i))}return n}var Kh=t=>t&&typeof t=="object"&&t.constructor===Object;function Xh(t,e){const n={};for(const r of e){const i=t[r];i!==void 0&&(n[r]=i)}return n}function hs(...t){t.length===1?t[0]:t[1],t.length===2&&t[0]}function Yh(t,e){if(t==null)throw new Error(e())}var Jh=(...t)=>t.map(e=>{var n;return(n=e==null?void 0:e.trim)==null?void 0:n.call(e)}).filter(Boolean).join(" "),Qh=/((?:--)?(?:\w+-?)+)\s*:\s*([^;]*)/g,Vo=t=>{const e={};let n;for(;n=Qh.exec(t);)e[n[1]]=n[2];return e},tv=(t,e)=>{if(Nr(t)){if(Nr(e))return`${t};${e}`;t=Vo(t)}else Nr(e)&&(e=Vo(e));return Object.assign({},t??{},e??{})};function ev(...t){let e={};for(let n of t){for(let r in e){if(r.startsWith("on")&&typeof e[r]=="function"&&typeof n[r]=="function"){e[r]=us(n[r],e[r]);continue}if(r==="className"||r==="class"){e[r]=Jh(e[r],n[r]);continue}if(r==="style"){e[r]=tv(e[r],n[r]);continue}e[r]=n[r]!==void 0?n[r]:e[r]}for(let r in n)e[r]===void 0&&(e[r]=n[r])}return e}function wc(){return{and:(...t)=>function(n){return t.every(r=>n.guard(r))},or:(...t)=>function(n){return t.some(r=>n.guard(r))},not:t=>function(n){return!n.guard(t)}}}var ir=(t=>(t.NotStarted="Not Started",t.Started="Started",t.Stopped="Stopped",t))(ir||{}),Sa="__init__";function nv(t){const e=()=>{var o;return((o=t.getRootNode)==null?void 0:o.call(t))??document},n=()=>Te(e()),r=()=>n().defaultView??window,i=()=>oc(e());return{...t,getRootNode:e,getDoc:n,getWin:r,getActiveElement:i,isActiveElement:o=>o===i(),getById:o=>e().getElementById(o)}}function rv(t){return new Proxy({},{get(e,n){return n==="style"?r=>t({style:r}).style:t}})}var br=()=>t=>Array.from(new Set(t));const Uo={className:"class",defaultChecked:"checked",defaultValue:"value",htmlFor:"for",onBlur:"onfocusout",onChange:"oninput",onFocus:"onfocusin",onDoubleClick:"ondblclick"};function xc(t){let e="";for(let n in t){const r=t[n];r!=null&&(n.startsWith("--")||(n=n.replace(/[A-Z]/g,i=>`-${i.toLowerCase()}`)),e+=`${n}:${r};`)}return e}const iv="viewBox,className,preserveAspectRatio,fillRule,clipPath,clipRule,strokeWidth,strokeLinecap,strokeLinejoin,strokeDasharray,strokeDashoffset,strokeMiterlimit".split(",");function av(t){return t in Uo?Uo[t]:iv.includes(t)?t:t.toLowerCase()}function sv(t,e){return t==="style"&&typeof e=="object"?xc(e):e}const na=rv(t=>{const e={};for(const n in t)e[av(n)]=sv(n,t[n]);return e}),ov=/((?:--)?(?:\w+-?)+)\s*:\s*([^;]*)/g,lv=t=>{const e={};let n;for(;n=ov.exec(t);)e[n[1]]=n[2];return e};function cv(...t){const e=ev(...t);return"style"in e&&(typeof e.style=="string"&&(e.style=lv(e.style)),e.style=xc(e.style)),e}function Ta(t,e={}){function n(r={}){const{container:i,disabled:s,getRootNode:a}=r;if(s)return;const o=(a==null?void 0:a().ownerDocument)??document;(i??o.body).appendChild(t)}return n(e),{destroy:()=>t.remove(),update:n}}function Pi(t){const e=t().defaultValue??t().value,n=t().isEqual??Object.is;let r=ht(Gt(e));const i=ct(()=>t().value!==void 0);let s={current:w(r)},a={current:void 0};ju(()=>{const d=w(i)?t().value:w(r);s={current:d},a={current:d}});const o=d=>{var u,l;const f=Bn(d)?d(s.current):d,g=a.current;t().debug&&console.log(`[bindable > ${t().debug}] setValue`,{next:f,prev:g}),w(i)||J(r,f,!0),n(f,g)||(l=(u=t()).onChange)==null||l.call(u,f,g)};function c(){return w(i)?t().value:w(r)}return{initial:e,ref:s,get:c,set(d){(t().sync?Hl:Nh)(()=>o(d))},invoke(d,f){var g,u;(u=(g=t()).onChange)==null||u.call(g,d,f)},hash(d){var f,g;return((g=(f=t()).hash)==null?void 0:g.call(f,d))??String(d)}}}Pi.cleanup=t=>{Wl(()=>t())};Pi.ref=t=>{let e=t;return{get:()=>e,set:n=>{e=n}}};function uv(t){const e=Gt({current:t});return{get(n){return e.current[n]},set(n,r){e.current[n]=r}}}const Ia=t=>typeof t=="function"?t():t,dv=(t,e)=>{let n=[],r=!0;Bt(()=>{if(r){n=t.map(s=>Ia(s)),r=!1;return}let i=!1;for(let s=0;s<t.length;s++)if(!ea(n[s],Ia(t[s]))){i=!0;break}i&&(n=t.map(s=>Ia(s)),e())})};function Aa(t){return Bn(t)?t():t}function ra(t,e){var P,A,M;const n=ct(()=>{const{id:F,ids:C,getRootNode:R}=Aa(e);return nv({id:F,ids:C,getRootNode:R})}),r=(...F)=>{t.debug&&console.log(...F)},i=ct(()=>{var F;return((F=t.props)==null?void 0:F.call(t,{props:js(Aa(e)),scope:w(n)}))??Aa(e)}),s=fv(()=>w(i)),a=(P=t.context)==null?void 0:P.call(t,{prop:s,bindable:Pi,get scope(){return w(n)},flush:Ho,getContext(){return o},getComputed(){return E},getRefs(){return p}}),o={get(F){return a==null?void 0:a[F].get()},set(F,C){a==null||a[F].set(C)},initial(F){return a==null?void 0:a[F].initial},hash(F){const C=a==null?void 0:a[F].get();return a==null?void 0:a[F].hash(C)}};let c=new Map,d={current:null},f={current:null},g=Gt({current:{type:""}});const u=()=>({...g.current,current(){return g.current},previous(){return f.current}}),l=()=>({...k,hasTag(F){var R,m;const C=k.get();return!!((m=(R=t.states[C])==null?void 0:R.tags)!=null&&m.includes(F))},matches(...F){const C=k.get();return F.includes(C)}}),p=uv(((A=t.refs)==null?void 0:A.call(t,{prop:s,context:o}))??{}),h=()=>({state:l(),context:o,event:u(),prop:s,send:O,action:b,guard:v,track:dv,refs:p,computed:E,flush:Ho,scope:w(n),choose:x}),b=F=>{const C=Bn(F)?F(h()):F;if(!C)return;const R=C.map(m=>{var V,U;const N=(U=(V=t.implementations)==null?void 0:V.actions)==null?void 0:U[m];return N||hs(`[zag-js] No implementation found for action "${JSON.stringify(m)}"`),N});for(const m of R)m==null||m(h())},v=F=>{var C,R;return Bn(F)?F(h()):(R=(C=t.implementations)==null?void 0:C.guards)==null?void 0:R[F](h())},y=F=>{const C=Bn(F)?F(h()):F;if(!C)return;const R=C.map(N=>{var U,G;const V=(G=(U=t.implementations)==null?void 0:U.effects)==null?void 0:G[N];return V||hs(`[zag-js] No implementation found for effect "${JSON.stringify(N)}"`),V}),m=[];for(const N of R){const V=N==null?void 0:N(h());V&&m.push(V)}return()=>m.forEach(N=>N==null?void 0:N())},x=F=>Ih(F).find(C=>{let R=!C.guard;return Nr(C.guard)?R=!!v(C.guard):Bn(C.guard)&&(R=C.guard(h())),R}),E=F=>{Yh(t.computed,()=>"[zag-js] No computed object found on machine");const C=t.computed[F];return C({context:o,event:u(),prop:s,refs:p,scope:w(n),computed:E})},k=Pi(()=>({defaultValue:t.initialState({prop:s}),onChange(F,C){var m,N,V,U;if(C){const G=c.get(C);G==null||G(),c.delete(C)}C&&b((m=t.states[C])==null?void 0:m.exit),b((N=d.current)==null?void 0:N.actions);const R=y((V=t.states[F])==null?void 0:V.effects);if(R&&c.set(F,R),C===Sa){b(t.entry);const G=y(t.effects);G&&c.set(Sa,G)}b((U=t.states[F])==null?void 0:U.entry)}}));let I=ir.NotStarted;Yu(()=>{const F=I===ir.Started;I=ir.Started,r(F?"rehydrating...":"initializing..."),k.invoke(k.initial,Sa)}),Wl(()=>{r("unmounting..."),I=ir.Stopped,c.forEach(F=>F==null?void 0:F()),c=new Map,d.current=null,b(t.exit)});const O=F=>{var U,G;if(I!==ir.Started)return;f.current=g.current,g.current=F;let C=k.get();const R=((U=t.states[C].on)==null?void 0:U[F.type])??((G=t.on)==null?void 0:G[F.type]),m=x(R);if(!m)return;d.current=m;const N=m.target??C,V=N!==C;V?k.set(N):m.reenter&&!V?k.invoke(C,C):b(m.actions)};return(M=t.watch)==null||M.call(t,h()),{get state(){return l()},send:O,context:o,prop:s,get scope(){return w(n)},refs:p,computed:E,get event(){return u()},getStatus:()=>I}}function fv(t){return function(n){return t()[n]}}function Ho(t){Hl(()=>{queueMicrotask(()=>t())})}function ia(t){var e=Symbol(),n=function(i){return $u(e,i)},r=function(){var i;return(i=qu(e))!==null&&i!==void 0?i:t};return[n,r,e]}var Li;Li=ia(),Li[0];Li[1];Li[2];const hv=t=>t;function vv(t,{delay:e=0,duration:n=400,easing:r=hv}={}){const i=+getComputedStyle(t).opacity;return{delay:e,duration:n,easing:r,css:s=>`opacity: ${s*i}`}}fe(["click"]);var Di;Di=ia({parent:"none",value:"",expanded:!1}),Di[0];Di[1];Di[2];function pv(t){return!(t.metaKey||!ta()&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}var gv=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function mv(t,e,n){const r=n?ke(n):null,i=oe(r);return t=t||r instanceof i.HTMLInputElement&&!gv.has(r==null?void 0:r.type)||r instanceof i.HTMLTextAreaElement||r instanceof i.HTMLElement&&r.isContentEditable,!(t&&e==="keyboard"&&n instanceof i.KeyboardEvent&&!Reflect.has(bv,n.key))}var Kn=null,vs=new Set,Fr=new Map,$n=!1,ps=!1,bv={Tab:!0,Escape:!0};function aa(t,e){for(let n of vs)n(t,e)}function Ni(t){$n=!0,pv(t)&&(Kn="keyboard",aa("keyboard",t))}function xe(t){Kn="pointer",(t.type==="mousedown"||t.type==="pointerdown")&&($n=!0,aa("pointer",t))}function kc(t){Gf(t)&&($n=!0,Kn="virtual")}function Ec(t){const e=ke(t);e===oe(e)||e===Te(e)||(!$n&&!ps&&(Kn="virtual",aa("virtual",t)),$n=!1,ps=!1)}function Cc(){$n=!1,ps=!0}function yv(t){if(typeof window>"u"||Fr.get(oe(t)))return;const e=oe(t),n=Te(t);let r=e.HTMLElement.prototype.focus;function i(){Kn="virtual",aa("virtual",null),$n=!0,r.apply(this,arguments)}Object.defineProperty(e.HTMLElement.prototype,"focus",{configurable:!0,value:i}),n.addEventListener("keydown",Ni,!0),n.addEventListener("keyup",Ni,!0),n.addEventListener("click",kc,!0),e.addEventListener("focus",Ec,!0),e.addEventListener("blur",Cc,!1),typeof e.PointerEvent<"u"?(n.addEventListener("pointerdown",xe,!0),n.addEventListener("pointermove",xe,!0),n.addEventListener("pointerup",xe,!0)):(n.addEventListener("mousedown",xe,!0),n.addEventListener("mousemove",xe,!0),n.addEventListener("mouseup",xe,!0)),e.addEventListener("beforeunload",()=>{_v(t)},{once:!0}),Fr.set(e,{focus:r})}var _v=(t,e)=>{const n=oe(t),r=Te(t);Fr.has(n)&&(n.HTMLElement.prototype.focus=Fr.get(n).focus,r.removeEventListener("keydown",Ni,!0),r.removeEventListener("keyup",Ni,!0),r.removeEventListener("click",kc,!0),n.removeEventListener("focus",Ec,!0),n.removeEventListener("blur",Cc,!1),typeof n.PointerEvent<"u"?(r.removeEventListener("pointerdown",xe,!0),r.removeEventListener("pointermove",xe,!0),r.removeEventListener("pointerup",xe,!0)):(r.removeEventListener("mousedown",xe,!0),r.removeEventListener("mousemove",xe,!0),r.removeEventListener("mouseup",xe,!0)),Fr.delete(n))};function Fi(){return Kn==="keyboard"}function Sc(t={}){const{isTextInput:e,autoFocus:n,onChange:r,root:i}=t;yv(i),r==null||r({isFocusVisible:n||Fi(),modality:Kn});const s=(a,o)=>{mv(!!e,a,o)&&(r==null||r({isFocusVisible:Fi(),modality:a}))};return vs.add(s),()=>{vs.delete(s)}}var wv=jn("radio-group").parts("root","label","item","itemText","itemControl","indicator"),tr=wv.build(),zi=t=>{var e;return((e=t.ids)==null?void 0:e.root)??`radio-group:${t.id}`},Wo=t=>{var e;return((e=t.ids)==null?void 0:e.label)??`radio-group:${t.id}:label`},Tc=(t,e)=>{var n,r;return((r=(n=t.ids)==null?void 0:n.item)==null?void 0:r.call(n,e))??`radio-group:${t.id}:radio:${e}`},gs=(t,e)=>{var n,r;return((r=(n=t.ids)==null?void 0:n.itemHiddenInput)==null?void 0:r.call(n,e))??`radio-group:${t.id}:radio:input:${e}`},xv=(t,e)=>{var n,r;return((r=(n=t.ids)==null?void 0:n.itemControl)==null?void 0:r.call(n,e))??`radio-group:${t.id}:radio:control:${e}`},kv=(t,e)=>{var n,r;return((r=(n=t.ids)==null?void 0:n.itemLabel)==null?void 0:r.call(n,e))??`radio-group:${t.id}:radio:label:${e}`},Ic=t=>{var e;return((e=t.ids)==null?void 0:e.indicator)??`radio-group:${t.id}:indicator`},sa=t=>t.getById(zi(t)),Ev=(t,e)=>t.getById(gs(t,e)),Cv=t=>t.getById(Ic(t)),Sv=t=>{var e;return(e=sa(t))==null?void 0:e.querySelector("input:not(:disabled)")},Tv=t=>{var e;return(e=sa(t))==null?void 0:e.querySelector("input:not(:disabled):checked")},jo=t=>{const n=`input[type=radio][data-ownedby='${CSS.escape(zi(t))}']:not([disabled])`;return vc(sa(t),n)},Iv=(t,e)=>{if(e)return t.getById(Tc(t,e))},Av=t=>({left:(t==null?void 0:t.offsetLeft)??0,top:(t==null?void 0:t.offsetTop)??0,width:(t==null?void 0:t.offsetWidth)??0,height:(t==null?void 0:t.offsetHeight)??0}),Ov=t=>({width:`${t.width}px`,height:`${t.height}px`,left:`${t.left}px`,top:`${t.top}px`});function Rv(t,e){const{context:n,send:r,computed:i,prop:s,scope:a}=t,o=i("isDisabled"),c=s("readOnly");function d(u){const l=n.get("focusedValue")===u.value,p=l&&Fi();return{value:u.value,invalid:!!u.invalid,disabled:!!u.disabled||o,checked:n.get("value")===u.value,focused:l,focusVisible:p,hovered:n.get("hoveredValue")===u.value,active:n.get("activeValue")===u.value}}function f(u){const l=d(u);return{"data-focus":Et(l.focused),"data-focus-visible":Et(l.focusVisible),"data-disabled":Et(l.disabled),"data-readonly":Et(c),"data-state":l.checked?"checked":"unchecked","data-hover":Et(l.hovered),"data-invalid":Et(l.invalid),"data-orientation":s("orientation"),"data-ssr":Et(n.get("ssr"))}}const g=()=>{const u=Tv(a)??Sv(a);u==null||u.focus()};return{focus:g,value:n.get("value"),setValue(u){r({type:"SET_VALUE",value:u,isTrusted:!1})},clearValue(){r({type:"SET_VALUE",value:null,isTrusted:!1})},getRootProps(){return e.element({...tr.root.attrs,role:"radiogroup",id:zi(a),"aria-labelledby":Wo(a),"data-orientation":s("orientation"),"data-disabled":Et(o),"aria-orientation":s("orientation"),dir:s("dir"),style:{position:"relative"}})},getLabelProps(){return e.element({...tr.label.attrs,dir:s("dir"),"data-orientation":s("orientation"),"data-disabled":Et(o),id:Wo(a),onClick:g})},getItemState:d,getItemProps(u){const l=d(u);return e.label({...tr.item.attrs,dir:s("dir"),id:Tc(a,u.value),htmlFor:gs(a,u.value),...f(u),onPointerMove(){l.disabled||l.hovered||r({type:"SET_HOVERED",value:u.value,hovered:!0})},onPointerLeave(){l.disabled||r({type:"SET_HOVERED",value:null})},onPointerDown(p){l.disabled||(l.focused&&p.pointerType==="mouse"&&p.preventDefault(),r({type:"SET_ACTIVE",value:u.value,active:!0}))},onPointerUp(){l.disabled||r({type:"SET_ACTIVE",value:null})},onClick(){var p;!l.disabled&&Bs()&&((p=Ev(a,u.value))==null||p.focus())}})},getItemTextProps(u){return e.element({...tr.itemText.attrs,dir:s("dir"),id:kv(a,u.value),...f(u)})},getItemControlProps(u){const l=d(u);return e.element({...tr.itemControl.attrs,dir:s("dir"),id:xv(a,u.value),"data-active":Et(l.active),"aria-hidden":!0,...f(u)})},getItemHiddenInputProps(u){const l=d(u);return e.input({"data-ownedby":zi(a),id:gs(a,u.value),type:"radio",name:s("name")||s("id"),form:s("form"),value:u.value,onClick(p){if(c){p.preventDefault();return}p.currentTarget.checked&&r({type:"SET_VALUE",value:u.value,isTrusted:!0})},onBlur(){r({type:"SET_FOCUSED",value:null,focused:!1})},onFocus(){r({type:"SET_FOCUSED",value:u.value,focused:!0})},onKeyDown(p){p.defaultPrevented||p.key===" "&&r({type:"SET_ACTIVE",value:u.value,active:!0})},onKeyUp(p){p.defaultPrevented||p.key===" "&&r({type:"SET_ACTIVE",value:null})},disabled:l.disabled,defaultChecked:l.checked,style:gc})},getIndicatorProps(){const u=n.get("indicatorRect");return e.element({id:Ic(a),...tr.indicator.attrs,dir:s("dir"),hidden:n.get("value")==null,"data-disabled":Et(o),"data-orientation":s("orientation"),style:{"--transition-property":"left, top, width, height","--left":u==null?void 0:u.left,"--top":u==null?void 0:u.top,"--width":u==null?void 0:u.width,"--height":u==null?void 0:u.height,position:"absolute",willChange:"var(--transition-property)",transitionProperty:"var(--transition-property)",transitionDuration:n.get("canIndicatorTransition")?"var(--transition-duration, 150ms)":"0ms",transitionTimingFunction:"var(--transition-timing-function)",[s("orientation")==="horizontal"?"left":"top"]:s("orientation")==="horizontal"?"var(--left)":"var(--top)"}})}}}var{not:Pv}=wc(),Lv={props({props:t}){return{orientation:"vertical",...t}},initialState(){return"idle"},context({prop:t,bindable:e}){return{value:e(()=>({defaultValue:t("defaultValue"),value:t("value"),onChange(n){var r;(r=t("onValueChange"))==null||r({value:n})}})),activeValue:e(()=>({defaultValue:null})),focusedValue:e(()=>({defaultValue:null})),hoveredValue:e(()=>({defaultValue:null})),indicatorRect:e(()=>({defaultValue:{}})),canIndicatorTransition:e(()=>({defaultValue:!1})),fieldsetDisabled:e(()=>({defaultValue:!1})),ssr:e(()=>({defaultValue:!0}))}},refs(){return{indicatorCleanup:null}},computed:{isDisabled:({prop:t,context:e})=>!!t("disabled")||e.get("fieldsetDisabled")},entry:["syncIndicatorRect","syncSsr"],exit:["cleanupObserver"],effects:["trackFormControlState","trackFocusVisible"],watch({track:t,action:e,context:n}){t([()=>n.get("value")],()=>{e(["setIndicatorTransition","syncIndicatorRect","syncInputElements"])})},on:{SET_VALUE:[{guard:Pv("isTrusted"),actions:["setValue","dispatchChangeEvent"]},{actions:["setValue"]}],SET_HOVERED:{actions:["setHovered"]},SET_ACTIVE:{actions:["setActive"]},SET_FOCUSED:{actions:["setFocused"]}},states:{idle:{}},implementations:{guards:{isTrusted:({event:t})=>!!t.isTrusted},effects:{trackFormControlState({context:t,scope:e}){return Vs(sa(e),{onFieldsetDisabledChange(n){t.set("fieldsetDisabled",n)},onFormReset(){t.set("value",t.initial("value"))}})},trackFocusVisible({scope:t}){var e;return Sc({root:(e=t.getRootNode)==null?void 0:e.call(t)})}},actions:{setValue({context:t,event:e}){t.set("value",e.value)},setHovered({context:t,event:e}){t.set("hoveredValue",e.value)},setActive({context:t,event:e}){t.set("activeValue",e.value)},setFocused({context:t,event:e}){t.set("focusedValue",e.value)},syncInputElements({context:t,scope:e}){jo(e).forEach(r=>{r.checked=r.value===t.get("value")})},setIndicatorTransition({context:t}){t.set("canIndicatorTransition",Nr(t.get("value")))},cleanupObserver({refs:t}){var e;(e=t.get("indicatorCleanup"))==null||e()},syncSsr({context:t}){t.set("ssr",!1)},syncIndicatorRect({context:t,scope:e,refs:n}){var a;if((a=n.get("indicatorCleanup"))==null||a(),!Cv(e))return;const r=t.get("value"),i=Iv(e,r);if(r==null||!i){t.set("canIndicatorTransition",!1),t.set("indicatorRect",{});return}const s=pc([i],{measure(o){return Av(o)},onEntry({rects:o}){t.set("indicatorRect",Ov(o[0]))}});n.set("indicatorCleanup",s)},dispatchChangeEvent({context:t,scope:e}){jo(e).forEach(r=>{const i=r.value===t.get("value");i!==r.checked&&dc(r,{checked:i})})}}}};br()(["dir","disabled","form","getRootNode","id","ids","name","onValueChange","orientation","readOnly","value","defaultValue"]);br()(["value","disabled","invalid"]);var Bi,Dv=(Bi=ia({api:{},indicatorText:""}),Bi[0]),Nv=Bi[1];Bi[2];var Fv=dt("<div><div></div> <!></div>");function zv(t,e){const n=ji();gt(e,!0);const r=W(e,"base",3,"inline-flex items-stretch overflow-hidden"),i=W(e,"background",3,"preset-outlined-surface-200-800"),s=W(e,"border",3,""),a=W(e,"gap",3,"gap-2"),o=W(e,"padding",3,"p-2"),c=W(e,"rounded",3,"rounded-container"),d=W(e,"width",3,""),f=W(e,"classes",3,""),g=W(e,"orientVertical",3,"flex-col items-stretch"),u=W(e,"orientHorizontal",3,"flex-row"),l=W(e,"stateDisabled",3,"disabled"),p=W(e,"stateReadOnly",3,"pointer-events-none"),h=W(e,"indicatorBase",3,"top-[var(--top)] left-[var(--left)] w-[var(--width)] h-[var(--height)]"),b=W(e,"indicatorBg",3,"preset-filled"),v=W(e,"indicatorText",3,"text-surface-contrast-950 dark:text-surface-contrast-50"),y=W(e,"indicatorRounded",3,"rounded-base"),x=W(e,"indicatorClasses",3,""),E=W(e,"labelledby",3,""),k=Dt(e,["$$slots","$$events","$$legacy","base","background","border","gap","padding","rounded","width","classes","orientVertical","orientHorizontal","stateDisabled","stateReadOnly","indicatorBase","indicatorBg","indicatorText","indicatorRounded","indicatorClasses","labelledby","children"]),I=ra(Lv,()=>({id:n,orientation:e.orientation??"horizontal",...k})),O=ct(()=>Rv(I,na));Dv({get api(){return w(O)},get indicatorText(){return v()}});const P=ct(()=>I.prop("orientation")==="vertical"?g():u()),A=ct(()=>I.prop("disabled")?l():""),M=ct(()=>I.prop("readOnly")?p():"");var F=Fv();$t(F,m=>({...m,class:`${r()??""} ${w(P)??""} ${i()??""} ${s()??""} ${o()??""} ${a()??""} ${c()??""} ${d()??""} ${w(A)??""} ${w(M)??""} ${f()??""}`,"aria-labelledby":E(),"data-testid":"segment"}),[()=>w(O).getRootProps()]);var C=q(F);$t(C,m=>({...m,class:`${h()??""} ${b()??""} ${y()??""} ${x()??""}`,"data-testid":"segment-indicator"}),[()=>w(O).getIndicatorProps()]);var R=Y(C,2);Rt(R,()=>e.children??Pt),j(F),tt(t,F),mt()}var Bv=dt("<label><span><!></span> <input/></label>");function Mv(t,e){gt(e,!0);let n=W(e,"base",3,"btn cursor-pointer z-[1]"),r=W(e,"classes",3,""),i=W(e,"stateDisabled",3,"disabled"),s=W(e,"stateFocused",3,"focused"),a=W(e,"labelBase",3,"pointer-events-none transition-colors duration-100"),o=W(e,"labelClasses",3,""),c=Dt(e,["$$slots","$$events","$$legacy","base","classes","stateDisabled","stateFocused","labelBase","labelClasses","children"]);const d=Nv(),f=ct(()=>d.api.getItemState(c)),g=ct(()=>w(f).disabled?i():""),u=ct(()=>w(f).checked?d.indicatorText:""),l=ct(()=>w(f).focused?s():"");var p=Bv();$t(p,y=>({...y,class:`${n()??""} ${w(g)??""} ${w(l)??""} ${r()??""}`,"data-testid":"segment-item"}),[()=>d.api.getItemProps(c)]);var h=q(p);$t(h,y=>({...y,class:`${a()??""} ${w(u)??""} ${o()??""}`,"data-testid":"segment-item-label"}),[()=>d.api.getItemTextProps(c)]);var b=q(h);Rt(b,()=>e.children??Pt),j(h);var v=Y(h,2);qt(v),$t(v,y=>({...y,"data-testid":"segment-item-input"}),[()=>d.api.getItemHiddenInputProps(c)]),j(p),tt(t,p),mt()}const $o=Object.assign(zv,{Item:Mv});var Vv=jn("slider").parts("root","label","thumb","valueText","track","range","control","markerGroup","marker","draggingIndicator"),He=Vv.build(),Ac=t=>{var e;return((e=t.ids)==null?void 0:e.root)??`slider:${t.id}`},Oc=(t,e)=>{var n,r;return((r=(n=t.ids)==null?void 0:n.thumb)==null?void 0:r.call(n,e))??`slider:${t.id}:thumb:${e}`},ms=(t,e)=>{var n,r;return((r=(n=t.ids)==null?void 0:n.hiddenInput)==null?void 0:r.call(n,e))??`slider:${t.id}:input:${e}`},Rc=t=>{var e;return((e=t.ids)==null?void 0:e.control)??`slider:${t.id}:control`},Uv=t=>{var e;return((e=t.ids)==null?void 0:e.track)??`slider:${t.id}:track`},Hv=t=>{var e;return((e=t.ids)==null?void 0:e.range)??`slider:${t.id}:range`},qo=t=>{var e;return((e=t.ids)==null?void 0:e.label)??`slider:${t.id}:label`},Wv=t=>{var e;return((e=t.ids)==null?void 0:e.valueText)??`slider:${t.id}:value-text`},jv=(t,e)=>{var n,r;return((r=(n=t.ids)==null?void 0:n.marker)==null?void 0:r.call(n,e))??`slider:${t.id}:marker:${e}`},$v=t=>t.getById(Ac(t)),qv=(t,e)=>t.getById(Oc(t,e)),Pc=t=>vc(Dc(t),"[role=slider]"),Gv=t=>Pc(t)[0],Lc=(t,e)=>t.getById(ms(t,e)),Dc=t=>t.getById(Rc(t)),Go=(t,e)=>{const{prop:n,scope:r}=t,i=Dc(r);if(!i)return;const a=gh(e,i).getPercentValue({orientation:n("orientation"),dir:n("dir"),inverted:{y:!0}});return bc(a,n("min"),n("max"),n("step"))},Zv=(t,e)=>{e.forEach((n,r)=>{const i=Lc(t,r);i&&ih(i,{value:n})})},Kv=t=>({left:(t==null?void 0:t.offsetLeft)??0,top:(t==null?void 0:t.offsetTop)??0,width:(t==null?void 0:t.offsetWidth)??0,height:(t==null?void 0:t.offsetHeight)??0});function Xv(t){const e=t[0],n=t[t.length-1];return[e,n]}function Yv(t){const{prop:e,computed:n}=t,r=n("valuePercent"),[i,s]=Xv(r);if(r.length===1){if(e("origin")==="center"){const a=r[0]<50,o=a?`${r[0]}%`:"50%",c=a?"50%":`${100-r[0]}%`;return{start:o,end:c}}return e("origin")==="end"?{start:`${s}%`,end:"0%"}:{start:"0%",end:`${100-s}%`}}return{start:`${i}%`,end:`${100-s}%`}}function Jv(t){const{computed:e}=t,n=e("isVertical"),r=e("isRtl");return n?{position:"absolute",bottom:"var(--slider-range-start)",top:"var(--slider-range-end)"}:{position:"absolute",[r?"right":"left"]:"var(--slider-range-start)",[r?"left":"right"]:"var(--slider-range-end)"}}function Qv(t,e){const{context:n,prop:r}=t,{height:i=0}=n.get("thumbSize")??{},s=fs([r("min"),r("max")],[-i/2,i/2]);return parseFloat(s(e).toFixed(2))}function tp(t,e){const{computed:n,context:r,prop:i}=t,{width:s=0}=r.get("thumbSize")??{};if(n("isRtl")){const c=fs([i("max"),i("min")],[-s/2,s/2]);return-1*parseFloat(c(e).toFixed(2))}const o=fs([i("min"),i("max")],[-s/2,s/2]);return parseFloat(o(e).toFixed(2))}function ep(t,e,n){const{computed:r,prop:i}=t;if(i("thumbAlignment")==="center")return`${e}%`;const s=r("isVertical")?Qv(t,n):tp(t,n);return`calc(${e}% - ${s}px)`}function Nc(t,e){const{prop:n}=t,r=Hs(e,n("min"),n("max"))*100;return ep(t,r,e)}function Fc(t){const{computed:e,prop:n}=t;let r="visible";return n("thumbAlignment")==="contain"&&!e("hasMeasuredThumbSize")&&(r="hidden"),r}function Zo(t,e){const{computed:n}=t,r=n("isVertical")?"bottom":"insetInlineStart";return{visibility:Fc(t),position:"absolute",transform:"var(--slider-thumb-transform)",[r]:`var(--slider-thumb-offset-${e})`}}function np(){return{touchAction:"none",userSelect:"none",WebkitUserSelect:"none",position:"relative"}}function rp(t){const{context:e,computed:n}=t,r=n("isVertical"),i=n("isRtl"),s=Yv(t),a=e.get("thumbSize");return{...e.get("value").reduce((c,d,f)=>{const g=Nc(t,d);return{...c,[`--slider-thumb-offset-${f}`]:g}},{}),"--slider-thumb-width":Mo(a==null?void 0:a.width),"--slider-thumb-height":Mo(a==null?void 0:a.height),"--slider-thumb-transform":r?"translateY(50%)":i?"translateX(50%)":"translateX(-50%)","--slider-range-start":s.start,"--slider-range-end":s.end}}function ip(t,e){const{computed:n}=t,r=n("isHorizontal"),i=n("isRtl");return{visibility:Fc(t),position:"absolute",pointerEvents:"none",[r?"insetInlineStart":"bottom"]:Nc(t,e),translate:"var(--tx) var(--ty)","--tx":r?i?"50%":"-50%":"0%","--ty":r?"0%":"50%"}}function ap(){return{userSelect:"none",WebkitUserSelect:"none",pointerEvents:"none",position:"relative"}}function sp(t,e){return e.map((n,r)=>bs(t,n,r))}function Sn(t,e){const{context:n,prop:r}=t,i=r("step")*r("minStepsBetweenThumbs");return _c(n.get("value"),r("min"),r("max"),i)[e]}function bs(t,e,n){const{prop:r}=t,i=Sn(t,n),s=Ws(e,r("min"),r("max"),r("step"));return ri(s,i.min,i.max)}function op(t,e,n){const{context:r,prop:i}=t,s=e??r.get("focusedIndex"),a=Sn(t,s),o=Gh(s,{...a,step:n??i("step"),values:r.get("value")});return o[s]=ri(o[s],a.min,a.max),o}function lp(t,e,n){const{context:r,prop:i}=t,s=e??r.get("focusedIndex"),a=Sn(t,s),o=qh(s,{...a,step:n??i("step"),values:r.get("value")});return o[s]=ri(o[s],a.min,a.max),o}function cp(t,e){const{context:n}=t;return Zh(n.get("value"),e)}function up(t,e){const{state:n,send:r,context:i,prop:s,computed:a,scope:o}=t,c=s("aria-label"),d=s("aria-labelledby"),f=i.get("value"),g=i.get("focusedIndex"),u=n.matches("focus"),l=n.matches("dragging"),p=a("isDisabled"),h=s("invalid"),b=a("isInteractive"),v=s("orientation")==="horizontal",y=s("orientation")==="vertical";function x(k){return Hs(k,s("min"),s("max"))}function E(k){return bc(k,s("min"),s("max"),s("step"))}return{value:f,dragging:l,focused:u,setValue(k){r({type:"SET_VALUE",value:k})},getThumbValue(k){return f[k]},setThumbValue(k,I){r({type:"SET_VALUE",index:k,value:I})},getValuePercent:x,getPercentValue:E,getThumbPercent(k){return x(f[k])},setThumbPercent(k,I){const O=E(I);r({type:"SET_VALUE",index:k,value:O})},getThumbMin(k){return Sn(t,k).min},getThumbMax(k){return Sn(t,k).max},increment(k){r({type:"INCREMENT",index:k})},decrement(k){r({type:"DECREMENT",index:k})},focus(){b&&r({type:"FOCUS",index:0})},getLabelProps(){return e.label({...He.label.attrs,dir:s("dir"),"data-disabled":Et(p),"data-orientation":s("orientation"),"data-invalid":Et(h),"data-dragging":Et(l),"data-focus":Et(u),id:qo(o),htmlFor:ms(o,0),onClick(k){var I;b&&(k.preventDefault(),(I=Gv(o))==null||I.focus())},style:{userSelect:"none",WebkitUserSelect:"none"}})},getRootProps(){return e.element({...He.root.attrs,"data-disabled":Et(p),"data-orientation":s("orientation"),"data-dragging":Et(l),"data-invalid":Et(h),"data-focus":Et(u),id:Ac(o),dir:s("dir"),style:rp(t)})},getValueTextProps(){return e.element({...He.valueText.attrs,dir:s("dir"),"data-disabled":Et(p),"data-orientation":s("orientation"),"data-invalid":Et(h),"data-focus":Et(u),id:Wv(o)})},getTrackProps(){return e.element({...He.track.attrs,dir:s("dir"),id:Uv(o),"data-disabled":Et(p),"data-invalid":Et(h),"data-dragging":Et(l),"data-orientation":s("orientation"),"data-focus":Et(u),style:{position:"relative"}})},getThumbProps(k){var R;const{index:I=0,name:O}=k,P=f[I],A=Sn(t,I),M=(R=s("getAriaValueText"))==null?void 0:R({value:P,index:I}),F=Array.isArray(c)?c[I]:c,C=Array.isArray(d)?d[I]:d;return e.element({...He.thumb.attrs,dir:s("dir"),"data-index":I,"data-name":O,id:Oc(o,I),"data-disabled":Et(p),"data-orientation":s("orientation"),"data-focus":Et(u&&g===I),"data-dragging":Et(l&&g===I),draggable:!1,"aria-disabled":Ef(p),"aria-label":F,"aria-labelledby":C??qo(o),"aria-orientation":s("orientation"),"aria-valuemax":A.max,"aria-valuemin":A.min,"aria-valuenow":f[I],"aria-valuetext":M,role:"slider",tabIndex:p?void 0:0,style:Zo(t,I),onPointerDown(m){b&&(r({type:"THUMB_POINTER_DOWN",index:I}),m.stopPropagation())},onBlur(){b&&r({type:"BLUR"})},onFocus(){b&&r({type:"FOCUS",index:I})},onKeyDown(m){if(m.defaultPrevented||!b)return;const N=nh(m)*s("step"),V={ArrowUp(){v||r({type:"ARROW_INC",step:N,src:"ArrowUp"})},ArrowDown(){v||r({type:"ARROW_DEC",step:N,src:"ArrowDown"})},ArrowLeft(){y||r({type:"ARROW_DEC",step:N,src:"ArrowLeft"})},ArrowRight(){y||r({type:"ARROW_INC",step:N,src:"ArrowRight"})},PageUp(){r({type:"ARROW_INC",step:N,src:"PageUp"})},PageDown(){r({type:"ARROW_DEC",step:N,src:"PageDown"})},Home(){r({type:"HOME"})},End(){r({type:"END"})}},U=Qf(m,{dir:s("dir"),orientation:s("orientation")}),G=V[U];G&&(G(m),m.preventDefault(),m.stopPropagation())}})},getHiddenInputProps(k){const{index:I=0,name:O}=k;return e.input({name:O??(s("name")?s("name")+(f.length>1?"[]":""):void 0),form:s("form"),type:"text",hidden:!0,defaultValue:f[I],id:ms(o,I)})},getRangeProps(){return e.element({id:Hv(o),...He.range.attrs,dir:s("dir"),"data-dragging":Et(l),"data-focus":Et(u),"data-invalid":Et(h),"data-disabled":Et(p),"data-orientation":s("orientation"),style:Jv(t)})},getControlProps(){return e.element({...He.control.attrs,dir:s("dir"),id:Rc(o),"data-dragging":Et(l),"data-disabled":Et(p),"data-orientation":s("orientation"),"data-invalid":Et(h),"data-focus":Et(u),style:np(),onPointerDown(k){if(!b||!Zf(k)||Xf(k))return;const I=Ms(k);r({type:"POINTER_DOWN",point:I}),k.preventDefault(),k.stopPropagation()}})},getMarkerGroupProps(){return e.element({...He.markerGroup.attrs,role:"presentation",dir:s("dir"),"aria-hidden":!0,"data-orientation":s("orientation"),style:ap()})},getMarkerProps(k){const I=ip(t,k.value);let O;return k.value<Ah(f)?O="under-value":k.value>Oh(f)?O="over-value":O="at-value",e.element({...He.marker.attrs,id:jv(o,k.value),role:"presentation",dir:s("dir"),"data-orientation":s("orientation"),"data-value":k.value,"data-disabled":Et(p),"data-state":O,style:I})},getDraggingIndicatorProps(k){const{index:I=0}=k,O=I===g&&l;return e.element({...He.draggingIndicator.attrs,role:"presentation",dir:s("dir"),hidden:!O,"data-orientation":s("orientation"),"data-state":O?"open":"closed",style:Zo(t,I)})}}}var dp=(t,e)=>(t==null?void 0:t.width)===(e==null?void 0:e.width)&&(t==null?void 0:t.height)===(e==null?void 0:e.height),Ko=(t,e,n,r,i)=>_c(t,e,n,i*r).map(a=>{const o=Ws(a.value,a.min,a.max,r),c=ri(o,a.min,a.max);if(!jh(c,e,n))throw new Error("[zag-js/slider] The configured `min`, `max`, `step` or `minStepsBetweenThumbs` values are invalid");return c}),fp={props({props:t}){const e=t.min??0,n=t.max??100,r=t.step??1,i=t.defaultValue??[e],s=t.minStepsBetweenThumbs??0;return{dir:"ltr",thumbAlignment:"contain",origin:"start",orientation:"horizontal",minStepsBetweenThumbs:s,...t,defaultValue:Ko(i,e,n,r,s),value:t.value?Ko(t.value,e,n,r,s):void 0,max:n,step:r,min:e}},initialState(){return"idle"},context({prop:t,bindable:e,getContext:n}){return{thumbSize:e(()=>({defaultValue:t("thumbSize")||null})),value:e(()=>({defaultValue:t("defaultValue"),value:t("value"),isEqual:ea,hash(r){return r.join(",")},onChange(r){var i;(i=t("onValueChange"))==null||i({value:r})}})),focusedIndex:e(()=>({defaultValue:-1,onChange(r){var s;const i=n();(s=t("onFocusChange"))==null||s({focusedIndex:r,value:i.get("value")})}})),fieldsetDisabled:e(()=>({defaultValue:!1}))}},computed:{isHorizontal:({prop:t})=>t("orientation")==="horizontal",isVertical:({prop:t})=>t("orientation")==="vertical",isRtl:({prop:t})=>t("orientation")==="horizontal"&&t("dir")==="rtl",isDisabled:({context:t,prop:e})=>!!e("disabled")||t.get("fieldsetDisabled"),isInteractive:({prop:t,computed:e})=>!(t("readOnly")||e("isDisabled")),hasMeasuredThumbSize:({context:t})=>t.get("thumbSize")!=null,valuePercent({context:t,prop:e}){return t.get("value").map(n=>100*Hs(n,e("min"),e("max")))}},watch({track:t,action:e,context:n}){t([()=>n.hash("value")],()=>{e(["syncInputElements","dispatchChangeEvent"])})},effects:["trackFormControlState","trackThumbSize"],on:{SET_VALUE:[{guard:"hasIndex",actions:["setValueAtIndex"]},{actions:["setValue"]}],INCREMENT:{actions:["incrementThumbAtIndex"]},DECREMENT:{actions:["decrementThumbAtIndex"]}},states:{idle:{on:{POINTER_DOWN:{target:"dragging",actions:["setClosestThumbIndex","setPointerValue","focusActiveThumb"]},FOCUS:{target:"focus",actions:["setFocusedIndex"]},THUMB_POINTER_DOWN:{target:"dragging",actions:["setFocusedIndex","focusActiveThumb"]}}},focus:{entry:["focusActiveThumb"],on:{POINTER_DOWN:{target:"dragging",actions:["setClosestThumbIndex","setPointerValue","focusActiveThumb"]},THUMB_POINTER_DOWN:{target:"dragging",actions:["setFocusedIndex","focusActiveThumb"]},ARROW_DEC:{actions:["decrementThumbAtIndex","invokeOnChangeEnd"]},ARROW_INC:{actions:["incrementThumbAtIndex","invokeOnChangeEnd"]},HOME:{actions:["setFocusedThumbToMin","invokeOnChangeEnd"]},END:{actions:["setFocusedThumbToMax","invokeOnChangeEnd"]},BLUR:{target:"idle",actions:["clearFocusedIndex"]}}},dragging:{entry:["focusActiveThumb"],effects:["trackPointerMove"],on:{POINTER_UP:{target:"focus",actions:["invokeOnChangeEnd"]},POINTER_MOVE:{actions:["setPointerValue"]}}}},implementations:{guards:{hasIndex:({event:t})=>t.index!=null},effects:{trackFormControlState({context:t,scope:e}){return Vs($v(e),{onFieldsetDisabledChange(n){t.set("fieldsetDisabled",n)},onFormReset(){t.set("value",t.initial("value"))}})},trackPointerMove({scope:t,send:e}){return _h(t.getDoc(),{onPointerMove(n){e({type:"POINTER_MOVE",point:n.point})},onPointerUp(){e({type:"POINTER_UP"})}})},trackThumbSize({context:t,scope:e,prop:n}){if(!(n("thumbAlignment")!=="contain"||n("thumbSize")))return pc(Pc(e),{box:"border-box",measure(r){return Kv(r)},onEntry({rects:r}){if(r.length===0)return;const i=Xh(r[0],["width","height"]);dp(t.get("thumbSize"),i)||t.set("thumbSize",i)}})}},actions:{dispatchChangeEvent({context:t,scope:e}){Zv(e,t.get("value"))},syncInputElements({context:t,scope:e}){t.get("value").forEach((n,r)=>{const i=Lc(e,r);cc(i,n.toString())})},invokeOnChangeEnd({prop:t,context:e}){queueMicrotask(()=>{var n;(n=t("onValueChangeEnd"))==null||n({value:e.get("value")})})},setClosestThumbIndex(t){const{context:e,event:n}=t,r=Go(t,n.point);if(r==null)return;const i=cp(t,r);e.set("focusedIndex",i)},setFocusedIndex({context:t,event:e}){t.set("focusedIndex",e.index)},clearFocusedIndex({context:t}){t.set("focusedIndex",-1)},setPointerValue(t){queueMicrotask(()=>{const{context:e,event:n}=t,r=Go(t,n.point);if(r==null)return;const i=e.get("focusedIndex"),s=bs(t,r,i);e.set("value",a=>Ar(a,i,s))})},focusActiveThumb({scope:t,context:e}){Ce(()=>{const n=qv(t,e.get("focusedIndex"));n==null||n.focus({preventScroll:!0})})},decrementThumbAtIndex(t){const{context:e,event:n}=t,r=op(t,n.index,n.step);e.set("value",r)},incrementThumbAtIndex(t){const{context:e,event:n}=t,r=lp(t,n.index,n.step);e.set("value",r)},setFocusedThumbToMin(t){const{context:e}=t,n=e.get("focusedIndex"),{min:r}=Sn(t,n);e.set("value",i=>Ar(i,n,r))},setFocusedThumbToMax(t){const{context:e}=t,n=e.get("focusedIndex"),{max:r}=Sn(t,n);e.set("value",i=>Ar(i,n,r))},setValueAtIndex(t){const{context:e,event:n}=t,r=bs(t,n.value,n.index);e.set("value",i=>Ar(i,n.index,r))},setValue(t){const{context:e,event:n}=t,r=sp(t,n.value);e.set("value",r)}}}};br()(["aria-label","aria-labelledby","dir","disabled","form","getAriaValueText","getRootNode","id","ids","invalid","max","min","minStepsBetweenThumbs","name","onFocusChange","onValueChange","onValueChangeEnd","orientation","origin","readOnly","step","thumbAlignment","thumbAlignment","thumbSize","value","defaultValue"]);br()(["index","name"]);var hp=dt('<div><div data-testid="slider-thumb"></div> <input/></div>'),vp=dt("<span><!></span>"),pp=dt("<div></div>"),gp=dt('<div><div><div><div></div></div> <div style="display: flex; align-items: center; transform: translateY(-100%);" data-testid="slider-thumb-wrapper"></div></div> <!></div>');function zc(t,e){const n=ji();gt(e,!0);const r=W(e,"markers",19,()=>[]),i=W(e,"height",3,"h-1.5"),s=W(e,"base",3,"w-full bg-green"),a=W(e,"spaceY",3,""),o=W(e,"classes",3,""),c=W(e,"controlBase",3,""),d=W(e,"controlClasses",3,""),f=W(e,"trackBase",3,"overflow-hidden"),g=W(e,"trackBg",3,"bg-surface-200-800"),u=W(e,"trackRounded",3,"rounded-full"),l=W(e,"trackClasses",3,""),p=W(e,"meterBase",3,""),h=W(e,"meterBg",3,"bg-surface-950-50"),b=W(e,"meterRounded",3,"rounded-container"),v=W(e,"meterClasses",3,""),y=W(e,"thumbBase",3,"ring-inset transition-scale duration-100 ease-in-out"),x=W(e,"thumbSize",3,"size-8 md:size-5"),E=W(e,"thumbBg",3,"bg-surface-50-950"),k=W(e,"thumbRingSize",3,"ring-2"),I=W(e,"thumbRingColor",3,"ring-surface-950-50"),O=W(e,"thumbRounded",3,"rounded-full"),P=W(e,"thumbCursor",3,"hover:cursor-pointer"),A=W(e,"thumbClasses",3,""),M=W(e,"markersBase",3,""),F=W(e,"markersClasses",3,""),C=W(e,"markBase",3,""),R=W(e,"markText",3,"text-[10px]"),m=W(e,"markOpacity",3,"opacity-50"),N=W(e,"markClasses",3,""),V=W(e,"stateDisabled",3,"disabled"),U=W(e,"stateReadOnly",3,"cursor-not-allowed"),G=Dt(e,["$$slots","$$events","$$legacy","markers","height","base","spaceY","classes","controlBase","controlClasses","trackBase","trackBg","trackRounded","trackClasses","meterBase","meterBg","meterRounded","meterClasses","thumbBase","thumbSize","thumbBg","thumbRingSize","thumbRingColor","thumbRounded","thumbCursor","thumbClasses","markersBase","markersClasses","markBase","markText","markOpacity","markClasses","stateDisabled","stateReadOnly","mark"]),$=ra(fp,()=>({id:n,...G})),nt=ct(()=>up($,na)),L=ct(()=>$.prop("disabled")?V():""),z=ct(()=>$.prop("readOnly")?U():P());var st=gp();$t(st,bt=>({...bt,class:`${s()??""} ${i()??""} ${a()??""} ${w(L)??""} ${o()??""}`,"data-testid":"slider"}),[()=>w(nt).getRootProps()]);var at=q(st);$t(at,bt=>({...bt,class:`${c()??""} ${d()??""}`,"data-testid":"slider-control"}),[()=>w(nt).getControlProps()]);var Z=q(at);$t(Z,bt=>({...bt,class:`${f()??""} ${g()??""} ${i()??""} ${u()??""} ${l()??""}`,"data-testid":"slider-track"}),[()=>w(nt).getTrackProps()]);var xt=q(Z);$t(xt,bt=>({...bt,class:`${p()??""} ${i()??""} ${h()??""} ${b()??""} ${v()??""}`,"data-testid":"slider-meter"}),[()=>w(nt).getRangeProps()]),j(Z);var St=Y(Z,2);de(St,21,()=>w(nt).value,ue,(bt,Tt,Ut)=>{var zt=hp();$t(zt,B=>({...B}),[()=>w(nt).getThumbProps({index:Ut})]);var _=q(zt),X=Y(_,2);qt(X),$t(X,B=>({...B,"data-testid":"slider-input"}),[()=>w(nt).getHiddenInputProps({index:Ut})]),j(zt),At(()=>re(_,1,`${y()??""} ${x()??""} ${E()??""} ${k()??""} ${I()??""} ${O()??""} ${w(z)??""} ${A()??""}`)),tt(bt,zt)}),j(St),j(at);var vt=Y(at,2);{var kt=bt=>{var Tt=pp();$t(Tt,Ut=>({...Ut,class:`${M()??""} ${F()??""}`,"data-testid":"slider-markers"}),[()=>w(nt).getMarkerGroupProps()]),de(Tt,21,r,ue,(Ut,zt)=>{var _=vp();$t(_,S=>({...S,class:`${C()??""} ${R()??""} ${m()??""} ${N()??""}`,"data-testid":"slider-mark"}),[()=>w(nt).getMarkerProps({value:w(zt)})]);var X=q(_);{var B=S=>{var D=Ct(),K=pt(D);Rt(K,()=>e.mark,()=>w(zt)),tt(S,D)},T=S=>{var D=gr();At(()=>se(D,w(zt))),tt(S,D)};Lt(X,S=>{e.mark?S(B):S(T,!1)})}j(_),tt(Ut,_)}),j(Tt),tt(bt,Tt)};Lt(vt,bt=>{r().length>0&&bt(kt)})}j(st),At(()=>re(St,1,Ha(i()))),tt(t,st),mt()}var mp=jn("switch").parts("root","label","control","thumb"),ui=mp.build(),Bc=t=>{var e;return((e=t.ids)==null?void 0:e.root)??`switch:${t.id}`},Xo=t=>{var e;return((e=t.ids)==null?void 0:e.label)??`switch:${t.id}:label`},bp=t=>{var e;return((e=t.ids)==null?void 0:e.thumb)??`switch:${t.id}:thumb`},yp=t=>{var e;return((e=t.ids)==null?void 0:e.control)??`switch:${t.id}:control`},ys=t=>{var e;return((e=t.ids)==null?void 0:e.hiddenInput)??`switch:${t.id}:input`},_p=t=>t.getById(Bc(t)),or=t=>t.getById(ys(t));function wp(t,e){const{context:n,send:r,prop:i,scope:s}=t,a=i("disabled"),o=i("readOnly"),c=!!n.get("checked"),d=!a&&n.get("focused"),f=!a&&n.get("focusVisible"),g={"data-active":Et(n.get("active")),"data-focus":Et(d),"data-focus-visible":Et(f),"data-readonly":Et(o),"data-hover":Et(n.get("hovered")),"data-disabled":Et(a),"data-state":c?"checked":"unchecked","data-invalid":Et(i("invalid"))};return{checked:c,disabled:a,focused:d,setChecked(u){r({type:"CHECKED.SET",checked:u,isTrusted:!1})},toggleChecked(){r({type:"CHECKED.TOGGLE",checked:c,isTrusted:!1})},getRootProps(){return e.label({...ui.root.attrs,...g,dir:i("dir"),id:Bc(s),htmlFor:ys(s),onPointerMove(){a||r({type:"CONTEXT.SET",context:{hovered:!0}})},onPointerLeave(){a||r({type:"CONTEXT.SET",context:{hovered:!1}})},onClick(u){var p;if(a)return;ke(u)===or(s)&&u.stopPropagation(),Bs()&&((p=or(s))==null||p.focus())}})},getLabelProps(){return e.element({...ui.label.attrs,...g,dir:i("dir"),id:Xo(s)})},getThumbProps(){return e.element({...ui.thumb.attrs,...g,dir:i("dir"),id:bp(s),"aria-hidden":!0})},getControlProps(){return e.element({...ui.control.attrs,...g,dir:i("dir"),id:yp(s),"aria-hidden":!0})},getHiddenInputProps(){return e.input({id:ys(s),type:"checkbox",required:i("required"),defaultChecked:c,disabled:a,"aria-labelledby":Xo(s),"aria-invalid":i("invalid"),name:i("name"),form:i("form"),value:i("value"),style:gc,onFocus(){const u=Fi();r({type:"CONTEXT.SET",context:{focused:!0,focusVisible:u}})},onBlur(){r({type:"CONTEXT.SET",context:{focused:!1,focusVisible:!1}})},onClick(u){if(o){u.preventDefault();return}const l=u.currentTarget.checked;r({type:"CHECKED.SET",checked:l,isTrusted:!0})}})}}}var{not:Yo}=wc(),xp={props({props:t}){return{defaultChecked:!1,label:"switch",value:"on",...t}},initialState(){return"ready"},context({prop:t,bindable:e}){return{checked:e(()=>({defaultValue:t("defaultChecked"),value:t("checked"),onChange(n){var r;(r=t("onCheckedChange"))==null||r({checked:n})}})),fieldsetDisabled:e(()=>({defaultValue:!1})),focusVisible:e(()=>({defaultValue:!1})),active:e(()=>({defaultValue:!1})),focused:e(()=>({defaultValue:!1})),hovered:e(()=>({defaultValue:!1}))}},computed:{isDisabled:({context:t,prop:e})=>e("disabled")||t.get("fieldsetDisabled")},watch({track:t,prop:e,context:n,action:r}){t([()=>e("disabled")],()=>{r(["removeFocusIfNeeded"])}),t([()=>n.get("checked")],()=>{r(["syncInputElement"])})},effects:["trackFormControlState","trackPressEvent","trackFocusVisible"],on:{"CHECKED.TOGGLE":[{guard:Yo("isTrusted"),actions:["toggleChecked","dispatchChangeEvent"]},{actions:["toggleChecked"]}],"CHECKED.SET":[{guard:Yo("isTrusted"),actions:["setChecked","dispatchChangeEvent"]},{actions:["setChecked"]}],"CONTEXT.SET":{actions:["setContext"]}},states:{ready:{}},implementations:{guards:{isTrusted:({event:t})=>!!t.isTrusted},effects:{trackPressEvent({computed:t,scope:e,context:n}){if(!t("isDisabled"))return wh({pointerNode:_p(e),keyboardNode:or(e),isValidKey:r=>r.key===" ",onPress:()=>n.set("active",!1),onPressStart:()=>n.set("active",!0),onPressEnd:()=>n.set("active",!1)})},trackFocusVisible({computed:t,scope:e}){if(!t("isDisabled"))return Sc({root:e.getRootNode()})},trackFormControlState({context:t,send:e,scope:n}){return Vs(or(n),{onFieldsetDisabledChange(r){t.set("fieldsetDisabled",r)},onFormReset(){const r=t.initial("checked");e({type:"CHECKED.SET",checked:!!r,src:"form-reset"})}})}},actions:{setContext({context:t,event:e}){for(const n in e.context)t.set(n,e.context[n])},syncInputElement({context:t,scope:e}){const n=or(e);n&&uc(n,!!t.get("checked"))},removeFocusIfNeeded({context:t,prop:e}){e("disabled")&&t.set("focused",!1)},setChecked({context:t,event:e}){t.set("checked",e.checked)},toggleChecked({context:t}){t.set("checked",!t.get("checked"))},dispatchChangeEvent({context:t,scope:e}){const n=or(e);dc(n,{checked:t.get("checked")})}}}};br()(["checked","defaultChecked","dir","disabled","form","getRootNode","id","ids","invalid","label","name","onCheckedChange","readOnly","required","value"]);var kp=dt('<span data-testid="switch-icon-inactive"><!></span>'),Ep=dt('<span data-testid="switch-icon-active"><!></span>'),Cp=dt("<span><!></span>"),Sp=dt("<label><input/> <span><span><!> <!></span></span> <!></label>");function Dn(t,e){const n=ji();gt(e,!0);const r=W(e,"compact",3,!1),i=W(e,"base",3,"inline-flex items-center gap-4"),s=W(e,"classes",3,""),a=W(e,"stateFocused",3,"data-[focus-visible]:focused"),o=W(e,"controlBase",3,"cursor-pointer transition duration-200"),c=W(e,"controlInactive",3,"preset-filled-surface-200-800"),d=W(e,"controlActive",3,"preset-filled-primary-500"),f=W(e,"controlDisabled",3,"opacity-50 cursor-not-allowed"),g=W(e,"controlWidth",3,"w-10"),u=W(e,"controlHeight",3,"h-6"),l=W(e,"controlPadding",3,"p-0.5"),p=W(e,"controlRounded",3,"rounded-full"),h=W(e,"controlHover",3,"hover:brightness-90 dark:hover:brightness-110"),b=W(e,"controlClasses",3,""),v=W(e,"thumbBase",3,"right-0 aspect-square h-full flex justify-center items-center text-right cursor-pointer"),y=W(e,"thumbInactive",3,"preset-filled-surface-50-950"),x=W(e,"thumbActive",3,"bg-surface-50 text-surface-contrast-50"),E=W(e,"thumbRounded",3,"rounded-full"),k=W(e,"thumbTranslateX",3,"translate-x-4 rtl:-translate-x-4"),I=W(e,"thumbTransition",3,"transition"),O=W(e,"thumbEase",3,"ease-in-out"),P=W(e,"thumbDuration",3,"duration-200"),A=W(e,"thumbClasses",3,""),M=W(e,"labelBase",3,""),F=W(e,"labelClasses",3,""),C=W(e,"iconInactiveBase",3,"pointer-events-none"),R=W(e,"iconActiveBase",3,"pointer-events-none"),m=Dt(e,["$$slots","$$events","$$legacy","compact","base","classes","stateFocused","controlBase","controlInactive","controlActive","controlDisabled","controlWidth","controlHeight","controlPadding","controlRounded","controlHover","controlClasses","thumbBase","thumbInactive","thumbActive","thumbRounded","thumbTranslateX","thumbTransition","thumbEase","thumbDuration","thumbClasses","labelBase","labelClasses","iconInactiveBase","iconActiveBase","children","inactiveChild","activeChild"]),N=ra(xp,()=>({id:n,...m})),V=ct(()=>wp(N,na)),U=ct(()=>r()?v():o()),G=ct(()=>r()?"":u()),$=ct(()=>r()?"":l()),nt=ct(()=>r()?c():y()),L=ct(()=>r()?d():x()),z=ct(()=>r()?"":k()),st=ct(()=>w(V).checked?d():c()),at=ct(()=>w(V).checked?`${w(L)} ${w(z)}`:w(nt)),Z=ct(()=>w(V).disabled?f():""),xt=ct(()=>w(V).focused?a():"");var St=Sp();$t(St,T=>({...T,class:`${i()??""} ${s()??""}`,"data-testid":"switch"}),[()=>w(V).getRootProps()]);var vt=q(St);qt(vt),$t(vt,T=>({...T,"data-testid":"switch-input"}),[()=>w(V).getHiddenInputProps()]);var kt=Y(vt,2);$t(kt,T=>({...T,class:`${w(U)??""} ${w(st)??""} ${w(xt)??""} ${g()??""} ${w(G)??""} ${w($)??""} ${p()??""} ${h()??""} ${w(Z)??""} ${b()??""}`,"data-testid":"switch-control"}),[()=>w(V).getControlProps()]);var bt=q(kt);$t(bt,T=>({...T,class:`${v()??""} ${w(at)??""} ${E()??""} ${I()??""} ${O()??""} ${P()??""} ${A()??""}`,"data-testid":"switch-thumb"}),[()=>w(V).getThumbProps()]);var Tt=q(bt);{var Ut=T=>{var S=kp(),D=q(S);Rt(D,()=>e.inactiveChild),j(S),At(()=>re(S,1,Ha(C()))),tt(T,S)};Lt(Tt,T=>{!w(V).checked&&e.inactiveChild&&T(Ut)})}var zt=Y(Tt,2);{var _=T=>{var S=Ep(),D=q(S);Rt(D,()=>e.activeChild),j(S),At(()=>re(S,1,Ha(R()))),tt(T,S)};Lt(zt,T=>{w(V).checked&&e.activeChild&&T(_)})}j(bt),j(kt);var X=Y(kt,2);{var B=T=>{var S=Cp();$t(S,K=>({...K,class:`${M()??""} ${F()??""}`,"data-testid":"switch-label"}),[()=>w(V).getLabelProps()]);var D=q(S);Rt(D,()=>e.children),j(S),tt(T,S)};Lt(X,T=>{e.children&&T(B)})}j(St),tt(t,St),mt()}var Mi;Mi=ia({fluid:!1,api:{}}),Mi[0];Mi[1];Mi[2];function Tp(t){const e={each(n){var r;for(let i=0;i<((r=t.frames)==null?void 0:r.length);i+=1){const s=t.frames[i];s&&n(s)}},addEventListener(n,r,i){return e.each(s=>{try{s.document.addEventListener(n,r,i)}catch{}}),()=>{try{e.removeEventListener(n,r,i)}catch{}}},removeEventListener(n,r,i){e.each(s=>{try{s.document.removeEventListener(n,r,i)}catch{}})}};return e}function Ip(t){const e=t.frameElement!=null?t.parent:null;return{addEventListener:(n,r,i)=>{try{e==null||e.addEventListener(n,r,i)}catch{}return()=>{try{e==null||e.removeEventListener(n,r,i)}catch{}}},removeEventListener:(n,r,i)=>{try{e==null||e.removeEventListener(n,r,i)}catch{}}}}var Jo="pointerdown.outside",Qo="focus.outside";function Ap(t){for(const e of t)if(ie(e)&&Cn(e))return!0;return!1}var Mc=t=>"clientY"in t;function Op(t,e){if(!Mc(e)||!t)return!1;const n=t.getBoundingClientRect();return n.width===0||n.height===0?!1:n.top<=e.clientY&&e.clientY<=n.top+n.height&&n.left<=e.clientX&&e.clientX<=n.left+n.width}function Rp(t,e){return t.y<=e.y&&e.y<=t.y+t.height&&t.x<=e.x&&e.x<=t.x+t.width}function tl(t,e){if(!e||!Mc(t))return!1;const n=e.scrollHeight>e.clientHeight,r=n&&t.clientX>e.offsetLeft+e.clientWidth,i=e.scrollWidth>e.clientWidth,s=i&&t.clientY>e.offsetTop+e.clientHeight,a={x:e.offsetLeft,y:e.offsetTop,width:e.clientWidth+(n?16:0),height:e.clientHeight+(i?16:0)},o={x:t.clientX,y:t.clientY};return Rp(a,o)?r||s:!1}function Pp(t,e){const{exclude:n,onFocusOutside:r,onPointerDownOutside:i,onInteractOutside:s,defer:a}=e;if(!t)return;const o=Te(t),c=oe(t),d=Tp(c),f=Ip(c);function g(y,x){if(!ie(x)||!x.isConnected||jr(t,x)||Op(t,y))return!1;const E=o.querySelector(`[aria-controls="${t.id}"]`);if(E){const I=os(E);if(tl(y,I))return!1}const k=os(t);return tl(y,k)?!1:!(n!=null&&n(x))}const u=new Set,l=Wr(t==null?void 0:t.getRootNode());function p(y){function x(E){var P;const k=a&&!Do()?Ce:A=>A(),I=E??y,O=((P=I==null?void 0:I.composedPath)==null?void 0:P.call(I))??[I==null?void 0:I.target];k(()=>{const A=l?O[0]:ke(y);if(!(!t||!g(y,A))){if(i||s){const M=us(i,s);t.addEventListener(Jo,M,{once:!0})}el(t,Jo,{bubbles:!1,cancelable:!0,detail:{originalEvent:I,contextmenu:Kf(I),focusable:Ap(O),target:A}})}})}y.pointerType==="touch"?(u.forEach(E=>E()),u.add(Xt(o,"click",x,{once:!0})),u.add(f.addEventListener("click",x,{once:!0})),u.add(d.addEventListener("click",x,{once:!0}))):x()}const h=new Set,b=setTimeout(()=>{h.add(Xt(o,"pointerdown",p,!0)),h.add(f.addEventListener("pointerdown",p,!0)),h.add(d.addEventListener("pointerdown",p,!0))},0);function v(y){(a?Ce:E=>E())(()=>{const E=ke(y);if(!(!t||!g(y,E))){if(r||s){const k=us(r,s);t.addEventListener(Qo,k,{once:!0})}el(t,Qo,{bubbles:!1,cancelable:!0,detail:{originalEvent:y,contextmenu:!1,focusable:Cn(E),target:E}})}})}return Do()||(h.add(Xt(o,"focusin",v,!0)),h.add(f.addEventListener("focusin",v,!0)),h.add(d.addEventListener("focusin",v,!0))),()=>{clearTimeout(b),u.forEach(y=>y()),h.forEach(y=>y())}}function Lp(t,e){const{defer:n}=e,r=n?Ce:s=>s(),i=[];return i.push(r(()=>{const s=typeof t=="function"?t():t;i.push(Pp(s,e))})),()=>{i.forEach(s=>s==null?void 0:s())}}function el(t,e,n){const r=t.ownerDocument.defaultView||window,i=new r.CustomEvent(e,n);return t.dispatchEvent(i)}function Dp(t,e){const n=r=>{r.key==="Escape"&&(r.isComposing||e==null||e(r))};return Xt(Te(t),"keydown",n,{capture:!0})}var Re={layers:[],branches:[],count(){return this.layers.length},pointerBlockingLayers(){return this.layers.filter(t=>t.pointerBlocking)},topMostPointerBlockingLayer(){return[...this.pointerBlockingLayers()].slice(-1)[0]},hasPointerBlockingLayer(){return this.pointerBlockingLayers().length>0},isBelowPointerBlockingLayer(t){var r;const e=this.indexOf(t),n=this.topMostPointerBlockingLayer()?this.indexOf((r=this.topMostPointerBlockingLayer())==null?void 0:r.node):-1;return e<n},isTopMost(t){const e=this.layers[this.count()-1];return(e==null?void 0:e.node)===t},getNestedLayers(t){return Array.from(this.layers).slice(this.indexOf(t)+1)},isInNestedLayer(t,e){return this.getNestedLayers(t).some(n=>jr(n.node,e))},isInBranch(t){return Array.from(this.branches).some(e=>jr(e,t))},add(t){const e=this.layers.push(t);t.node.style.setProperty("--layer-index",`${e}`)},addBranch(t){this.branches.push(t)},remove(t){const e=this.indexOf(t);e<0||(e<this.count()-1&&this.getNestedLayers(t).forEach(r=>r.dismiss()),this.layers.splice(e,1),t.style.removeProperty("--layer-index"))},removeBranch(t){const e=this.branches.indexOf(t);e>=0&&this.branches.splice(e,1)},indexOf(t){return this.layers.findIndex(e=>e.node===t)},dismiss(t){var e;(e=this.layers[this.indexOf(t)])==null||e.dismiss()},clear(){this.remove(this.layers[0].node)}},nl;function rl(){Re.layers.forEach(({node:t})=>{t.style.pointerEvents=Re.isBelowPointerBlockingLayer(t)?"none":"auto"})}function Np(t){t.style.pointerEvents=""}function Fp(t,e){const n=Te(t),r=[];if(Re.hasPointerBlockingLayer()&&!n.body.hasAttribute("data-inert")&&(nl=document.body.style.pointerEvents,queueMicrotask(()=>{n.body.style.pointerEvents="none",n.body.setAttribute("data-inert","")})),e){const i=Th(e,s=>{r.push(cs(s,{pointerEvents:"auto"}))});r.push(i)}return()=>{Re.hasPointerBlockingLayer()||(queueMicrotask(()=>{n.body.style.pointerEvents=nl,n.body.removeAttribute("data-inert"),n.body.style.length===0&&n.body.removeAttribute("style")}),r.forEach(i=>i()))}}function zp(t,e){const{warnOnMissingNode:n=!0}=e;if(n&&!t){hs("[@zag-js/dismissable] node is `null` or `undefined`");return}if(!t)return;const{onDismiss:r,pointerBlocking:i,exclude:s,debug:a}=e,o={dismiss:r,node:t,pointerBlocking:i};Re.add(o),rl();function c(l){var h,b;const p=ke(l.detail.originalEvent);Re.isBelowPointerBlockingLayer(t)||Re.isInBranch(p)||((h=e.onPointerDownOutside)==null||h.call(e,l),(b=e.onInteractOutside)==null||b.call(e,l),!l.defaultPrevented&&(a&&console.log("onPointerDownOutside:",l.detail.originalEvent),r==null||r()))}function d(l){var h,b;const p=ke(l.detail.originalEvent);Re.isInBranch(p)||((h=e.onFocusOutside)==null||h.call(e,l),(b=e.onInteractOutside)==null||b.call(e,l),!l.defaultPrevented&&(a&&console.log("onFocusOutside:",l.detail.originalEvent),r==null||r()))}function f(l){var p;Re.isTopMost(t)&&((p=e.onEscapeKeyDown)==null||p.call(e,l),!l.defaultPrevented&&r&&(l.preventDefault(),r()))}function g(l){var v;if(!t)return!1;const p=typeof s=="function"?s():s,h=Array.isArray(p)?p:[p],b=(v=e.persistentElements)==null?void 0:v.map(y=>y()).filter(ie);return b&&h.push(...b),h.some(y=>jr(y,l))||Re.isInNestedLayer(t,l)}const u=[i?Fp(t,e.persistentElements):void 0,Dp(t,f),Lp(t,{exclude:g,onFocusOutside:d,onPointerDownOutside:c,defer:e.defer})];return()=>{Re.remove(t),rl(),Np(t),u.forEach(l=>l==null?void 0:l())}}function Bp(t,e){const{defer:n}=e,r=n?Ce:s=>s(),i=[];return i.push(r(()=>{const s=Bn(t)?t():t;i.push(zp(s,e))})),()=>{i.forEach(s=>s==null?void 0:s())}}const Mp=["top","right","bottom","left"],In=Math.min,be=Math.max,Vi=Math.round,di=Math.floor,Ze=t=>({x:t,y:t}),Vp={left:"right",right:"left",bottom:"top",top:"bottom"},Up={start:"end",end:"start"};function _s(t,e,n){return be(t,In(e,n))}function pn(t,e){return typeof t=="function"?t(e):t}function gn(t){return t.split("-")[0]}function yr(t){return t.split("-")[1]}function $s(t){return t==="x"?"y":"x"}function qs(t){return t==="y"?"height":"width"}function qe(t){return["top","bottom"].includes(gn(t))?"y":"x"}function Gs(t){return $s(qe(t))}function Hp(t,e,n){n===void 0&&(n=!1);const r=yr(t),i=Gs(t),s=qs(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=Ui(a)),[a,Ui(a)]}function Wp(t){const e=Ui(t);return[ws(t),e,ws(e)]}function ws(t){return t.replace(/start|end/g,e=>Up[e])}function jp(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],a=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:a;default:return[]}}function $p(t,e,n,r){const i=yr(t);let s=jp(gn(t),n==="start",r);return i&&(s=s.map(a=>a+"-"+i),e&&(s=s.concat(s.map(ws)))),s}function Ui(t){return t.replace(/left|right|bottom|top/g,e=>Vp[e])}function qp(t){return{top:0,right:0,bottom:0,left:0,...t}}function Vc(t){return typeof t!="number"?qp(t):{top:t,right:t,bottom:t,left:t}}function Hi(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function il(t,e,n){let{reference:r,floating:i}=t;const s=qe(e),a=Gs(e),o=qs(a),c=gn(e),d=s==="y",f=r.x+r.width/2-i.width/2,g=r.y+r.height/2-i.height/2,u=r[o]/2-i[o]/2;let l;switch(c){case"top":l={x:f,y:r.y-i.height};break;case"bottom":l={x:f,y:r.y+r.height};break;case"right":l={x:r.x+r.width,y:g};break;case"left":l={x:r.x-i.width,y:g};break;default:l={x:r.x,y:r.y}}switch(yr(e)){case"start":l[a]-=u*(n&&d?-1:1);break;case"end":l[a]+=u*(n&&d?-1:1);break}return l}const Gp=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=n,o=s.filter(Boolean),c=await(a.isRTL==null?void 0:a.isRTL(e));let d=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:f,y:g}=il(d,r,c),u=r,l={},p=0;for(let h=0;h<o.length;h++){const{name:b,fn:v}=o[h],{x:y,y:x,data:E,reset:k}=await v({x:f,y:g,initialPlacement:r,placement:u,strategy:i,middlewareData:l,rects:d,platform:a,elements:{reference:t,floating:e}});f=y??f,g=x??g,l={...l,[b]:{...l[b],...E}},k&&p<=50&&(p++,typeof k=="object"&&(k.placement&&(u=k.placement),k.rects&&(d=k.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):k.rects),{x:f,y:g}=il(d,u,c)),h=-1)}return{x:f,y:g,placement:u,strategy:i,middlewareData:l}};async function qr(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:a,elements:o,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:g="floating",altBoundary:u=!1,padding:l=0}=pn(e,t),p=Vc(l),b=o[u?g==="floating"?"reference":"floating":g],v=Hi(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(b)))==null||n?b:b.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:d,rootBoundary:f,strategy:c})),y=g==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,x=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),E=await(s.isElement==null?void 0:s.isElement(x))?await(s.getScale==null?void 0:s.getScale(x))||{x:1,y:1}:{x:1,y:1},k=Hi(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:y,offsetParent:x,strategy:c}):y);return{top:(v.top-k.top+p.top)/E.y,bottom:(k.bottom-v.bottom+p.bottom)/E.y,left:(v.left-k.left+p.left)/E.x,right:(k.right-v.right+p.right)/E.x}}const Zp=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:a,elements:o,middlewareData:c}=e,{element:d,padding:f=0}=pn(t,e)||{};if(d==null)return{};const g=Vc(f),u={x:n,y:r},l=Gs(i),p=qs(l),h=await a.getDimensions(d),b=l==="y",v=b?"top":"left",y=b?"bottom":"right",x=b?"clientHeight":"clientWidth",E=s.reference[p]+s.reference[l]-u[l]-s.floating[p],k=u[l]-s.reference[l],I=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d));let O=I?I[x]:0;(!O||!await(a.isElement==null?void 0:a.isElement(I)))&&(O=o.floating[x]||s.floating[p]);const P=E/2-k/2,A=O/2-h[p]/2-1,M=In(g[v],A),F=In(g[y],A),C=M,R=O-h[p]-F,m=O/2-h[p]/2+P,N=_s(C,m,R),V=!c.arrow&&yr(i)!=null&&m!==N&&s.reference[p]/2-(m<C?M:F)-h[p]/2<0,U=V?m<C?m-C:m-R:0;return{[l]:u[l]+U,data:{[l]:N,centerOffset:m-N-U,...V&&{alignmentOffset:U}},reset:V}}}),Kp=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:a,initialPlacement:o,platform:c,elements:d}=e,{mainAxis:f=!0,crossAxis:g=!0,fallbackPlacements:u,fallbackStrategy:l="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:h=!0,...b}=pn(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const v=gn(i),y=qe(o),x=gn(o)===o,E=await(c.isRTL==null?void 0:c.isRTL(d.floating)),k=u||(x||!h?[Ui(o)]:Wp(o)),I=p!=="none";!u&&I&&k.push(...$p(o,h,p,E));const O=[o,...k],P=await qr(e,b),A=[];let M=((r=s.flip)==null?void 0:r.overflows)||[];if(f&&A.push(P[v]),g){const m=Hp(i,a,E);A.push(P[m[0]],P[m[1]])}if(M=[...M,{placement:i,overflows:A}],!A.every(m=>m<=0)){var F,C;const m=(((F=s.flip)==null?void 0:F.index)||0)+1,N=O[m];if(N&&(!(g==="alignment"?y!==qe(N):!1)||M.every(G=>G.overflows[0]>0&&qe(G.placement)===y)))return{data:{index:m,overflows:M},reset:{placement:N}};let V=(C=M.filter(U=>U.overflows[0]<=0).sort((U,G)=>U.overflows[1]-G.overflows[1])[0])==null?void 0:C.placement;if(!V)switch(l){case"bestFit":{var R;const U=(R=M.filter(G=>{if(I){const $=qe(G.placement);return $===y||$==="y"}return!0}).map(G=>[G.placement,G.overflows.filter($=>$>0).reduce(($,nt)=>$+nt,0)]).sort((G,$)=>G[1]-$[1])[0])==null?void 0:R[0];U&&(V=U);break}case"initialPlacement":V=o;break}if(i!==V)return{reset:{placement:V}}}return{}}}};function al(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function sl(t){return Mp.some(e=>t[e]>=0)}const Xp=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=pn(t,e);switch(r){case"referenceHidden":{const s=await qr(e,{...i,elementContext:"reference"}),a=al(s,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:sl(a)}}}case"escaped":{const s=await qr(e,{...i,altBoundary:!0}),a=al(s,n.floating);return{data:{escapedOffsets:a,escaped:sl(a)}}}default:return{}}}}};async function Yp(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=gn(n),o=yr(n),c=qe(n)==="y",d=["left","top"].includes(a)?-1:1,f=s&&c?-1:1,g=pn(e,t);let{mainAxis:u,crossAxis:l,alignmentAxis:p}=typeof g=="number"?{mainAxis:g,crossAxis:0,alignmentAxis:null}:{mainAxis:g.mainAxis||0,crossAxis:g.crossAxis||0,alignmentAxis:g.alignmentAxis};return o&&typeof p=="number"&&(l=o==="end"?p*-1:p),c?{x:l*f,y:u*d}:{x:u*d,y:l*f}}const Jp=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:a,middlewareData:o}=e,c=await Yp(e,t);return a===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:i+c.x,y:s+c.y,data:{...c,placement:a}}}}},Qp=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:o={fn:b=>{let{x:v,y}=b;return{x:v,y}}},...c}=pn(t,e),d={x:n,y:r},f=await qr(e,c),g=qe(gn(i)),u=$s(g);let l=d[u],p=d[g];if(s){const b=u==="y"?"top":"left",v=u==="y"?"bottom":"right",y=l+f[b],x=l-f[v];l=_s(y,l,x)}if(a){const b=g==="y"?"top":"left",v=g==="y"?"bottom":"right",y=p+f[b],x=p-f[v];p=_s(y,p,x)}const h=o.fn({...e,[u]:l,[g]:p});return{...h,data:{x:h.x-n,y:h.y-r,enabled:{[u]:s,[g]:a}}}}}},tg=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:a}=e,{offset:o=0,mainAxis:c=!0,crossAxis:d=!0}=pn(t,e),f={x:n,y:r},g=qe(i),u=$s(g);let l=f[u],p=f[g];const h=pn(o,e),b=typeof h=="number"?{mainAxis:h,crossAxis:0}:{mainAxis:0,crossAxis:0,...h};if(c){const x=u==="y"?"height":"width",E=s.reference[u]-s.floating[x]+b.mainAxis,k=s.reference[u]+s.reference[x]-b.mainAxis;l<E?l=E:l>k&&(l=k)}if(d){var v,y;const x=u==="y"?"width":"height",E=["top","left"].includes(gn(i)),k=s.reference[g]-s.floating[x]+(E&&((v=a.offset)==null?void 0:v[g])||0)+(E?0:b.crossAxis),I=s.reference[g]+s.reference[x]+(E?0:((y=a.offset)==null?void 0:y[g])||0)-(E?b.crossAxis:0);p<k?p=k:p>I&&(p=I)}return{[u]:l,[g]:p}}}},eg=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:a,elements:o}=e,{apply:c=()=>{},...d}=pn(t,e),f=await qr(e,d),g=gn(i),u=yr(i),l=qe(i)==="y",{width:p,height:h}=s.floating;let b,v;g==="top"||g==="bottom"?(b=g,v=u===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(v=g,b=u==="end"?"top":"bottom");const y=h-f.top-f.bottom,x=p-f.left-f.right,E=In(h-f[b],y),k=In(p-f[v],x),I=!e.middlewareData.shift;let O=E,P=k;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(P=x),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(O=y),I&&!u){const M=be(f.left,0),F=be(f.right,0),C=be(f.top,0),R=be(f.bottom,0);l?P=p-2*(M!==0||F!==0?M+F:be(f.left,f.right)):O=h-2*(C!==0||R!==0?C+R:be(f.top,f.bottom))}await c({...e,availableWidth:P,availableHeight:O});const A=await a.getDimensions(o.floating);return p!==A.width||h!==A.height?{reset:{rects:!0}}:{}}}};function oa(){return typeof window<"u"}function _r(t){return Uc(t)?(t.nodeName||"").toLowerCase():"#document"}function _e(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Qe(t){var e;return(e=(Uc(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function Uc(t){return oa()?t instanceof Node||t instanceof _e(t).Node:!1}function Le(t){return oa()?t instanceof Element||t instanceof _e(t).Element:!1}function Je(t){return oa()?t instanceof HTMLElement||t instanceof _e(t).HTMLElement:!1}function ol(t){return!oa()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof _e(t).ShadowRoot}function ii(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=De(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function ng(t){return["table","td","th"].includes(_r(t))}function la(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Zs(t){const e=Ks(),n=Le(t)?De(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function rg(t){let e=An(t);for(;Je(e)&&!pr(e);){if(Zs(e))return e;if(la(e))return null;e=An(e)}return null}function Ks(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function pr(t){return["html","body","#document"].includes(_r(t))}function De(t){return _e(t).getComputedStyle(t)}function ca(t){return Le(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function An(t){if(_r(t)==="html")return t;const e=t.assignedSlot||t.parentNode||ol(t)&&t.host||Qe(t);return ol(e)?e.host:e}function Hc(t){const e=An(t);return pr(e)?t.ownerDocument?t.ownerDocument.body:t.body:Je(e)&&ii(e)?e:Hc(e)}function Gr(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=Hc(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),a=_e(i);if(s){const o=xs(a);return e.concat(a,a.visualViewport||[],ii(i)?i:[],o&&n?Gr(o):[])}return e.concat(i,Gr(i,[],n))}function xs(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function Wc(t){const e=De(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Je(t),s=i?t.offsetWidth:n,a=i?t.offsetHeight:r,o=Vi(n)!==s||Vi(r)!==a;return o&&(n=s,r=a),{width:n,height:r,$:o}}function Xs(t){return Le(t)?t:t.contextElement}function ur(t){const e=Xs(t);if(!Je(e))return Ze(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=Wc(e);let a=(s?Vi(n.width):n.width)/r,o=(s?Vi(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const ig=Ze(0);function jc(t){const e=_e(t);return!Ks()||!e.visualViewport?ig:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function ag(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==_e(t)?!1:e}function qn(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=Xs(t);let a=Ze(1);e&&(r?Le(r)&&(a=ur(r)):a=ur(t));const o=ag(s,n,r)?jc(s):Ze(0);let c=(i.left+o.x)/a.x,d=(i.top+o.y)/a.y,f=i.width/a.x,g=i.height/a.y;if(s){const u=_e(s),l=r&&Le(r)?_e(r):r;let p=u,h=xs(p);for(;h&&r&&l!==p;){const b=ur(h),v=h.getBoundingClientRect(),y=De(h),x=v.left+(h.clientLeft+parseFloat(y.paddingLeft))*b.x,E=v.top+(h.clientTop+parseFloat(y.paddingTop))*b.y;c*=b.x,d*=b.y,f*=b.x,g*=b.y,c+=x,d+=E,p=_e(h),h=xs(p)}}return Hi({width:f,height:g,x:c,y:d})}function Ys(t,e){const n=ca(t).scrollLeft;return e?e.left+n:qn(Qe(t)).left+n}function $c(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:Ys(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function sg(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",a=Qe(r),o=e?la(e.floating):!1;if(r===a||o&&s)return n;let c={scrollLeft:0,scrollTop:0},d=Ze(1);const f=Ze(0),g=Je(r);if((g||!g&&!s)&&((_r(r)!=="body"||ii(a))&&(c=ca(r)),Je(r))){const l=qn(r);d=ur(r),f.x=l.x+r.clientLeft,f.y=l.y+r.clientTop}const u=a&&!g&&!s?$c(a,c,!0):Ze(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+f.x+u.x,y:n.y*d.y-c.scrollTop*d.y+f.y+u.y}}function og(t){return Array.from(t.getClientRects())}function lg(t){const e=Qe(t),n=ca(t),r=t.ownerDocument.body,i=be(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=be(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+Ys(t);const o=-n.scrollTop;return De(r).direction==="rtl"&&(a+=be(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:o}}function cg(t,e){const n=_e(t),r=Qe(t),i=n.visualViewport;let s=r.clientWidth,a=r.clientHeight,o=0,c=0;if(i){s=i.width,a=i.height;const d=Ks();(!d||d&&e==="fixed")&&(o=i.offsetLeft,c=i.offsetTop)}return{width:s,height:a,x:o,y:c}}function ug(t,e){const n=qn(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Je(t)?ur(t):Ze(1),a=t.clientWidth*s.x,o=t.clientHeight*s.y,c=i*s.x,d=r*s.y;return{width:a,height:o,x:c,y:d}}function ll(t,e,n){let r;if(e==="viewport")r=cg(t,n);else if(e==="document")r=lg(Qe(t));else if(Le(e))r=ug(e,n);else{const i=jc(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return Hi(r)}function qc(t,e){const n=An(t);return n===e||!Le(n)||pr(n)?!1:De(n).position==="fixed"||qc(n,e)}function dg(t,e){const n=e.get(t);if(n)return n;let r=Gr(t,[],!1).filter(o=>Le(o)&&_r(o)!=="body"),i=null;const s=De(t).position==="fixed";let a=s?An(t):t;for(;Le(a)&&!pr(a);){const o=De(a),c=Zs(a);!c&&o.position==="fixed"&&(i=null),(s?!c&&!i:!c&&o.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||ii(a)&&!c&&qc(t,a))?r=r.filter(f=>f!==a):i=o,a=An(a)}return e.set(t,r),r}function fg(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const a=[...n==="clippingAncestors"?la(e)?[]:dg(e,this._c):[].concat(n),r],o=a[0],c=a.reduce((d,f)=>{const g=ll(e,f,i);return d.top=be(g.top,d.top),d.right=In(g.right,d.right),d.bottom=In(g.bottom,d.bottom),d.left=be(g.left,d.left),d},ll(e,o,i));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function hg(t){const{width:e,height:n}=Wc(t);return{width:e,height:n}}function vg(t,e,n){const r=Je(e),i=Qe(e),s=n==="fixed",a=qn(t,!0,s,e);let o={scrollLeft:0,scrollTop:0};const c=Ze(0);function d(){c.x=Ys(i)}if(r||!r&&!s)if((_r(e)!=="body"||ii(i))&&(o=ca(e)),r){const l=qn(e,!0,s,e);c.x=l.x+e.clientLeft,c.y=l.y+e.clientTop}else i&&d();s&&!r&&i&&d();const f=i&&!r&&!s?$c(i,o):Ze(0),g=a.left+o.scrollLeft-c.x-f.x,u=a.top+o.scrollTop-c.y-f.y;return{x:g,y:u,width:a.width,height:a.height}}function Oa(t){return De(t).position==="static"}function cl(t,e){if(!Je(t)||De(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Qe(t)===n&&(n=n.ownerDocument.body),n}function Gc(t,e){const n=_e(t);if(la(t))return n;if(!Je(t)){let i=An(t);for(;i&&!pr(i);){if(Le(i)&&!Oa(i))return i;i=An(i)}return n}let r=cl(t,e);for(;r&&ng(r)&&Oa(r);)r=cl(r,e);return r&&pr(r)&&Oa(r)&&!Zs(r)?n:r||rg(t)||n}const pg=async function(t){const e=this.getOffsetParent||Gc,n=this.getDimensions,r=await n(t.floating);return{reference:vg(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function gg(t){return De(t).direction==="rtl"}const mg={convertOffsetParentRelativeRectToViewportRelativeRect:sg,getDocumentElement:Qe,getClippingRect:fg,getOffsetParent:Gc,getElementRects:pg,getClientRects:og,getDimensions:hg,getScale:ur,isElement:Le,isRTL:gg};function Zc(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function bg(t,e){let n=null,r;const i=Qe(t);function s(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function a(o,c){o===void 0&&(o=!1),c===void 0&&(c=1),s();const d=t.getBoundingClientRect(),{left:f,top:g,width:u,height:l}=d;if(o||e(),!u||!l)return;const p=di(g),h=di(i.clientWidth-(f+u)),b=di(i.clientHeight-(g+l)),v=di(f),x={rootMargin:-p+"px "+-h+"px "+-b+"px "+-v+"px",threshold:be(0,In(1,c))||1};let E=!0;function k(I){const O=I[0].intersectionRatio;if(O!==c){if(!E)return a();O?a(!1,O):r=setTimeout(()=>{a(!1,1e-7)},1e3)}O===1&&!Zc(d,t.getBoundingClientRect())&&a(),E=!1}try{n=new IntersectionObserver(k,{...x,root:i.ownerDocument})}catch{n=new IntersectionObserver(k,x)}n.observe(t)}return a(!0),s}function yg(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=Xs(t),f=i||s?[...d?Gr(d):[],...Gr(e)]:[];f.forEach(v=>{i&&v.addEventListener("scroll",n,{passive:!0}),s&&v.addEventListener("resize",n)});const g=d&&o?bg(d,n):null;let u=-1,l=null;a&&(l=new ResizeObserver(v=>{let[y]=v;y&&y.target===d&&l&&(l.unobserve(e),cancelAnimationFrame(u),u=requestAnimationFrame(()=>{var x;(x=l)==null||x.observe(e)})),n()}),d&&!c&&l.observe(d),l.observe(e));let p,h=c?qn(t):null;c&&b();function b(){const v=qn(t);h&&!Zc(h,v)&&n(),h=v,p=requestAnimationFrame(b)}return n(),()=>{var v;f.forEach(y=>{i&&y.removeEventListener("scroll",n),s&&y.removeEventListener("resize",n)}),g==null||g(),(v=l)==null||v.disconnect(),l=null,c&&cancelAnimationFrame(p)}}const _g=Jp,wg=Qp,xg=Kp,kg=eg,Eg=Xp,Cg=Zp,Sg=tg,Tg=(t,e,n)=>{const r=new Map,i={platform:mg,...n},s={...i.platform,_c:r};return Gp(t,e,{...i,platform:s})};function ul(t=0,e=0,n=0,r=0){if(typeof DOMRect=="function")return new DOMRect(t,e,n,r);const i={x:t,y:e,width:n,height:r,top:e,right:t+n,bottom:e+r,left:t};return{...i,toJSON:()=>i}}function Ig(t){if(!t)return ul();const{x:e,y:n,width:r,height:i}=t;return ul(e,n,r,i)}function Ag(t,e){return{contextElement:ie(t)?t:void 0,getBoundingClientRect:()=>{const n=t,r=e==null?void 0:e(n);return r||!n?Ig(r):n.getBoundingClientRect()}}}var Sr=t=>({variable:t,reference:`var(${t})`}),ln={arrowSize:Sr("--arrow-size"),arrowSizeHalf:Sr("--arrow-size-half"),arrowBg:Sr("--arrow-background"),transformOrigin:Sr("--transform-origin"),arrowOffset:Sr("--arrow-offset")},Og=t=>({top:"bottom center","top-start":t?`${t.x}px bottom`:"left bottom","top-end":t?`${t.x}px bottom`:"right bottom",bottom:"top center","bottom-start":t?`${t.x}px top`:"top left","bottom-end":t?`${t.x}px top`:"top right",left:"right center","left-start":t?`right ${t.y}px`:"right top","left-end":t?`right ${t.y}px`:"right bottom",right:"left center","right-start":t?`left ${t.y}px`:"left top","right-end":t?`left ${t.y}px`:"left bottom"}),Rg={name:"transformOrigin",fn({placement:t,elements:e,middlewareData:n}){const{arrow:r}=n,i=Og(r)[t],{floating:s}=e;return s.style.setProperty(ln.transformOrigin.variable,i),{data:{transformOrigin:i}}}},Pg={name:"rects",fn({rects:t}){return{data:t}}},Lg=t=>{if(t)return{name:"shiftArrow",fn({placement:e,middlewareData:n}){if(!n.arrow)return{};const{x:r,y:i}=n.arrow,s=e.split("-")[0];return Object.assign(t.style,{left:r!=null?`${r}px`:"",top:i!=null?`${i}px`:"",[s]:`calc(100% + ${ln.arrowOffset.reference})`}),{}}}};function Dg(t){const[e,n]=t.split("-");return{side:e,align:n,hasAlign:n!=null}}var Ng={strategy:"absolute",placement:"bottom",listeners:!0,gutter:8,flip:!0,slide:!0,overlap:!1,sameWidth:!1,fitViewport:!1,overflowPadding:8,arrowPadding:4};function dl(t,e){const n=t.devicePixelRatio||1;return Math.round(e*n)/n}function Kc(t){return Dh(t.boundary)}function Fg(t,e){if(t)return Cg({element:t,padding:e.arrowPadding})}function zg(t,e){if(!Ph(e.offset??e.gutter))return _g(({placement:n})=>{var d,f;const r=((t==null?void 0:t.clientHeight)||0)/2,i=((d=e.offset)==null?void 0:d.mainAxis)??e.gutter,s=typeof i=="number"?i+r:i??r,{hasAlign:a}=Dg(n),o=a?void 0:e.shift,c=((f=e.offset)==null?void 0:f.crossAxis)??o;return js({crossAxis:c,mainAxis:s,alignmentAxis:e.shift})})}function Bg(t){if(t.flip)return xg({boundary:Kc(t),padding:t.overflowPadding,fallbackPlacements:t.flip===!0?void 0:t.flip})}function Mg(t){if(!(!t.slide&&!t.overlap))return wg({boundary:Kc(t),mainAxis:t.slide,crossAxis:t.overlap,padding:t.overflowPadding,limiter:Sg()})}function Vg(t){return kg({padding:t.overflowPadding,apply({elements:e,rects:n,availableHeight:r,availableWidth:i}){const s=e.floating,a=Math.round(n.reference.width);i=Math.floor(i),r=Math.floor(r),s.style.setProperty("--reference-width",`${a}px`),s.style.setProperty("--available-width",`${i}px`),s.style.setProperty("--available-height",`${r}px`)}})}function Ug(t){var e;if(t.hideWhenDetached)return Eg({strategy:"referenceHidden",boundary:((e=t.boundary)==null?void 0:e.call(t))??"clippingAncestors"})}function Hg(t){return t?t===!0?{ancestorResize:!0,ancestorScroll:!0,elementResize:!0,layoutShift:!0}:t:{}}function Wg(t,e,n={}){const r=Ag(t,n.getAnchorRect);if(!e||!r)return;const i=Object.assign({},Ng,n),s=e.querySelector("[data-part=arrow]"),a=[zg(s,i),Bg(i),Mg(i),Fg(s,i),Lg(s),Rg,Vg(i),Ug(i),Pg],{placement:o,strategy:c,onComplete:d,onPositioned:f}=i,g=async()=>{var E;if(!r||!e)return;const h=await Tg(r,e,{placement:o,middleware:a,strategy:c});d==null||d(h),f==null||f({placed:!0});const b=oe(e),v=dl(b,h.x),y=dl(b,h.y);e.style.setProperty("--x",`${v}px`),e.style.setProperty("--y",`${y}px`),i.hideWhenDetached&&(((E=h.middlewareData.hide)==null?void 0:E.referenceHidden)?(e.style.setProperty("visibility","hidden"),e.style.setProperty("pointer-events","none")):(e.style.removeProperty("visibility"),e.style.removeProperty("pointer-events")));const x=e.firstElementChild;if(x){const k=zf(x);e.style.setProperty("--z-index",k.zIndex)}},u=async()=>{n.updatePosition?(await n.updatePosition({updatePosition:g}),f==null||f({placed:!0})):await g()},l=Hg(i.listeners),p=i.listeners?yg(r,e,u,l):Fh;return u(),()=>{p==null||p(),f==null||f({placed:!1})}}function fl(t,e,n={}){const{defer:r,...i}=n,s=r?Ce:o=>o(),a=[];return a.push(s(()=>{const o=typeof t=="function"?t():t,c=typeof e=="function"?e():e;a.push(Wg(o,c,i))})),()=>{a.forEach(o=>o==null?void 0:o())}}var jg={bottom:"rotate(45deg)",left:"rotate(135deg)",top:"rotate(225deg)",right:"rotate(315deg)"};function $g(t={}){const{placement:e,sameWidth:n,fitViewport:r,strategy:i="absolute"}=t;return{arrow:{position:"absolute",width:ln.arrowSize.reference,height:ln.arrowSize.reference,[ln.arrowSizeHalf.variable]:`calc(${ln.arrowSize.reference} / 2)`,[ln.arrowOffset.variable]:`calc(${ln.arrowSizeHalf.reference} * -1)`},arrowTip:{transform:e?jg[e.split("-")[0]]:void 0,background:ln.arrowBg.reference,top:"0",left:"0",width:"100%",height:"100%",position:"absolute",zIndex:"inherit"},floating:{position:i,isolation:"isolate",minWidth:n?void 0:"max-content",width:n?"var(--reference-width)":void 0,maxWidth:r?"var(--available-width)":void 0,maxHeight:r?"var(--available-height)":void 0,pointerEvents:e?void 0:"none",top:"0px",left:"0px",transform:e?"translate3d(var(--x), var(--y), 0)":"translate3d(0, -100vh, 0)",zIndex:"var(--z-index)"}}}var er=new WeakMap,fi=new WeakMap,hi={},Ra=0,Xc=t=>t&&(t.host||Xc(t.parentNode)),qg=(t,e)=>e.map(n=>{if(t.contains(n))return n;const r=Xc(n);return r&&t.contains(r)?r:(console.error("[zag-js > ariaHidden] target",n,"in not contained inside",t,". Doing nothing"),null)}).filter(n=>!!n),Gg=t=>t.localName==="next-route-announcer"||t.localName==="script"||t.hasAttribute("aria-live")?!0:t.matches("[data-live-announcer]"),Zg=(t,e)=>{const{parentNode:n,markerName:r,controlAttribute:i}=e,s=qg(n,Array.isArray(t)?t:[t]);hi[r]||(hi[r]=new WeakMap);const a=hi[r],o=[],c=new Set,d=new Set(s),f=u=>{!u||c.has(u)||(c.add(u),f(u.parentNode))};s.forEach(f);const g=u=>{!u||d.has(u)||Array.prototype.forEach.call(u.children,l=>{if(c.has(l))g(l);else try{if(Gg(l))return;const h=l.getAttribute(i)==="true",b=(er.get(l)||0)+1,v=(a.get(l)||0)+1;er.set(l,b),a.set(l,v),o.push(l),b===1&&h&&fi.set(l,!0),v===1&&l.setAttribute(r,""),h||l.setAttribute(i,"true")}catch(p){console.error("[zag-js > ariaHidden] cannot operate on ",l,p)}})};return g(n),c.clear(),Ra++,()=>{o.forEach(u=>{const l=er.get(u)-1,p=a.get(u)-1;er.set(u,l),a.set(u,p),l||(fi.has(u)||u.removeAttribute(i),fi.delete(u)),p||u.removeAttribute(r)}),Ra--,Ra||(er=new WeakMap,er=new WeakMap,fi=new WeakMap,hi={})}},Kg=t=>(Array.isArray(t)?t[0]:t).ownerDocument.body,Xg=(t,e=Kg(t),n="data-aria-hidden")=>{if(e)return Zg(t,{parentNode:e,markerName:n,controlAttribute:"aria-hidden"})},Yg=t=>{const e=requestAnimationFrame(()=>t());return()=>cancelAnimationFrame(e)};function Jg(t,e={}){const{defer:n=!0}=e,r=n?Yg:s=>s(),i=[];return i.push(r(()=>{const a=(typeof t=="function"?t():t).filter(Boolean);a.length!==0&&i.push(Xg(a))})),()=>{i.forEach(s=>s==null?void 0:s())}}var Qg=Object.defineProperty,tm=(t,e,n)=>e in t?Qg(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Zt=(t,e,n)=>tm(t,typeof e!="symbol"?e+"":e,n),hl={activateTrap(t,e){if(t.length>0){const r=t[t.length-1];r!==e&&r.pause()}const n=t.indexOf(e);n===-1||t.splice(n,1),t.push(e)},deactivateTrap(t,e){const n=t.indexOf(e);n!==-1&&t.splice(n,1),t.length>0&&t[t.length-1].unpause()}},em=[],nm=class{constructor(t,e){Zt(this,"trapStack"),Zt(this,"config"),Zt(this,"doc"),Zt(this,"state",{containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0}),Zt(this,"listenerCleanups",[]),Zt(this,"handleFocus",r=>{const i=ke(r),s=this.findContainerIndex(i,r)>=0;if(s||Fs(i))s&&(this.state.mostRecentlyFocusedNode=i);else{r.stopImmediatePropagation();let a,o=!0;if(this.state.mostRecentlyFocusedNode)if(Cr(this.state.mostRecentlyFocusedNode)>0){const c=this.findContainerIndex(this.state.mostRecentlyFocusedNode),{tabbableNodes:d}=this.state.containerGroups[c];if(d.length>0){const f=d.findIndex(g=>g===this.state.mostRecentlyFocusedNode);f>=0&&(this.config.isKeyForward(this.state.recentNavEvent)?f+1<d.length&&(a=d[f+1],o=!1):f-1>=0&&(a=d[f-1],o=!1))}}else this.state.containerGroups.some(c=>c.tabbableNodes.some(d=>Cr(d)>0))||(o=!1);else o=!1;o&&(a=this.findNextNavNode({target:this.state.mostRecentlyFocusedNode,isBackward:this.config.isKeyBackward(this.state.recentNavEvent)})),a?this.tryFocus(a):this.tryFocus(this.state.mostRecentlyFocusedNode||this.getInitialFocusNode())}this.state.recentNavEvent=void 0}),Zt(this,"handlePointerDown",r=>{const i=ke(r);if(!(this.findContainerIndex(i,r)>=0)){if(Ir(this.config.clickOutsideDeactivates,r)){this.deactivate({returnFocus:this.config.returnFocusOnDeactivate});return}Ir(this.config.allowOutsideClick,r)||r.preventDefault()}}),Zt(this,"handleClick",r=>{const i=ke(r);this.findContainerIndex(i,r)>=0||Ir(this.config.clickOutsideDeactivates,r)||Ir(this.config.allowOutsideClick,r)||(r.preventDefault(),r.stopImmediatePropagation())}),Zt(this,"handleTabKey",r=>{if(this.config.isKeyForward(r)||this.config.isKeyBackward(r)){this.state.recentNavEvent=r;const i=this.config.isKeyBackward(r),s=this.findNextNavNode({event:r,isBackward:i});if(!s)return;Tr(r)&&r.preventDefault(),this.tryFocus(s)}}),Zt(this,"handleEscapeKey",r=>{rm(r)&&Ir(this.config.escapeDeactivates,r)!==!1&&(r.preventDefault(),this.deactivate())}),Zt(this,"_mutationObserver"),Zt(this,"setupMutationObserver",()=>{const r=this.doc.defaultView||window;this._mutationObserver=new r.MutationObserver(i=>{i.some(a=>Array.from(a.removedNodes).some(c=>c===this.state.mostRecentlyFocusedNode))&&this.tryFocus(this.getInitialFocusNode())})}),Zt(this,"updateObservedNodes",()=>{var r;(r=this._mutationObserver)==null||r.disconnect(),this.state.active&&!this.state.paused&&this.state.containers.map(i=>{var s;(s=this._mutationObserver)==null||s.observe(i,{subtree:!0,childList:!0})})}),Zt(this,"getInitialFocusNode",()=>{let r=this.getNodeForOption("initialFocus",{hasFallback:!0});if(r===!1)return!1;if(r===void 0||r&&!Cn(r))if(this.findContainerIndex(this.doc.activeElement)>=0)r=this.doc.activeElement;else{const i=this.state.tabbableGroups[0];r=i&&i.firstTabbableNode||this.getNodeForOption("fallbackFocus")}else r===null&&(r=this.getNodeForOption("fallbackFocus"));if(!r)throw new Error("Your focus-trap needs to have at least one focusable element");return r.isConnected||(r=this.getNodeForOption("fallbackFocus")),r}),Zt(this,"tryFocus",r=>{if(r!==!1&&r!==oc(this.doc)){if(!r||!r.focus){this.tryFocus(this.getInitialFocusNode());return}r.focus({preventScroll:!!this.config.preventScroll}),this.state.mostRecentlyFocusedNode=r,im(r)&&r.select()}}),Zt(this,"deactivate",r=>{if(!this.state.active)return this;const i={onDeactivate:this.config.onDeactivate,onPostDeactivate:this.config.onPostDeactivate,checkCanReturnFocus:this.config.checkCanReturnFocus,...r};clearTimeout(this.state.delayInitialFocusTimer),this.state.delayInitialFocusTimer=void 0,this.removeListeners(),this.state.active=!1,this.state.paused=!1,this.updateObservedNodes(),hl.deactivateTrap(this.trapStack,this);const s=this.getOption(i,"onDeactivate"),a=this.getOption(i,"onPostDeactivate"),o=this.getOption(i,"checkCanReturnFocus"),c=this.getOption(i,"returnFocus","returnFocusOnDeactivate");s==null||s();const d=()=>{vl(()=>{if(c){const f=this.getReturnFocusNode(this.state.nodeFocusedBeforeActivation);this.tryFocus(f)}a==null||a()})};if(c&&o){const f=this.getReturnFocusNode(this.state.nodeFocusedBeforeActivation);return o(f).then(d,d),this}return d(),this}),Zt(this,"pause",r=>{if(this.state.paused||!this.state.active)return this;const i=this.getOption(r,"onPause"),s=this.getOption(r,"onPostPause");return this.state.paused=!0,i==null||i(),this.removeListeners(),this.updateObservedNodes(),s==null||s(),this}),Zt(this,"unpause",r=>{if(!this.state.paused||!this.state.active)return this;const i=this.getOption(r,"onUnpause"),s=this.getOption(r,"onPostUnpause");return this.state.paused=!1,i==null||i(),this.updateTabbableNodes(),this.addListeners(),this.updateObservedNodes(),s==null||s(),this}),Zt(this,"updateContainerElements",r=>(this.state.containers=Array.isArray(r)?r.filter(Boolean):[r].filter(Boolean),this.state.active&&this.updateTabbableNodes(),this.updateObservedNodes(),this)),Zt(this,"getReturnFocusNode",r=>{const i=this.getNodeForOption("setReturnFocus",{params:[r]});return i||(i===!1?!1:r)}),Zt(this,"getOption",(r,i,s)=>r&&r[i]!==void 0?r[i]:this.config[s||i]),Zt(this,"getNodeForOption",(r,{hasFallback:i=!1,params:s=[]}={})=>{let a=this.config[r];if(typeof a=="function"&&(a=a(...s)),a===!0&&(a=void 0),!a){if(a===void 0||a===!1)return a;throw new Error(`\`${r}\` was specified but was not a node, or did not return a node`)}let o=a;if(typeof a=="string"){try{o=this.doc.querySelector(a)}catch(c){throw new Error(`\`${r}\` appears to be an invalid selector; error="${c.message}"`)}if(!o&&!i)throw new Error(`\`${r}\` as selector refers to no known node`)}return o}),Zt(this,"findNextNavNode",r=>{const{event:i,isBackward:s=!1}=r,a=r.target||ke(i);this.updateTabbableNodes();let o=null;if(this.state.tabbableGroups.length>0){const c=this.findContainerIndex(a,i),d=c>=0?this.state.containerGroups[c]:void 0;if(c<0)s?o=this.state.tabbableGroups[this.state.tabbableGroups.length-1].lastTabbableNode:o=this.state.tabbableGroups[0].firstTabbableNode;else if(s){let f=this.state.tabbableGroups.findIndex(({firstTabbableNode:g})=>a===g);if(f<0&&((d==null?void 0:d.container)===a||Cn(a)&&!wn(a)&&!(d!=null&&d.nextTabbableNode(a,!1)))&&(f=c),f>=0){const g=f===0?this.state.tabbableGroups.length-1:f-1,u=this.state.tabbableGroups[g];o=Cr(a)>=0?u.lastTabbableNode:u.lastDomTabbableNode}else Tr(i)||(o=d==null?void 0:d.nextTabbableNode(a,!1))}else{let f=this.state.tabbableGroups.findIndex(({lastTabbableNode:g})=>a===g);if(f<0&&((d==null?void 0:d.container)===a||Cn(a)&&!wn(a)&&!(d!=null&&d.nextTabbableNode(a)))&&(f=c),f>=0){const g=f===this.state.tabbableGroups.length-1?0:f+1,u=this.state.tabbableGroups[g];o=Cr(a)>=0?u.firstTabbableNode:u.firstDomTabbableNode}else Tr(i)||(o=d==null?void 0:d.nextTabbableNode(a))}}else o=this.getNodeForOption("fallbackFocus");return o}),this.trapStack=e.trapStack||em;const n={returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward(r){return Tr(r)&&!r.shiftKey},isKeyBackward(r){return Tr(r)&&r.shiftKey},...e};this.doc=n.document||Te(Array.isArray(t)?t[0]:t),this.config=n,this.updateContainerElements(t),this.setupMutationObserver()}get active(){return this.state.active}get paused(){return this.state.paused}findContainerIndex(t,e){const n=typeof(e==null?void 0:e.composedPath)=="function"?e.composedPath():void 0;return this.state.containerGroups.findIndex(({container:r,tabbableNodes:i})=>r.contains(t)||(n==null?void 0:n.includes(r))||i.find(s=>s===t))}updateTabbableNodes(){if(this.state.containerGroups=this.state.containers.map(t=>{const e=ni(t),n=hc(t),r=e.length>0?e[0]:void 0,i=e.length>0?e[e.length-1]:void 0,s=n.find(d=>wn(d)),a=n.slice().reverse().find(d=>wn(d)),o=!!e.find(d=>Cr(d)>0);function c(d,f=!0){const g=e.indexOf(d);return g<0?f?n.slice(n.indexOf(d)+1).find(u=>wn(u)):n.slice(0,n.indexOf(d)).reverse().find(u=>wn(u)):e[g+(f?1:-1)]}return{container:t,tabbableNodes:e,focusableNodes:n,posTabIndexesFound:o,firstTabbableNode:r,lastTabbableNode:i,firstDomTabbableNode:s,lastDomTabbableNode:a,nextTabbableNode:c}}),this.state.tabbableGroups=this.state.containerGroups.filter(t=>t.tabbableNodes.length>0),this.state.tabbableGroups.length<=0&&!this.getNodeForOption("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(this.state.containerGroups.find(t=>t.posTabIndexesFound)&&this.state.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")}addListeners(){if(this.state.active)return hl.activateTrap(this.trapStack,this),this.state.delayInitialFocusTimer=this.config.delayInitialFocus?vl(()=>{this.tryFocus(this.getInitialFocusNode())}):this.tryFocus(this.getInitialFocusNode()),this.listenerCleanups.push(Xt(this.doc,"focusin",this.handleFocus,!0),Xt(this.doc,"mousedown",this.handlePointerDown,{capture:!0,passive:!1}),Xt(this.doc,"touchstart",this.handlePointerDown,{capture:!0,passive:!1}),Xt(this.doc,"click",this.handleClick,{capture:!0,passive:!1}),Xt(this.doc,"keydown",this.handleTabKey,{capture:!0,passive:!1}),Xt(this.doc,"keydown",this.handleEscapeKey)),this}removeListeners(){if(this.state.active)return this.listenerCleanups.forEach(t=>t()),this.listenerCleanups=[],this}activate(t){if(this.state.active)return this;const e=this.getOption(t,"onActivate"),n=this.getOption(t,"onPostActivate"),r=this.getOption(t,"checkCanFocusTrap");r||this.updateTabbableNodes(),this.state.active=!0,this.state.paused=!1,this.state.nodeFocusedBeforeActivation=this.doc.activeElement||null,e==null||e();const i=()=>{r&&this.updateTabbableNodes(),this.addListeners(),this.updateObservedNodes(),n==null||n()};return r?(r(this.state.containers.concat()).then(i,i),this):(i(),this)}},Tr=t=>t.key==="Tab",Ir=(t,...e)=>typeof t=="function"?t(...e):t,rm=t=>!t.isComposing&&t.key==="Escape",vl=t=>setTimeout(t,0),im=t=>t.localName==="input"&&"select"in t&&typeof t.select=="function";function am(t,e={}){let n;const r=Ce(()=>{const i=typeof t=="function"?t():t;if(i){n=new nm(i,{escapeDeactivates:!1,allowOutsideClick:!0,preventScroll:!0,returnFocusOnDeactivate:!0,delayInitialFocus:!1,fallbackFocus:i,...e,document:Te(i)});try{n.activate()}catch{}}});return function(){n==null||n.deactivate(),r()}}var Pa="data-scroll-lock";function sm(t){const e=t.getBoundingClientRect().left;return Math.round(e)+t.scrollLeft?"paddingLeft":"paddingRight"}function om(t){const e=t??document,n=e.defaultView??window,{documentElement:r,body:i}=e;if(i.hasAttribute(Pa))return;const a=n.innerWidth-r.clientWidth;i.setAttribute(Pa,"");const o=()=>Eh(r,"--scrollbar-width",`${a}px`),c=sm(r),d=()=>cs(i,{overflow:"hidden",[c]:`${a}px`}),f=()=>{const{scrollX:u,scrollY:l,visualViewport:p}=n,h=(p==null?void 0:p.offsetLeft)??0,b=(p==null?void 0:p.offsetTop)??0,v=cs(i,{position:"fixed",overflow:"hidden",top:`${-(l-Math.floor(b))}px`,left:`${-(u-Math.floor(h))}px`,right:"0",[c]:`${a}px`});return()=>{v==null||v(),n.scrollTo({left:u,top:l,behavior:"instant"})}},g=[o(),Qi()?f():d()];return()=>{g.forEach(u=>u==null?void 0:u()),i.removeAttribute(Pa)}}var lm=jn("popover").parts("arrow","arrowTip","anchor","trigger","indicator","positioner","content","title","description","closeTrigger"),We=lm.build(),Yc=t=>{var e;return((e=t.ids)==null?void 0:e.anchor)??`popover:${t.id}:anchor`},Jc=t=>{var e;return((e=t.ids)==null?void 0:e.trigger)??`popover:${t.id}:trigger`},ks=t=>{var e;return((e=t.ids)==null?void 0:e.content)??`popover:${t.id}:content`},Qc=t=>{var e;return((e=t.ids)==null?void 0:e.positioner)??`popover:${t.id}:popper`},cm=t=>{var e;return((e=t.ids)==null?void 0:e.arrow)??`popover:${t.id}:arrow`},Es=t=>{var e;return((e=t.ids)==null?void 0:e.title)??`popover:${t.id}:title`},Cs=t=>{var e;return((e=t.ids)==null?void 0:e.description)??`popover:${t.id}:desc`},um=t=>{var e;return((e=t.ids)==null?void 0:e.closeTrigger)??`popover:${t.id}:close`},pl=t=>t.getById(Yc(t)),nr=t=>t.getById(Jc(t)),rr=t=>t.getById(ks(t)),gl=t=>t.getById(Qc(t)),dm=t=>t.getById(Es(t)),fm=t=>t.getById(Cs(t));function hm(t,e){const{state:n,context:r,send:i,computed:s,prop:a,scope:o}=t,c=n.matches("open"),d=r.get("currentPlacement"),f=s("currentPortalled"),g=r.get("renderedElements"),u=$g({...a("positioning"),placement:d});return{portalled:f,open:c,setOpen(l){n.matches("open")!==l&&i({type:l?"OPEN":"CLOSE"})},reposition(l={}){i({type:"POSITIONING.SET",options:l})},getArrowProps(){return e.element({id:cm(o),...We.arrow.attrs,dir:a("dir"),style:u.arrow})},getArrowTipProps(){return e.element({...We.arrowTip.attrs,dir:a("dir"),style:u.arrowTip})},getAnchorProps(){return e.element({...We.anchor.attrs,dir:a("dir"),id:Yc(o)})},getTriggerProps(){return e.button({...We.trigger.attrs,dir:a("dir"),type:"button","data-placement":d,id:Jc(o),"aria-haspopup":"dialog","aria-expanded":c,"data-state":c?"open":"closed","aria-controls":ks(o),onPointerDown(l){Bs()&&l.currentTarget.focus()},onClick(l){l.defaultPrevented||i({type:"TOGGLE"})},onBlur(l){i({type:"TRIGGER_BLUR",target:l.relatedTarget})}})},getIndicatorProps(){return e.element({...We.indicator.attrs,dir:a("dir"),"data-state":c?"open":"closed"})},getPositionerProps(){return e.element({id:Qc(o),...We.positioner.attrs,dir:a("dir"),style:u.floating})},getContentProps(){return e.element({...We.content.attrs,dir:a("dir"),id:ks(o),tabIndex:-1,role:"dialog",hidden:!c,"data-state":c?"open":"closed","data-expanded":Et(c),"aria-labelledby":g.title?Es(o):void 0,"aria-describedby":g.description?Cs(o):void 0,"data-placement":d})},getTitleProps(){return e.element({...We.title.attrs,id:Es(o),dir:a("dir")})},getDescriptionProps(){return e.element({...We.description.attrs,id:Cs(o),dir:a("dir")})},getCloseTriggerProps(){return e.button({...We.closeTrigger.attrs,dir:a("dir"),id:um(o),type:"button","aria-label":"close",onClick(l){l.defaultPrevented||(l.stopPropagation(),i({type:"CLOSE"}))}})}}}var vm={props({props:t}){return{closeOnInteractOutside:!0,closeOnEscape:!0,autoFocus:!0,modal:!1,portalled:!0,...t,positioning:{placement:"bottom",...t.positioning}}},initialState({prop:t}){return t("open")||t("defaultOpen")?"open":"closed"},context({bindable:t}){return{currentPlacement:t(()=>({defaultValue:void 0})),renderedElements:t(()=>({defaultValue:{title:!0,description:!0}}))}},computed:{currentPortalled:({prop:t})=>!!t("modal")||!!t("portalled")},watch({track:t,prop:e,action:n}){t([()=>e("open")],()=>{n(["toggleVisibility"])})},entry:["checkRenderedElements"],states:{closed:{on:{"CONTROLLED.OPEN":{target:"open",actions:["setInitialFocus"]},TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus"]}],OPEN:[{guard:"isOpenControlled",actions:["invokeOnOpen"]},{target:"open",actions:["invokeOnOpen","setInitialFocus"]}]}},open:{effects:["trapFocus","preventScroll","hideContentBelow","trackPositioning","trackDismissableElement","proxyTabFocus"],on:{"CONTROLLED.CLOSE":{target:"closed",actions:["setFinalFocus"]},CLOSE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose","setFinalFocus"]}],TOGGLE:[{guard:"isOpenControlled",actions:["invokeOnClose"]},{target:"closed",actions:["invokeOnClose"]}],"POSITIONING.SET":{actions:["reposition"]}}}},implementations:{guards:{isOpenControlled:({prop:t})=>t("open")!=null},effects:{trackPositioning({context:t,prop:e,scope:n}){t.set("currentPlacement",e("positioning").placement);const r=pl(n)??nr(n);return fl(r,()=>gl(n),{...e("positioning"),defer:!0,onComplete(s){t.set("currentPlacement",s.placement)}})},trackDismissableElement({send:t,prop:e,scope:n}){const r=()=>rr(n);let i=!0;return Bp(r,{pointerBlocking:e("modal"),exclude:nr(n),defer:!0,onEscapeKeyDown(s){var a;(a=e("onEscapeKeyDown"))==null||a(s),!e("closeOnEscape")&&s.preventDefault()},onInteractOutside(s){var a;(a=e("onInteractOutside"))==null||a(s),!s.defaultPrevented&&(i=!(s.detail.focusable||s.detail.contextmenu),e("closeOnInteractOutside")||s.preventDefault())},onPointerDownOutside:e("onPointerDownOutside"),onFocusOutside:e("onFocusOutside"),persistentElements:e("persistentElements"),onDismiss(){t({type:"CLOSE",src:"interact-outside",restoreFocus:i})}})},proxyTabFocus({prop:t,scope:e}){return t("modal")||!t("portalled")?void 0:kh(()=>rr(e),{triggerElement:nr(e),defer:!0,onFocus(r){r.focus({preventScroll:!0})}})},hideContentBelow({prop:t,scope:e}){return t("modal")?Jg(()=>[rr(e),nr(e)],{defer:!0}):void 0},preventScroll({prop:t,scope:e}){if(t("modal"))return om(e.getDoc())},trapFocus({prop:t,scope:e}){return t("modal")?am(()=>rr(e),{initialFocus:()=>Fo({root:rr(e),getInitialEl:t("initialFocusEl"),enabled:t("autoFocus")})}):void 0}},actions:{reposition({event:t,prop:e,scope:n,context:r}){const i=pl(n)??nr(n);fl(i,()=>gl(n),{...e("positioning"),...t.options,defer:!0,listeners:!1,onComplete(a){r.set("currentPlacement",a.placement)}})},checkRenderedElements({context:t,scope:e}){Ce(()=>{Object.assign(t.get("renderedElements"),{title:!!dm(e),description:!!fm(e)})})},setInitialFocus({prop:t,scope:e}){t("modal")||Ce(()=>{const n=Fo({root:rr(e),getInitialEl:t("initialFocusEl"),enabled:t("autoFocus")});n==null||n.focus({preventScroll:!0})})},setFinalFocus({event:t,scope:e}){var r;const n=t.restoreFocus??((r=t.previousEvent)==null?void 0:r.restoreFocus);n!=null&&!n||Ce(()=>{const i=nr(e);i==null||i.focus({preventScroll:!0})})},invokeOnOpen({prop:t,flush:e}){e(()=>{var n;(n=t("onOpenChange"))==null||n({open:!0})})},invokeOnClose({prop:t,flush:e}){e(()=>{var n;(n=t("onOpenChange"))==null||n({open:!1})})},toggleVisibility({event:t,send:e,prop:n}){e({type:n("open")?"CONTROLLED.OPEN":"CONTROLLED.CLOSE",previousEvent:t})}}}};br()(["autoFocus","closeOnEscape","closeOnInteractOutside","dir","getRootNode","id","ids","initialFocusEl","modal","onEscapeKeyDown","onFocusOutside","onInteractOutside","onOpenChange","onPointerDownOutside","defaultOpen","open","persistentElements","portalled","positioning"]);var pm=dt("<button><!></button>"),gm=dt("<div><div></div></div>"),mm=dt("<div><!> <div><!></div></div>"),bm=dt('<span data-testid="popover"><!> <div><!></div></span>');function ai(t,e){const n=ji();gt(e,!0);const r=W(e,"arrow",3,!1),i=W(e,"zIndex",3,"auto"),s=W(e,"base",3,""),a=W(e,"classes",3,""),o=W(e,"triggerBase",3,""),c=W(e,"triggerBackground",3,""),d=W(e,"triggerClasses",3,""),f=W(e,"triggerAriaLabel",3,""),g=W(e,"positionerBase",3,""),u=W(e,"positionerClasses",3,""),l=W(e,"contentBase",3,""),p=W(e,"contentBackground",3,""),h=W(e,"contentClasses",3,""),b=W(e,"arrowBase",3,""),v=W(e,"arrowBackground",3,"!bg-surface-200 dark:!bg-surface-800"),y=W(e,"arrowClasses",3,""),x=Dt(e,["$$slots","$$events","$$legacy","arrow","zIndex","base","classes","triggerBase","triggerBackground","triggerClasses","triggerAriaLabel","positionerBase","positionerClasses","contentBase","contentBackground","contentClasses","arrowBase","arrowBackground","arrowClasses","trigger","content","onclick"]),E=ra(vm,()=>({id:n,...x})),k=ct(()=>hm(E,na)),I=ct(()=>cv(w(k).getTriggerProps(),{onclick:e.onclick}));var O=bm(),P=q(O);{var A=R=>{var m=pm();$t(m,()=>({...w(I),class:`${o()??""} ${c()??""} ${d()??""}`,type:"button","aria-label":f()}));var N=q(m);Rt(N,()=>e.trigger),j(m),tt(R,m)};Lt(P,R=>{e.trigger&&R(A)})}var M=Y(P,2);$t(M,R=>({...R,class:`${g()??""} ${u()??""}`}),[()=>w(k).getPositionerProps()]);var F=q(M);{var C=R=>{var m=mm();$t(m,$=>({...$,style:`z-index: ${i()??""};`}),[()=>w(k).getContentProps()]);var N=q(m);{var V=$=>{var nt=gm();$t(nt,z=>({...z}),[()=>w(k).getArrowProps()]);var L=q(nt);$t(L,z=>({...z,class:`${b()??""} ${v()??""} ${y()??""}`}),[()=>w(k).getArrowTipProps()]),j(nt),tt($,nt)};Lt(N,$=>{r()&&$(V)})}var U=Y(N,2),G=q(U);Rt(G,()=>e.content??Pt),j(U),j(m),At(()=>re(U,1,`${l()??""} ${p()??""} ${h()??""}`)),ld(3,m,()=>vv,()=>({duration:100})),tt(R,m)};Lt(F,R=>{w(k).open&&R(C)})}j(M),rd(M,(R,m)=>Ta==null?void 0:Ta(R,m),()=>({disabled:!w(k).portalled})),j(O),At(()=>re(O,1,`${s()??""} ${a()??""}`)),tt(t,O),mt()}var La={exports:{}},ml;function ym(){return ml||(ml=1,function(t,e){(function(n){t.exports=n()})(function(){return function n(r,i,s){function a(d,f){if(!i[d]){if(!r[d]){var g=typeof En=="function"&&En;if(!f&&g)return g(d,!0);if(o)return o(d,!0);var u=new Error("Cannot find module '"+d+"'");throw u.code="MODULE_NOT_FOUND",u}var l=i[d]={exports:{}};r[d][0].call(l.exports,function(p){var h=r[d][1][p];return a(h||p)},l,l.exports,n,r,i,s)}return i[d].exports}for(var o=typeof En=="function"&&En,c=0;c<s.length;c++)a(s[c]);return a}({1:[function(n,r,i){function s(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}r.exports=s,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._maxListeners=void 0,s.defaultMaxListeners=10,s.prototype.setMaxListeners=function(f){if(!o(f)||f<0||isNaN(f))throw TypeError("n must be a positive number");return this._maxListeners=f,this},s.prototype.emit=function(f){var g,u,l,p,h,b;if(this._events||(this._events={}),f==="error"&&(!this._events.error||c(this._events.error)&&!this._events.error.length)){if(g=arguments[1],g instanceof Error)throw g;var v=new Error('Uncaught, unspecified "error" event. ('+g+")");throw v.context=g,v}if(u=this._events[f],d(u))return!1;if(a(u))switch(arguments.length){case 1:u.call(this);break;case 2:u.call(this,arguments[1]);break;case 3:u.call(this,arguments[1],arguments[2]);break;default:p=Array.prototype.slice.call(arguments,1),u.apply(this,p)}else if(c(u))for(p=Array.prototype.slice.call(arguments,1),b=u.slice(),l=b.length,h=0;h<l;h++)b[h].apply(this,p);return!0},s.prototype.addListener=function(f,g){var u;if(!a(g))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",f,a(g.listener)?g.listener:g),this._events[f]?c(this._events[f])?this._events[f].push(g):this._events[f]=[this._events[f],g]:this._events[f]=g,c(this._events[f])&&!this._events[f].warned&&(d(this._maxListeners)?u=s.defaultMaxListeners:u=this._maxListeners,u&&u>0&&this._events[f].length>u&&(this._events[f].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[f].length),typeof console.trace=="function"&&console.trace())),this},s.prototype.on=s.prototype.addListener,s.prototype.once=function(f,g){if(!a(g))throw TypeError("listener must be a function");var u=!1;function l(){this.removeListener(f,l),u||(u=!0,g.apply(this,arguments))}return l.listener=g,this.on(f,l),this},s.prototype.removeListener=function(f,g){var u,l,p,h;if(!a(g))throw TypeError("listener must be a function");if(!this._events||!this._events[f])return this;if(u=this._events[f],p=u.length,l=-1,u===g||a(u.listener)&&u.listener===g)delete this._events[f],this._events.removeListener&&this.emit("removeListener",f,g);else if(c(u)){for(h=p;h-- >0;)if(u[h]===g||u[h].listener&&u[h].listener===g){l=h;break}if(l<0)return this;u.length===1?(u.length=0,delete this._events[f]):u.splice(l,1),this._events.removeListener&&this.emit("removeListener",f,g)}return this},s.prototype.removeAllListeners=function(f){var g,u;if(!this._events)return this;if(!this._events.removeListener)return arguments.length===0?this._events={}:this._events[f]&&delete this._events[f],this;if(arguments.length===0){for(g in this._events)g!=="removeListener"&&this.removeAllListeners(g);return this.removeAllListeners("removeListener"),this._events={},this}if(u=this._events[f],a(u))this.removeListener(f,u);else if(u)for(;u.length;)this.removeListener(f,u[u.length-1]);return delete this._events[f],this},s.prototype.listeners=function(f){var g;return!this._events||!this._events[f]?g=[]:a(this._events[f])?g=[this._events[f]]:g=this._events[f].slice(),g},s.prototype.listenerCount=function(f){if(this._events){var g=this._events[f];if(a(g))return 1;if(g)return g.length}return 0},s.listenerCount=function(f,g){return f.listenerCount(g)};function a(f){return typeof f=="function"}function o(f){return typeof f=="number"}function c(f){return typeof f=="object"&&f!==null}function d(f){return f===void 0}},{}],2:[function(n,r,i){var s,a,o,c,d;d=navigator.userAgent.toLowerCase(),c=navigator.platform.toLowerCase(),s=d.match(/(opera|ie|firefox|chrome|version)[\s\/:]([\w\d\.]+)?.*?(safari|version[\s\/:]([\w\d\.]+)|$)/)||[null,"unknown",0],o=s[1]==="ie"&&document.documentMode,a={name:s[1]==="version"?s[3]:s[1],version:o||parseFloat(s[1]==="opera"&&s[4]?s[4]:s[2]),platform:{name:d.match(/ip(?:ad|od|hone)/)?"ios":(d.match(/(?:webos|android)/)||c.match(/mac|win|linux/)||["other"])[0]}},a[a.name]=!0,a[a.name+parseInt(a.version,10)]=!0,a.platform[a.platform.name]=!0,r.exports=a},{}],3:[function(n,r,i){var s,a,o,c=function(u,l){for(var p in l)d.call(l,p)&&(u[p]=l[p]);function h(){this.constructor=u}return h.prototype=l.prototype,u.prototype=new h,u.__super__=l.prototype,u},d={}.hasOwnProperty,f=[].indexOf||function(u){for(var l=0,p=this.length;l<p;l++)if(l in this&&this[l]===u)return l;return-1},g=[].slice;s=n("events").EventEmitter,o=n("./browser.coffee"),a=function(u){var l,p;c(h,u),l={workerScript:"gif.worker.js",workers:2,repeat:0,background:"#fff",quality:10,width:null,height:null,transparent:null,debug:!1,dither:!1},p={delay:500,copy:!1};function h(b){var v,y,x;this.running=!1,this.options={},this.frames=[],this.freeWorkers=[],this.activeWorkers=[],this.setOptions(b);for(y in l)x=l[y],(v=this.options)[y]==null&&(v[y]=x)}return h.prototype.setOption=function(b,v){if(this.options[b]=v,this._canvas!=null&&(b==="width"||b==="height"))return this._canvas[b]=v},h.prototype.setOptions=function(b){var v,y,x;y=[];for(v in b)d.call(b,v)&&(x=b[v],y.push(this.setOption(v,x)));return y},h.prototype.addFrame=function(b,v){var y,x;v==null&&(v={}),y={},y.transparent=this.options.transparent;for(x in p)y[x]=v[x]||p[x];if(this.options.width==null&&this.setOption("width",b.width),this.options.height==null&&this.setOption("height",b.height),typeof ImageData<"u"&&ImageData!==null&&b instanceof ImageData)y.data=b.data;else if(typeof CanvasRenderingContext2D<"u"&&CanvasRenderingContext2D!==null&&b instanceof CanvasRenderingContext2D||typeof WebGLRenderingContext<"u"&&WebGLRenderingContext!==null&&b instanceof WebGLRenderingContext)v.copy?y.data=this.getContextData(b):y.context=b;else if(b.childNodes!=null)v.copy?y.data=this.getImageData(b):y.image=b;else throw new Error("Invalid image");return this.frames.push(y)},h.prototype.render=function(){var b,v,y;if(this.running)throw new Error("Already running");if(this.options.width==null||this.options.height==null)throw new Error("Width and height must be set prior to rendering");if(this.running=!0,this.nextFrame=0,this.finishedFrames=0,this.imageParts=(function(){var x,E,k;for(k=[],x=0,E=this.frames.length;0<=E?x<E:x>E;0<=E?++x:--x)k.push(null);return k}).call(this),v=this.spawnWorkers(),this.options.globalPalette===!0)this.renderNextFrame();else for(b=0,y=v;0<=y?b<y:b>y;0<=y?++b:--b)this.renderNextFrame();return this.emit("start"),this.emit("progress",0)},h.prototype.abort=function(){for(var b;b=this.activeWorkers.shift(),b!=null;)this.log("killing active worker"),b.terminate();return this.running=!1,this.emit("abort")},h.prototype.spawnWorkers=function(){var b,v,y;return b=Math.min(this.options.workers,this.frames.length),(function(){y=[];for(var x=v=this.freeWorkers.length;v<=b?x<b:x>b;v<=b?x++:x--)y.push(x);return y}).apply(this).forEach(function(x){return function(E){var k;return x.log("spawning worker "+E),k=new Worker(x.options.workerScript),k.onmessage=function(I){return x.activeWorkers.splice(x.activeWorkers.indexOf(k),1),x.freeWorkers.push(k),x.frameFinished(I.data)},x.freeWorkers.push(k)}}(this)),b},h.prototype.frameFinished=function(b){var v,y;if(this.log("frame "+b.index+" finished - "+this.activeWorkers.length+" active"),this.finishedFrames++,this.emit("progress",this.finishedFrames/this.frames.length),this.imageParts[b.index]=b,this.options.globalPalette===!0&&(this.options.globalPalette=b.globalPalette,this.log("global palette analyzed"),this.frames.length>2))for(v=1,y=this.freeWorkers.length;1<=y?v<y:v>y;1<=y?++v:--v)this.renderNextFrame();return f.call(this.imageParts,null)>=0?this.renderNextFrame():this.finishRendering()},h.prototype.finishRendering=function(){var b,v,y,x,E,k,I,O,P,A,M,F,C,R,m,N;for(O=0,R=this.imageParts,E=0,P=R.length;E<P;E++)v=R[E],O+=(v.data.length-1)*v.pageSize+v.cursor;for(O+=v.pageSize-v.cursor,this.log("rendering finished - filesize "+Math.round(O/1e3)+"kb"),b=new Uint8Array(O),F=0,m=this.imageParts,k=0,A=m.length;k<A;k++)for(v=m[k],N=v.data,y=I=0,M=N.length;I<M;y=++I)C=N[y],b.set(C,F),y===v.data.length-1?F+=v.cursor:F+=v.pageSize;return x=new Blob([b],{type:"image/gif"}),this.emit("finished",x,b)},h.prototype.renderNextFrame=function(){var b,v,y;if(this.freeWorkers.length===0)throw new Error("No free workers");if(!(this.nextFrame>=this.frames.length))return b=this.frames[this.nextFrame++],y=this.freeWorkers.shift(),v=this.getTask(b),this.log("starting frame "+(v.index+1)+" of "+this.frames.length),this.activeWorkers.push(y),y.postMessage(v)},h.prototype.getContextData=function(b){return b.getImageData(0,0,this.options.width,this.options.height).data},h.prototype.getImageData=function(b){var v;return this._canvas==null&&(this._canvas=document.createElement("canvas"),this._canvas.width=this.options.width,this._canvas.height=this.options.height),v=this._canvas.getContext("2d"),v.setFill=this.options.background,v.fillRect(0,0,this.options.width,this.options.height),v.drawImage(b,0,0),this.getContextData(v)},h.prototype.getTask=function(b){var v,y;if(v=this.frames.indexOf(b),y={index:v,last:v===this.frames.length-1,delay:b.delay,transparent:b.transparent,width:this.options.width,height:this.options.height,quality:this.options.quality,dither:this.options.dither,globalPalette:this.options.globalPalette,repeat:this.options.repeat,canTransfer:o.name==="chrome"},b.data!=null)y.data=b.data;else if(b.context!=null)y.data=this.getContextData(b.context);else if(b.image!=null)y.data=this.getImageData(b.image);else throw new Error("Invalid frame");return y},h.prototype.log=function(){var b;if(b=1<=arguments.length?g.call(arguments,0):[],!!this.options.debug)return console.log.apply(console,b)},h}(s),r.exports=a},{"./browser.coffee":2,events:1}]},{},[3])(3)})}(La)),La.exports}var _m=ym();const wm=mr(_m),xm=(t,e,n,r,i)=>{const{frames:s}=Tn,a=Math.floor(e()/s)*s,o=`${[...Array(3)].map(()=>xf(0,4).toString(16).padStart(2,"0")).join("")}`,c=new wm({workers:2,quality:10,width:n.width,height:n.height,workerScript:"gif.worker.js",transparent:`0x${o}`}),d=1e3/r()|0;for(let f=0;f<s;f++){const g=document.createElement("canvas");g.width=n.width,g.height=n.height;const u=g.getContext("2d",{willReadFrequently:!0});if(!u)return;u.fillStyle=`#${o}`,u.fillRect(0,0,n.width,n.height);const l=Pe.get(a+f);l&&u.drawImage(l,0,0),c.addFrame(g,{delay:d})}c.on("finished",f=>{const g=URL.createObjectURL(f);i(g,`frames_${a+1}.gif`)}),c.render()},km=async(t,e)=>{const n=await wf(Tn),r=URL.createObjectURL(n);e(r,"cursors.zip")};var Em=(t,e)=>{J(e,!1)},Cm=dt('<header class="flex justify-between"><p class="font-bold text-xl">歩行グラの出力</p> <button class="btn-icon hover:preset-tonal"><!></button></header> <article class="space-y-4"><p class="opacity-60">ダウンロードします</p> <div class="pt-2"><button type="button" class="w-full px-4 py-2 rounded-lg bg-gray-500 text-white hover:bg-gray-600 transition" aria-label="submit">ANI出力</button></div> <div class="pt-2"><button type="button" class="w-full px-4 py-2 rounded-lg bg-gray-500 text-white hover:bg-gray-600 transition" aria-label="submit">GIF出力</button></div> <div class="pt-2"><button type="button" class="w-full px-4 py-2 rounded-lg bg-gray-500 text-white hover:bg-gray-600 transition" aria-label="submit">ZIP出力</button></div> <div class="pt-2"><button type="button" class="w-full px-4 py-2 rounded-lg bg-blue-500 text-white hover:bg-blue-600 transition" aria-label="submit">PNG出力</button></div></article>',1);function Sm(t,e){gt(e,!0);const[n,r]=Gn(),i=()=>Xe(Wn,"$activeIndex",n),s=()=>Xe(vr,"$fps",n);let a=ht(!1);const o=(f,g)=>{const u=document.createElement("a");u.href=f,u.download=g,u.click()},c=()=>{const{width:f,height:g,frames:u,ways:l}=Tn,p=document.createElement("canvas");p.width=f*u,p.height=g*l;const h=p.getContext("2d",{willReadFrequently:!0});if(!h)return;h.imageSmoothingEnabled=!1;for(let v=0;v<l;v++)for(let y=0;y<u;y++){const x=$e(y,v),E=Pe.get(x);E&&h.drawImage(E,0,0,E.width,E.height,y*f,v*g,f,g)}const b=p.toDataURL("image/png");o(b,"sprite_sheet.png")},d=()=>{const{width:f,height:g,frames:u,ways:l}=Tn,p=new ac;for(let h=0;h<l;h++)for(let b=0;b<u;b++){const v=$e(b,h),y=Pe.get(v);if(!y)continue;const x=document.createElement("canvas");x.width=f,x.height=g;const E=x.getContext("2d",{willReadFrequently:!0});if(!E)continue;E.imageSmoothingEnabled=!1,E.drawImage(y,0,0,y.width,y.height,0,0,f,g);const I=x.toDataURL("image/png").split(",")[1];p.file(`frame_${h+1}_${b+1}.png`,I,{base64:!0})}p.generateAsync({type:"blob"}).then(h=>{const b=URL.createObjectURL(h);o(b,"frames.zip")})};ai(t,{get open(){return w(a)},onOpenChange:u=>J(a,u.open,!0),positioning:{placement:"top"},triggerBase:"btn preset-tonal",contentBase:"card bg-surface-300 p-4 space-y-4 max-w-[320px]",arrow:!0,arrowBackground:"!bg-surface-300 dark:!bg-surface-800",trigger:u=>{ye();var l=gr("出力");tt(u,l)},content:u=>{var l=Cm(),p=pt(l),h=Y(q(p),2);h.__click=[Em,a];var b=q(h);ei(b,{}),j(h),j(p);var v=Y(p,2),y=Y(q(v),2),x=q(y);x.__click=[km,o],j(y);var E=Y(y,2),k=q(E);k.__click=[xm,i,e,s,o],j(E);var I=Y(E,2),O=q(I);O.__click=d,j(I);var P=Y(I,2),A=q(P);A.__click=c,j(P),j(v),tt(u,l)},$$slots:{trigger:!0,content:!0}}),mt(),r()}fe(["click"]);function Tm(t,e){var r,i;const n=(i=(r=t.target)==null?void 0:r.files)==null?void 0:i[0];if(n){const s=new FileReader;s.onload=()=>{J(e,s.result,!0)},s.readAsDataURL(n)}}var Im=(t,e)=>{J(e,!1)},Am=(t,e,n)=>{const r=e.find(i=>i.label===t.currentTarget.value);r&&J(n,r.url,!0)},Om=dt("<option> </option>"),Rm=dt('<div class="mt-4 max-h-96 overflow-auto border rounded p-2"><img alt="インポート画像" class="max-w-96 object-contain rounded border" crossorigin="anonymous"/></div>'),Pm=dt('<header class="flex justify-between"><p class="font-bold text-xl">歩行グラの読み込み</p> <button class="btn-icon hover:preset-tonal"><!></button></header> <article class="space-y-4"><p class="opacity-60">先にリサイズしてください</p> <a href="https://github.com/rpgja/rpgen-walk/tree/main?tab=readme-ov-file#%E5%90%8C%E6%A2%B1%E7%B4%A0%E6%9D%90%E3%81%AB%E3%81%A4%E3%81%84%E3%81%A6--about-included-assets" target="_blank" rel="noopener noreferrer" class="text-blue-800 hover:underline">同梱素材の利用規約はこちら</a> <label class="flex flex-col"><span class="label-text font-medium">テンプレ</span> <select class="select select-bordered w-full bg-white"><option>自動入力</option><!></select></label> <div class="relative flex-1"><input name="url" type="url" placeholder="画像のURLを入力" class="input input-bordered w-full pr-8 bg-white"/> <!></div> <div><label class="label"><span class="label-text">ローカル保存ファイルから読み込む</span> <input class="input" type="file" accept="image/*"/></label></div> <!> <div class="flex items-center gap-4 max-w-[360px]"><div class="w-[20ch] flex justify-between font-mono text-sm tabular-nums"><span class="text-left">不透明度</span> <span class="text-right"> </span></div> <!></div> <label class="flex items-center space-x-2"><input class="checkbox" type="checkbox"/> <p>トレース台を追加する</p></label> <div class="pt-2"><button type="button" class="btn btn-primary w-full bg-blue-500 text-white rounded hover:bg-blue-600" aria-label="submit">読み込む</button></div></article>',1);function Lm(t,e){gt(e,!0);let n=W(e,"activeLayer",15),r=W(e,"initTimestamp",15),i=ht(!1),s=ht(""),a=ht(void 0),o,c=ht(Gt([100])),d=ht(!1);const f=async()=>{if(!w(s)||!w(a)||w(a).naturalWidth===0||!confirm("歩行グラを読み込みますか？（※全てのデータは失われます）"))return;e.init();const u=Ii(),{width:l,height:p,frames:h,ways:b}=Tn,v=document.createElement("canvas");v.width=l*h,v.height=p*b;const y=v.getContext("2d",{willReadFrequently:!0});if(!y)return;y.drawImage(w(a),0,0);const{data:x}=y.getImageData(0,0,v.width,v.height);for(let k=0;k<b;k++)for(let I=0;I<h;I++){const O=new vn("素材の味");O.opacity=w(c)[0];const P=l*h;for(let R=0;R<p;R++)for(let m=0;m<l;m++){const N=I*l+m,U=((k*p+R)*P+N)*4,[G,$,nt,L]=x.subarray(U,U+4);L&&(Un.value=`rgba(${G}, ${$}, ${nt}, ${L/255})`,O.drawByDot(m*u,R*u),O.used=!0)}O.trace();const A=$e(I,k),M=[O];w(d)&&M.push(new vn("トレース台")),hr.set(A,M);const F=cr();Pe.set(A,F);const C=F.toDataURL("image/png");Ur.set(A,C),Hr([])}const E=hr.get(0);E&&(Hr(E),n(E[E.length-1]),r(performance.now()))},g=[{label:"鍵山雛",url:"https://rpgen.cc/dq/sAnims/res/1920.png"},{label:"ドレミー",url:"https://rpgen.cc/dq/sAnims/res/1919.png"},{label:"八雲紫",url:"https://rpgen.cc/dq/sAnims/res/1282.png"},{label:"天子",url:"https://rpgen.cc/dq/sAnims/res/1891.png"},{label:"純狐",url:"https://rpgen.cc/dq/sAnims/res/1894.png"},{label:"ヘカーティア",url:"https://rpgen.cc/dq/sAnims/res/1884.png"},{label:"妹紅",url:"https://rpgen.cc/dq/sAnims/res/1874.png"},{label:"小鈴",url:"https://rpgen.cc/dq/sAnims/res/1526.png"},{label:"阿求",url:"https://rpgen.cc/dq/sAnims/res/1527.png"},{label:"マミゾウ",url:"https://rpgen.cc/dq/sAnims/res/1882.png"},{label:"袿姫",url:"https://rpgen.cc/dq/sAnims/res/2116.png"},{label:"残無",url:"https://rpgen.cc/dq/sAnims/res/2115.png"}];ai(t,{get open(){return w(i)},onOpenChange:p=>J(i,p.open,!0),positioning:{placement:"top"},triggerBase:"btn preset-tonal",contentBase:"card bg-surface-300 p-4 space-y-4 max-w-[320px]",arrow:!0,arrowBackground:"!bg-surface-300 dark:!bg-surface-800",trigger:p=>{ye();var h=gr("読み込み");tt(p,h)},content:p=>{var h=Pm(),b=pt(h),v=Y(q(b),2);v.__click=[Im,i];var y=q(v);ei(y,{}),j(v),j(b);var x=Y(b,2),E=Y(q(x),4),k=Y(q(E),2);k.__change=[Am,g,s];var I=q(k);I.value=I.__value="";var O=Y(I);de(O,17,()=>g,ue,(Z,xt)=>{var St=Om(),vt={},kt=q(St,!0);j(St),At(()=>{vt!==(vt=w(xt).label)&&(St.value=(St.__value=w(xt).label)??""),se(kt,w(xt).label)}),tt(Z,St)}),j(k),j(E);var P=Y(E,2),A=q(P);qt(A);var M=Y(A,2);Ai(M,{class:"absolute right-2 top-2.5 text-gray-400",size:16,onclick:()=>{J(s,"")}}),j(P);var F=Y(P,2),C=q(F),R=Y(q(C),2);R.__change=[Tm,s],Se(R,Z=>o=Z,()=>o),j(C),j(F);var m=Y(F,2);{var N=Z=>{var xt=Rm(),St=q(xt);Se(St,vt=>J(a,vt),()=>w(a)),j(xt),At(vt=>Vt(St,"src",vt),[()=>w(s).startsWith("http")?`https://api.allorigins.win/raw?url=${w(s)}`:w(s)]),tt(Z,xt)};Lt(m,Z=>{w(s)&&Z(N)})}var V=Y(m,2),U=q(V),G=Y(q(U),2),$=q(G);j(G),j(U);var nt=Y(U,2);zc(nt,{get value(){return w(c)},onValueChange:Z=>J(c,Z.value,!0),markers:[25,50,75]}),j(V);var L=Y(V,2),z=q(L);qt(z),ye(2),j(L);var st=Y(L,2),at=q(st);at.__click=f,j(st),j(x),At(()=>se($,`${w(c)??""}%`)),kn(A,()=>w(s),Z=>J(s,Z)),ql(z,()=>w(d),Z=>J(d,Z)),tt(p,h)},$$slots:{trigger:!0,content:!0}}),mt()}fe(["click","change"]);function Dm(t,e){var r,i;const n=(i=(r=t.target)==null?void 0:r.files)==null?void 0:i[0];if(n){const s=new FileReader;s.onload=()=>{J(e,s.result,!0)},s.readAsDataURL(n)}}var Nm=(t,e,n)=>{const r=e.find(i=>i.label===t.currentTarget.value);r&&J(n,r.url,!0)},Fm=dt("<option> </option>"),zm=dt('<div class="mt-4 max-h-96 overflow-auto border rounded p-2"><img alt="模写用" class="w-full max-w-96 object-contain rounded border"/></div>'),Bm=dt('<div class="space-y-4 p-4 bg-surface-100 rounded-xl"><h2 class="text-lg font-semibold">模写用</h2> <label class="flex flex-col"><span class="label-text font-medium">テンプレ</span> <select class="select select-bordered w-full bg-white"><option>自動入力</option><!></select></label> <div class="relative flex-1"><input name="url" type="url" placeholder="画像のURLを入力" class="input input-bordered w-full pr-8 bg-white"/> <!></div> <div><label class="label"><span class="label-text">ローカル保存ファイルから読み込む</span> <input class="input" type="file" accept="image/*"/></label></div> <!></div>');function Mm(t,e){gt(e,!0);let n=ht(""),r;const i=[{label:"鍵山雛",url:"https://i.imgur.com/Wd713Fe.png"},{label:"ドレミー",url:"https://i.imgur.com/vENwj1P.png"},{label:"八雲紫",url:"https://i.imgur.com/OLpXzvs.png"},{label:"カナ",url:"https://i.imgur.com/rgekbAz.png"}];var s=Bm(),a=Y(q(s),2),o=Y(q(a),2);o.__change=[Nm,i,n];var c=q(o);c.value=c.__value="";var d=Y(c);de(d,17,()=>i,ue,(y,x)=>{var E=Fm(),k={},I=q(E,!0);j(E),At(()=>{k!==(k=w(x).label)&&(E.value=(E.__value=w(x).label)??""),se(I,w(x).label)}),tt(y,E)}),j(o),j(a);var f=Y(a,2),g=q(f);qt(g);var u=Y(g,2);Ai(u,{class:"absolute right-2 top-2.5 text-gray-400",size:16,onclick:()=>{J(n,"")}}),j(f);var l=Y(f,2),p=q(l),h=Y(q(p),2);h.__change=[Dm,n],Se(h,y=>r=y,()=>r),j(p),j(l);var b=Y(l,2);{var v=y=>{var x=zm(),E=q(x);j(x),At(()=>Vt(E,"src",w(n))),tt(y,x)};Lt(b,y=>{w(n)&&y(v)})}j(s),kn(g,()=>w(n),y=>J(n,y)),tt(t,s),mt()}fe(["change"]);const Vm=(t,e,n)=>{e(new vn(`レイヤー #${w(n).length+1}`))};var Um=()=>{},Hm=(t,e,n)=>e(w(n)),Wm=(t,e,n)=>e(w(n)),jm=(t,e,n)=>e(w(n)),$m=dt('<li><div tabindex="0" role="button" class="flex flex-grow items-center space-x-2"><div class="gimp-checkered-background relative w-8 h-8 rounded overflow-hidden"><div class="w-full h-full bg-center bg-cover"></div></div> <div><p class="text-sm font-medium truncate max-w-[128px]"> </p> <div class="flex items-center text-xs text-gray-500 space-x-1"><!> <!> <span> </span></div></div></div> <div class="flex space-x-1"><button class="p-1 text-gray-500 hover:text-blue-500"><!></button> <button class="p-1 text-gray-500 hover:text-blue-500"><!></button></div></li>'),qm=dt('<div class="p-4 bg-white rounded shadow-md w-full max-w-md mx-auto max-h-[50vh] flex flex-col select-none"><div class="flex items-center text-xs text-gray-500"><!> 最背面</div> <ul class="divide-y divide-gray-200 overflow-auto flex-1 min-h-0"></ul> <div class="flex items-center text-xs text-gray-500"><!> 最前面</div> <button class="flex items-center justify-center py-1 bg-blue-500 text-white rounded hover:bg-blue-600"><!> レイヤー追加</button></div>');function Gm(t,e){gt(e,!0);let n=W(e,"activeLayer",15,void 0),r=ht(Gt([]));Bt(()=>{n()&&J(r,lr(),!0)});const i=p=>{const{prev:h}=p;h&&(p.swap(h.index),J(r,lr(),!0))},s=p=>{const{next:h}=p;h&&(p.swap(h.index),J(r,lr(),!0))};var a=qm(),o=q(a),c=q(o);zn(c,{class:"w-4 h-4 mr-1"}),ye(),j(o);var d=Y(o,2);de(d,21,()=>w(r),ue,(p,h,b)=>{var v=Ct(),y=pt(v);bi(y,()=>n()===w(h)?e.pointerupTimestamp:"noop",x=>{var E=$m(),k=q(E);k.__keydown=[Um],k.__click=[Hm,n,h];var I=q(k),O=q(I);j(I);var P=Y(I,2),A=q(P),M=q(A,!0);j(A);var F=Y(A,2),C=q(F);{var R=Z=>{as(Z,{class:"w-3 h-3",onclick:()=>w(h).locked=!1})},m=Z=>{Pd(Z,{class:"w-3 h-3",onclick:()=>w(h).locked=!0})};Lt(C,Z=>{w(h).locked?Z(R):Z(m,!1)})}var N=Y(C,2);{var V=Z=>{is(Z,{class:"w-3 h-3",onclick:()=>w(h).visible=!1})},U=Z=>{Id(Z,{class:"w-3 h-3",onclick:()=>w(h).visible=!0})};Lt(N,Z=>{w(h).visible?Z(V):Z(U,!1)})}var G=Y(N,2),$=q(G);j(G),j(F),j(P),j(k);var nt=Y(k,2),L=q(nt);L.__click=[Wm,s,h];var z=q(L);rs(z,{class:"w-4 h-4"}),j(L);var st=Y(L,2);st.__click=[jm,i,h];var at=q(st);zn(at,{class:"w-4 h-4"}),j(st),j(nt),j(E),At(Z=>{re(E,1,`flex items-center justify-between p-2 cursor-pointer ${n()===w(h)?"bg-blue-100":"hover:bg-gray-100"}`),Ge(O,`background-image: url(${Z??""});`),se(M,w(h).name),se($,`${w(h).opacity??""}%`)},[()=>w(h).used?w(h).canvas.toDataURL("image/png"):"https://placehold.co/32x32?text=new"]),tt(x,E)}),tt(p,v)}),j(d);var f=Y(d,2),g=q(f);rs(g,{class:"w-4 h-4 mr-1"}),ye(),j(f);var u=Y(f,2);u.__click=[Vm,n,r];var l=q(u);Bd(l,{class:"w-4 h-4 mr-2"}),ye(),j(u),j(a),tt(t,a),mt()}fe(["keydown","click"]);const Zm=async()=>{for(const t of lr()){const{canvas:e,ctx:n}=t,r=n.getImageData(0,0,e.width,e.height),i=await createImageBitmap(r);t.clear(),n.save(),n.scale(-1,1),n.drawImage(i,-e.width,0),n.restore(),t.trace()}},Km=(t,e)=>{const r=cr().getContext("2d",{willReadFrequently:!0});if(!r)return;const{width:i,height:s}=Tn,a=Ii(),{data:o}=r.getImageData(0,0,i*a,s*a);for(let c=0;c<s;c++)for(let d=0;d<i;d++){const f=(d+i*c*a)*a*4,[g,u,l,p]=o.subarray(f,f+4);if(!p)for(let h=0;h<9;h++){if(h===4)continue;const b=d+h%3-1,v=c+(h/3|0)-1;if(b<0||b>=i||v<0||v>=s)continue;const y=(b+i*v*a)*a*4,[x,E,k,I]=o.subarray(y,y+4);if(I){e.activeLayer.drawByDot(d*a,c*a);break}}}e.activeLayer.trace()};var Xm=(t,e)=>{J(e,!1)},Ym=dt('<header class="flex justify-between"><p class="font-bold text-xl">自動操作</p> <button class="btn-icon hover:preset-tonal"><!></button></header> <article class="space-y-4"><p class="opacity-60">自動お絵描き</p> <div class="pt-2"><button type="button" class="w-full px-4 py-2 rounded-lg bg-gray-500 text-white hover:bg-gray-600 transition" aria-label="submit">左右反転</button></div> <div class="pt-2"><button type="button" class="w-full px-4 py-2 rounded-lg bg-gray-500 text-white hover:bg-gray-600 transition" aria-label="submit">輪郭塗り</button></div></article>',1);function Jm(t,e){gt(e,!0);let n=ht(!1);ai(t,{get open(){return w(n)},onOpenChange:s=>J(n,s.open,!0),positioning:{placement:"top"},triggerBase:"btn preset-tonal",contentBase:"card bg-surface-300 p-4 space-y-4 max-w-[320px]",arrow:!0,arrowBackground:"!bg-surface-300 dark:!bg-surface-800",trigger:s=>{ye();var a=gr("マクロ");tt(s,a)},content:s=>{var a=Ym(),o=pt(a),c=Y(q(o),2);c.__click=[Xm,n];var d=q(c);ei(d,{}),j(c),j(o);var f=Y(o,2),g=Y(q(f),2),u=q(g);u.__click=[Zm],j(g);var l=Y(g,2),p=q(l);p.__click=[Km,e],j(l),j(f),tt(s,a)},$$slots:{trigger:!0,content:!0}}),mt()}fe(["click"]);var Qm=(t,e)=>{J(e,!1)},tb=dt('<header class="flex justify-between"><p class="font-bold text-xl">操作方法</p> <button class="btn-icon hover:preset-tonal"><!></button></header> <article class="opacity-60"><p>右クリック：カラーピッカー</p> <p>Ctrl + 1：ペン</p> <p>Ctrl + 2：消しゴム</p> <p>Ctrl + 3：カラーピッカー</p> <p>Ctrl + 4：塗りつぶし</p> <p>Ctrl + 5：ハンドツール</p> <p>Ctrl + E：常に消しゴム</p> <p>Ctrl + F：左右反転</p> <p>Ctrl + G：グリッド表示</p> <p>Ctrl + D：ダークモード</p> <p>Ctrl + O：オニオンスキン</p> <p>Ctrl + Z：戻す</p> <p>Ctrl + Shift + Z：やり直す</p> <p>Ctrl + S：保存</p> <p>Ctrl + C：コピー</p> <p>Ctrl + V：貼り付け</p> <p>画像ドロップ：貼り付け</p> <p>モニターサイズは24インチ以上推奨</p></article>',1);function eb(t){let e=ht(!1);ai(t,{get open(){return w(e)},onOpenChange:i=>J(e,i.open,!0),positioning:{placement:"top"},triggerBase:"btn preset-tonal",contentBase:"card bg-surface-300 p-4 space-y-4 max-w-[320px]",arrow:!0,arrowBackground:"!bg-surface-300 dark:!bg-surface-800",trigger:i=>{ye();var s=gr("説明書");tt(i,s)},content:i=>{var s=tb(),a=pt(s),o=Y(q(a),2);o.__click=[Qm,e];var c=q(o);ei(c,{}),j(o),j(a),ye(2),tt(i,s)},$$slots:{trigger:!0,content:!0}})}fe(["click"]);var nb=dt('<canvas class="border border-gray-300 gimp-checkered-background"></canvas>');function rb(t,e){gt(e,!0);const[n,r]=Gn(),i=()=>Xe(Wn,"$activeIndex",n),s=()=>Xe(vr,"$fps",n),a=48*4;let o=ht(0);Bt(()=>{e.initTimestamp&&J(o,Math.floor(a*ti/Qr),!0)});const c=u=>{d=requestAnimationFrame(c);const{frames:l}=Tn,p=Math.floor(i()/l)*l,h=Ye,y=(u/1e3*s()|0)%h;if(!p&&p!==0||!w(f))return;const x=w(f).getContext("2d",{willReadFrequently:!0});if(!x)return;x.clearRect(0,0,w(f).width,w(f).height);const E=Pe.get(p+y);E&&x.drawImage(E,0,0,w(f).width,w(f).height)};Bt(()=>{if(w(f))return c(0),()=>cancelAnimationFrame(d)});let d,f=ht(void 0);var g=nb();Vt(g,"width",a),Se(g,u=>J(f,u),()=>w(f)),At(()=>Vt(g,"height",w(o))),tt(t,g),mt(),r()}var ib=dt('<canvas class="border border-gray-300 gimp-checkered-background"></canvas>'),ab=dt('<div class="grid grid-cols-3 gap-2"></div>');function sb(t,e){gt(e,!0);const[n,r]=Gn(),i=()=>Xe(vr,"$fps",n),s=48;let a=ht(0);Bt(()=>{e.initTimestamp&&J(a,Math.floor(s*ti/Qr),!0)});const o=[wt.q,wt.w,wt.e,wt.a,null,wt.d,wt.z,wt.s,wt.c],c=[wt.s,wt.a,wt.w,wt.d],d=[wt.s,wt.z,wt.a,wt.q,wt.w,wt.e,wt.d,wt.c],f=p=>{g=requestAnimationFrame(f);const h=Ye,v=p/1e3*i()|0,y=h===1?0:h-1-Math.abs(v%((h-1)*2)-(h-1)),x=v/(8/h)|0;for(const[E,k]of o.entries())if(k===null){const I=Zi;if(I!==4&&I!==8)continue;const P=(I===4?c:d)[x%I],A=Vr.get(P);if(!A&&A!==0)continue;const M=Pe.get(A+y);if(!M)continue;const F=u[E];if(!F)continue;const C=F.getContext("2d",{willReadFrequently:!0});if(!C)continue;C.clearRect(0,0,F.width,F.height),C.drawImage(M,0,0,F.width,F.height)}else{const I=Vr.get(k);if(!I&&I!==0)continue;const O=u[E];if(!O)continue;const P=O.getContext("2d",{willReadFrequently:!0});if(!P)continue;P.clearRect(0,0,O.width,O.height);const A=Pe.get(I+y);if(!A)continue;P.drawImage(A,0,0,O.width,O.height)}};Bt(()=>{if(u)return f(0),()=>cancelAnimationFrame(g)});let g,u=Gt(Array(o.length));var l=ab();de(l,21,()=>u,ue,(p,h,b)=>{var v=ib();Vt(v,"width",s),Se(v,(y,x)=>u[x]=y,y=>u==null?void 0:u[y],()=>[b]),At(()=>Vt(v,"height",w(a))),tt(p,v)}),j(l),tt(t,l),mt(),r()}var ob=dt("<option> </option>"),lb=dt("<option> </option>"),cb=dt('<div class="max-w-xs flex flex-col gap-4"><label class="flex flex-col"><select class="select select-bordered w-full bg-white"></select></label> <label class="flex flex-col"><select class="select select-bordered w-full bg-white"></select></label> <!></div>');function ub(t,e){gt(e,!0);const[n,r]=Gn(),i=()=>Xe(vr,"$fps",n),s=["歩行グラ","シンプル"];let a=ht(Gt(xo.value??"歩行グラ"));var o=cb(),c=q(o),d=q(c);Wa(d,i);var f;d.__change=v=>{const{value:y}=v.currentTarget,x=Number(y);vr.set(x),Ga.value=String(x)},de(d,20,()=>[2,3,4,5,6,7,8],ue,(v,y)=>{var x=ob(),E={},k=q(x);j(x),At(()=>{E!==(E=y)&&(x.value=(x.__value=y)??""),se(k,`${y??""}fps`)}),tt(v,x)}),j(d),j(c);var g=Y(c,2),u=q(g);Wa(u,()=>w(a));var l;u.__change=v=>{const{value:y}=v.currentTarget;J(a,y,!0),xo.value=y},de(u,21,()=>s,ue,(v,y)=>{var x=lb(),E={},k=q(x,!0);j(x),At(()=>{E!==(E=w(y))&&(x.value=(x.__value=w(y))??""),se(k,w(y))}),tt(v,x)}),j(u),j(g);var p=Y(g,2);{var h=v=>{sb(v,{get initTimestamp(){return e.initTimestamp}})},b=(v,y)=>{{var x=E=>{rb(E,{get initTimestamp(){return e.initTimestamp}})};Lt(v,E=>{w(a)==="シンプル"&&E(x)},y)}};Lt(p,v=>{w(a)==="歩行グラ"?v(h):v(b,!1)})}j(o),At(()=>{f!==(f=i())&&(d.value=(d.__value=i())??"",ja(d,i())),l!==(l=w(a))&&(u.value=(u.__value=w(a))??"",ja(u,w(a)))}),tt(t,o),mt(),r()}fe(["change"]);var sn;function tu(t){return{lang:(t==null?void 0:t.lang)??(sn==null?void 0:sn.lang),message:t==null?void 0:t.message,abortEarly:(t==null?void 0:t.abortEarly)??(sn==null?void 0:sn.abortEarly),abortPipeEarly:(t==null?void 0:t.abortPipeEarly)??(sn==null?void 0:sn.abortPipeEarly)}}var Da;function db(t){return Da==null?void 0:Da.get(t)}var Na;function fb(t){return Na==null?void 0:Na.get(t)}var Fa;function hb(t,e){var n;return(n=Fa==null?void 0:Fa.get(t))==null?void 0:n.get(e)}function Zr(t){var n,r;const e=typeof t;return e==="string"?`"${t}"`:e==="number"||e==="bigint"||e==="boolean"?`${t}`:e==="object"||e==="function"?(t&&((r=(n=Object.getPrototypeOf(t))==null?void 0:n.constructor)==null?void 0:r.name))??"null":e}function Ke(t,e,n,r,i){const s=i&&"input"in i?i.input:n.value,a=(i==null?void 0:i.expected)??t.expects??null,o=(i==null?void 0:i.received)??Zr(s),c={kind:t.kind,type:t.type,input:s,expected:a,received:o,message:`Invalid ${e}: ${a?`Expected ${a} but r`:"R"}eceived ${o}`,requirement:t.requirement,path:i==null?void 0:i.path,issues:i==null?void 0:i.issues,lang:r.lang,abortEarly:r.abortEarly,abortPipeEarly:r.abortPipeEarly},d=t.kind==="schema",f=(i==null?void 0:i.message)??t.message??hb(t.reference,c.lang)??(d?fb(c.lang):null)??r.message??db(c.lang);f!==void 0&&(c.message=typeof f=="function"?f(c):f),d&&(n.typed=!1),n.issues?n.issues.push(c):n.issues=[c]}function si(t){return{version:1,vendor:"valibot",validate(e){return t["~run"]({value:e},tu())}}}function eu(t,e){return{kind:"validation",type:"check",reference:eu,async:!1,expects:null,requirement:t,message:e,"~run"(n,r){return n.typed&&!this.requirement(n.value)&&Ke(this,"input",n,r),n}}}function _i(t){return{kind:"validation",type:"integer",reference:_i,async:!1,expects:null,requirement:Number.isInteger,message:t,"~run"(e,n){return e.typed&&!this.requirement(e.value)&&Ke(this,"integer",e,n),e}}}function wi(t,e){return{kind:"validation",type:"max_value",reference:wi,async:!1,expects:`<=${t instanceof Date?t.toJSON():Zr(t)}`,requirement:t,message:e,"~run"(n,r){return n.typed&&!(n.value<=this.requirement)&&Ke(this,"value",n,r,{received:n.value instanceof Date?n.value.toJSON():Zr(n.value)}),n}}}function xi(t,e){return{kind:"validation",type:"min_value",reference:xi,async:!1,expects:`>=${t instanceof Date?t.toJSON():Zr(t)}`,requirement:t,message:e,"~run"(n,r){return n.typed&&!(n.value>=this.requirement)&&Ke(this,"value",n,r,{received:n.value instanceof Date?n.value.toJSON():Zr(n.value)}),n}}}function nu(t,e){return{kind:"validation",type:"regex",reference:nu,async:!1,expects:`${t}`,requirement:t,message:e,"~run"(n,r){return n.typed&&!this.requirement.test(n.value)&&Ke(this,"format",n,r),n}}}function ki(t){return{kind:"transformation",type:"transform",reference:ki,async:!1,operation:t,"~run"(e){return e.value=this.operation(e.value),e}}}function ru(){return{kind:"transformation",type:"trim",reference:ru,async:!1,"~run"(t){return t.value=t.value.trim(),t}}}function vb(t,e,n){return typeof t.fallback=="function"?t.fallback(e,n):t.fallback}function pb(t,e,n){return typeof t.default=="function"?t.default(e,n):t.default}function Ei(t){return{kind:"schema",type:"number",reference:Ei,expects:"number",async:!1,message:t,get"~standard"(){return si(this)},"~run"(e,n){return typeof e.value=="number"&&!isNaN(e.value)?e.typed=!0:Ke(this,"type",e,n),e}}}function iu(t,e){return{kind:"schema",type:"strict_object",reference:iu,expects:"Object",async:!1,entries:t,message:e,get"~standard"(){return si(this)},"~run"(n,r){var s;const i=n.value;if(i&&typeof i=="object"){n.typed=!0,n.value={};for(const a in this.entries){const o=this.entries[a];if(a in i||(o.type==="exact_optional"||o.type==="optional"||o.type==="nullish")&&o.default!==void 0){const c=a in i?i[a]:pb(o),d=o["~run"]({value:c},r);if(d.issues){const f={type:"object",origin:"value",input:i,key:a,value:c};for(const g of d.issues)g.path?g.path.unshift(f):g.path=[f],(s=n.issues)==null||s.push(g);if(n.issues||(n.issues=d.issues),r.abortEarly){n.typed=!1;break}}d.typed||(n.typed=!1),n.value[a]=d.value}else if(o.fallback!==void 0)n.value[a]=vb(o);else if(o.type!=="exact_optional"&&o.type!=="optional"&&o.type!=="nullish"&&(Ke(this,"key",n,r,{input:void 0,expected:`"${a}"`,path:[{type:"object",origin:"key",input:i,key:a,value:i[a]}]}),r.abortEarly))break}if(!n.issues||!r.abortEarly){for(const a in i)if(!(a in this.entries)){Ke(this,"key",n,r,{input:a,expected:"never",path:[{type:"object",origin:"key",input:i,key:a,value:i[a]}]});break}}}else Ke(this,"type",n,r);return n}}}function au(t){return{kind:"schema",type:"string",reference:au,expects:"string",async:!1,message:t,get"~standard"(){return si(this)},"~run"(e,n){return typeof e.value=="string"?e.typed=!0:Ke(this,"type",e,n),e}}}function Ci(){return{kind:"schema",type:"unknown",reference:Ci,expects:"unknown",async:!1,get"~standard"(){return si(this)},"~run"(t){return t.typed=!0,t}}}function vi(...t){return{...t[0],pipe:t,get"~standard"(){return si(this)},"~run"(e,n){for(const r of t)if(r.kind!=="metadata"){if(e.issues&&(r.kind==="schema"||r.kind==="transformation")){e.typed=!1;break}(!e.issues||!n.abortEarly&&!n.abortPipeEarly)&&(e=r["~run"](e,n))}return e}}}function gb(t,e,n){const r=t["~run"]({value:e},tu(n));return{typed:r.typed,success:!r.issues,output:r.value,issues:r.issues}}var mb=(t,e)=>{J(e,!1)},bb=(t,e,n,r,i,s)=>{const a=Xi.find(o=>o.label===t.currentTarget.value);a&&(J(e,a.w,!0),J(n,a.h,!0),J(r,a.frames,!0),J(i,Ki(a.ways),!0),J(s,a.label,!0))},yb=dt("<option> </option>"),_b=dt('<header class="flex justify-between"><p class="font-bold text-xl">コマ数 / サイズ変更</p> <button class="btn-icon hover:preset-tonal"><!></button></header> <article class="space-y-4"><p class="opacity-60">ツクールの規格に対応できます</p> <label class="flex flex-col"><span class="label-text font-medium">テンプレ</span> <select class="select select-bordered w-full bg-white"><option>自動入力</option><!></select></label> <label class="flex flex-col gap-1"><span class="label-text font-medium">幅</span> <input type="number" placeholder="例: 48"/></label> <label class="flex flex-col gap-1"><span class="label-text font-medium">高さ</span> <input type="number" placeholder="例: 48"/></label> <label class="flex flex-col gap-1"><span class="label-text font-medium">コマ数</span> <input type="number" placeholder="例: 3"/></label> <label class="flex flex-col gap-1"><span class="label-text font-medium">方向転換</span> <input type="text" placeholder="例: wasdqezc"/> <p class="opacity-60 text-xs">wasd(前後左右)+qezc(ナナメ)</p></label> <div class="pt-2"><button type="button" class="btn btn-primary w-full bg-blue-500 text-white rounded hover:bg-blue-600" aria-label="submit">初期化の実行</button></div></article>',1);function wb(t,e){gt(e,!0);let n=ht(!1),r=ht(void 0),i=ht(Gt(me.w)),s=ht(Gt(me.h)),a=ht(Gt(me.frames)),o=ht(Gt(Ki(me.ways))),c=ht(Gt(new Set));const d=iu({width:vi(Ci(),ki(f=>Number(f)),Ei(),_i(),xi(16),wi(256)),height:vi(Ci(),ki(f=>Number(f)),Ei(),_i(),xi(16),wi(256)),frames:vi(Ci(),ki(f=>Number(f)),Ei(),_i(),xi(1),wi(8)),ways:vi(au(),ru(),nu(/^[a-z]+$/),eu(f=>f.length===new Set(f).size))});return ai(t,{get open(){return w(n)},onOpenChange:u=>J(n,u.open,!0),positioning:{placement:"top"},triggerBase:"btn preset-tonal",contentBase:"card bg-surface-300 p-4 space-y-4 max-w-[320px]",arrow:!0,arrowBackground:"!bg-surface-300 dark:!bg-surface-800",trigger:u=>{ye();var l=gr("リサイズ");tt(u,l)},content:u=>{var l=_b(),p=pt(l),h=Y(q(p),2);h.__click=[mb,n];var b=q(h);ei(b,{}),j(h),j(p);var v=Y(p,2),y=Y(q(v),2),x=Y(q(y),2);Wa(x,()=>w(r)??me.label);var E;x.__change=[bb,i,s,a,o,r];var k=q(x);k.value=k.__value="";var I=Y(k);de(I,17,()=>Xi,ue,(L,z)=>{var st=yb(),at={},Z=q(st,!0);j(st),At(()=>{at!==(at=w(z).label)&&(st.value=(st.__value=w(z).label)??""),se(Z,w(z).label)}),tt(L,st)}),j(x),j(y);var O=Y(y,2),P=Y(q(O),2);qt(P);let A;j(O);var M=Y(O,2),F=Y(q(M),2);qt(F);let C;j(M);var R=Y(M,2),m=Y(q(R),2);qt(m);let N;j(R);var V=Y(R,2),U=Y(q(V),2);qt(U);let G;ye(2),j(V);var $=Y(V,2),nt=q($);nt.__click=()=>{const L=gb(d,{width:w(i),height:w(s),frames:w(a),ways:w(o)});if(!L.success){J(c,new Set(L.issues.map(z=>{var st;return((st=z.path)==null?void 0:st[0].key)??""}).map(String)),!0);return}J(c,new Set,!0),confirm("初期化しますか？（※全てのデータは失われます）")&&(Ps(L.output.width,L.output.height,L.output.frames,L.output.ways),e.init(),w(r)&&(Kl.value=w(r)))},j($),j(v),At((L,z,st,at)=>{E!==(E=w(r)??me.label)&&(x.value=(x.__value=w(r)??me.label)??"",ja(x,w(r)??me.label)),A=re(P,1,"input input-bordered w-full placeholder:opacity-40",null,A,L),C=re(F,1,"input input-bordered w-full bg-white placeholder:opacity-40",null,C,z),N=re(m,1,"input input-bordered w-full bg-white placeholder:opacity-40",null,N,st),G=re(U,1,"input input-bordered w-full bg-white placeholder:opacity-40",null,G,at)},[()=>({"bg-error-50":w(c).has("width"),"bg-white":!w(c).has("width")}),()=>({"bg-error-50":w(c).has("height"),"bg-white":!w(c).has("height")}),()=>({"bg-error-50":w(c).has("frames"),"bg-white":!w(c).has("frames")}),()=>({"bg-error-50":w(c).has("ways"),"bg-white":!w(c).has("ways")})]),kn(P,()=>w(i),L=>J(i,L)),kn(F,()=>w(s),L=>J(s,L)),kn(m,()=>w(a),L=>J(a,L)),kn(U,()=>w(o),L=>J(o,L)),tt(u,l)},$$slots:{trigger:!0,content:!0}}),mt({ParamSchema:d})}fe(["click","change"]);const zr=Gi(!1),su=()=>{const t=Ns.value;if(t&&(t.clear(),$a(zr))){const e=$a(Wn),[n,r]=Xl(e);let i=n-1;i===-1&&(i=Ye-1);const s=$e(i,r),a=Pe.get(s);if(!a)return;t.ctx.globalAlpha=.4,t.ctx.drawImage(a,0,0)}};Wn.subscribe(su);zr.subscribe(su);var xb="M17 3H5C3.89 3 3 3.9 3 5V19C3 20.1 3.89 21 5 21H19C20.1 21 21 20.1 21 19V7L17 3M19 19H5V5H16.17L19 7.83V19M12 12C10.34 12 9 13.34 9 15S10.34 18 12 18 15 16.66 15 15 13.66 12 12 12M6 6H15V10H6V6Z",kb="M16.24,3.56L21.19,8.5C21.97,9.29 21.97,10.55 21.19,11.34L12,20.53C10.44,22.09 7.91,22.09 6.34,20.53L2.81,17C2.03,16.21 2.03,14.95 2.81,14.16L13.41,3.56C14.2,2.78 15.46,2.78 16.24,3.56M4.22,15.58L7.76,19.11C8.54,19.9 9.8,19.9 10.59,19.11L14.12,15.58L9.17,10.63L4.22,15.58Z",Eb="M19.35,11.72L17.22,13.85L15.81,12.43L8.1,20.14L3.5,22L2,20.5L3.86,15.9L11.57,8.19L10.15,6.78L12.28,4.65L19.35,11.72M16.76,3C17.93,1.83 19.83,1.83 21,3C22.17,4.17 22.17,6.07 21,7.24L19.08,9.16L14.84,4.92L16.76,3M5.56,17.03L4.5,19.5L6.97,18.44L14.4,11L13,9.6L5.56,17.03Z",Cb="M19,11.5C19,11.5 17,13.67 17,15A2,2 0 0,0 19,17A2,2 0 0,0 21,15C21,13.67 19,11.5 19,11.5M5.21,10L10,5.21L14.79,10M16.56,8.94L7.62,0L6.21,1.41L8.59,3.79L3.44,8.94C2.85,9.5 2.85,10.47 3.44,11.06L8.94,16.56C9.23,16.85 9.62,17 10,17C10.38,17 10.77,16.85 11.06,16.56L16.56,11.06C17.15,10.47 17.15,9.5 16.56,8.94Z",Sb="M13 24C9.74 24 6.81 22 5.6 19L2.57 11.37C2.26 10.58 3 9.79 3.81 10.05L4.6 10.31C5.16 10.5 5.62 10.92 5.84 11.47L7.25 15H8V3.25C8 2.56 8.56 2 9.25 2S10.5 2.56 10.5 3.25V12H11.5V1.25C11.5 .56 12.06 0 12.75 0S14 .56 14 1.25V12H15V2.75C15 2.06 15.56 1.5 16.25 1.5C16.94 1.5 17.5 2.06 17.5 2.75V12H18.5V5.75C18.5 5.06 19.06 4.5 19.75 4.5S21 5.06 21 5.75V16C21 20.42 17.42 24 13 24Z",Tb="M20.71,7.04C20.37,7.38 20.04,7.71 20.03,8.04C20,8.36 20.34,8.69 20.66,9C21.14,9.5 21.61,9.95 21.59,10.44C21.57,10.93 21.06,11.44 20.55,11.94L16.42,16.08L15,14.66L19.25,10.42L18.29,9.46L16.87,10.87L13.12,7.12L16.96,3.29C17.35,2.9 18,2.9 18.37,3.29L20.71,5.63C21.1,6 21.1,6.65 20.71,7.04M3,17.25L12.56,7.68L16.31,11.43L6.75,21H3V17.25Z",Ib="M18.4,10.6C16.55,9 14.15,8 11.5,8C6.85,8 2.92,11.03 1.54,15.22L3.9,16C4.95,12.81 7.95,10.5 11.5,10.5C13.45,10.5 15.23,11.22 16.62,12.38L13,16H22V7L18.4,10.6Z",Ab="M9,3V4H4V6H5V19A2,2 0 0,0 7,21H17A2,2 0 0,0 19,19V6H20V4H15V3H9M7,6H17V19H7V6M9,8V17H11V8H9M13,8V17H15V8H13Z",Ob="M12.5,8C9.85,8 7.45,9 5.6,10.6L2,7V16H11L7.38,12.38C8.77,11.22 10.54,10.5 12.5,10.5C16.04,10.5 19.05,12.81 20.1,16L22.47,15.22C21.08,11.03 17.15,8 12.5,8Z",Rb={grad:.9,turn:360,rad:360/(2*Math.PI)},on=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},Qt=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=Math.pow(10,e)),Math.round(n*t)/n+0},Ee=function(t,e,n){return e===void 0&&(e=0),n===void 0&&(n=1),t>n?n:t>e?t:e},ou=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},bl=function(t){return{r:Ee(t.r,0,255),g:Ee(t.g,0,255),b:Ee(t.b,0,255),a:Ee(t.a)}},za=function(t){return{r:Qt(t.r),g:Qt(t.g),b:Qt(t.b),a:Qt(t.a,3)}},Pb=/^#([0-9a-f]{3,8})$/i,pi=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},lu=function(t){var e=t.r,n=t.g,r=t.b,i=t.a,s=Math.max(e,n,r),a=s-Math.min(e,n,r),o=a?s===e?(n-r)/a:s===n?2+(r-e)/a:4+(e-n)/a:0;return{h:60*(o<0?o+6:o),s:s?a/s*100:0,v:s/255*100,a:i}},cu=function(t){var e=t.h,n=t.s,r=t.v,i=t.a;e=e/360*6,n/=100,r/=100;var s=Math.floor(e),a=r*(1-n),o=r*(1-(e-s)*n),c=r*(1-(1-e+s)*n),d=s%6;return{r:255*[r,o,a,a,c,r][d],g:255*[c,r,r,o,a,a][d],b:255*[a,a,c,r,r,o][d],a:i}},yl=function(t){return{h:ou(t.h),s:Ee(t.s,0,100),l:Ee(t.l,0,100),a:Ee(t.a)}},_l=function(t){return{h:Qt(t.h),s:Qt(t.s),l:Qt(t.l),a:Qt(t.a,3)}},wl=function(t){return cu((n=(e=t).s,{h:e.h,s:(n*=((r=e.l)<50?r:100-r)/100)>0?2*n/(r+n)*100:0,v:r+n,a:e.a}));var e,n,r},Br=function(t){return{h:(e=lu(t)).h,s:(i=(200-(n=e.s))*(r=e.v)/100)>0&&i<200?n*r/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,n,r,i},Lb=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Db=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Nb=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Fb=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,xl={string:[[function(t){var e=Pb.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?Qt(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?Qt(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=Nb.exec(t)||Fb.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:bl({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=Lb.exec(t)||Db.exec(t);if(!e)return null;var n,r,i=yl({h:(n=e[1],r=e[2],r===void 0&&(r="deg"),Number(n)*(Rb[r]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return wl(i)},"hsl"]],object:[[function(t){var e=t.r,n=t.g,r=t.b,i=t.a,s=i===void 0?1:i;return on(e)&&on(n)&&on(r)?bl({r:Number(e),g:Number(n),b:Number(r),a:Number(s)}):null},"rgb"],[function(t){var e=t.h,n=t.s,r=t.l,i=t.a,s=i===void 0?1:i;if(!on(e)||!on(n)||!on(r))return null;var a=yl({h:Number(e),s:Number(n),l:Number(r),a:Number(s)});return wl(a)},"hsl"],[function(t){var e=t.h,n=t.s,r=t.v,i=t.a,s=i===void 0?1:i;if(!on(e)||!on(n)||!on(r))return null;var a=function(o){return{h:ou(o.h),s:Ee(o.s,0,100),v:Ee(o.v,0,100),a:Ee(o.a)}}({h:Number(e),s:Number(n),v:Number(r),a:Number(s)});return cu(a)},"hsv"]]},kl=function(t,e){for(var n=0;n<e.length;n++){var r=e[n][0](t);if(r)return[r,e[n][1]]}return[null,void 0]},zb=function(t){return typeof t=="string"?kl(t.trim(),xl.string):typeof t=="object"&&t!==null?kl(t,xl.object):[null,void 0]},Ba=function(t,e){var n=Br(t);return{h:n.h,s:Ee(n.s+100*e,0,100),l:n.l,a:n.a}},Ma=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},El=function(t,e){var n=Br(t);return{h:n.h,s:n.s,l:Ee(n.l+100*e,0,100),a:n.a}},Cl=function(){function t(e){this.parsed=zb(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return Qt(Ma(this.rgba),2)},t.prototype.isDark=function(){return Ma(this.rgba)<.5},t.prototype.isLight=function(){return Ma(this.rgba)>=.5},t.prototype.toHex=function(){return e=za(this.rgba),n=e.r,r=e.g,i=e.b,a=(s=e.a)<1?pi(Qt(255*s)):"","#"+pi(n)+pi(r)+pi(i)+a;var e,n,r,i,s,a},t.prototype.toRgb=function(){return za(this.rgba)},t.prototype.toRgbString=function(){return e=za(this.rgba),n=e.r,r=e.g,i=e.b,(s=e.a)<1?"rgba("+n+", "+r+", "+i+", "+s+")":"rgb("+n+", "+r+", "+i+")";var e,n,r,i,s},t.prototype.toHsl=function(){return _l(Br(this.rgba))},t.prototype.toHslString=function(){return e=_l(Br(this.rgba)),n=e.h,r=e.s,i=e.l,(s=e.a)<1?"hsla("+n+", "+r+"%, "+i+"%, "+s+")":"hsl("+n+", "+r+"%, "+i+"%)";var e,n,r,i,s},t.prototype.toHsv=function(){return e=lu(this.rgba),{h:Qt(e.h),s:Qt(e.s),v:Qt(e.v),a:Qt(e.a,3)};var e},t.prototype.invert=function(){return ge({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),ge(Ba(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),ge(Ba(this.rgba,-e))},t.prototype.grayscale=function(){return ge(Ba(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),ge(El(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),ge(El(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?ge({r:(n=this.rgba).r,g:n.g,b:n.b,a:e}):Qt(this.rgba.a,3);var n},t.prototype.hue=function(e){var n=Br(this.rgba);return typeof e=="number"?ge({h:e,s:n.s,l:n.l,a:n.a}):Qt(n.h)},t.prototype.isEqual=function(e){return this.toHex()===ge(e).toHex()},t}(),ge=function(t){return t instanceof Cl?t:new Cl(t)};function Bb(t,e,n,r,i,s,a){var c;const o=t.shiftKey?w(e)*10:w(e);t.key==="ArrowUp"||t.key==="ArrowRight"?(n(n()+o),t.preventDefault()):t.key==="ArrowDown"||t.key==="ArrowLeft"?(n(n()-o),t.preventDefault()):t.key==="Home"?(n(w(r)),t.preventDefault()):t.key==="End"?(n(w(i)),t.preventDefault()):t.key==="PageUp"?(n(n()+w(e)*10),t.preventDefault()):t.key==="PageDown"&&(n(n()-w(e)*10),t.preventDefault()),n(s(n())),(c=a.onInput)==null||c.call(a,n())}var Mb=dt('<input type="hidden"/>'),Vb=dt('<div role="slider" tabindex="0"><div class="track svelte-lo47zs"></div> <div class="thumb svelte-lo47zs"></div></div> <!>',1);function Wi(t,e){gt(e,!0);let n=W(e,"min",3,0),r=W(e,"max",3,100),i=W(e,"step",3,1),s=W(e,"value",15,50),a=W(e,"ariaValueText",3,R=>R.toString()),o=W(e,"direction",3,"horizontal"),c=W(e,"reverse",3,!1),d=W(e,"keyboardOnly",3,!1),f=W(e,"slider",7),g=W(e,"isDragging",7,!1);const u=ct(()=>typeof n()=="string"?parseFloat(n()):n()),l=ct(()=>typeof r()=="string"?parseFloat(r()):r()),p=ct(()=>typeof i()=="string"?parseFloat(i()):i());function h(R){const m=1/w(p),N=Math.round(R*m)/m;return Math.max(w(u),Math.min(w(l),N))}const b={horizontal:{clientSize:"clientWidth",offset:"left",client:"clientX"},vertical:{clientSize:"clientHeight",offset:"top",client:"clientY"}};function v(R){var U,G,$;const m=((U=f())==null?void 0:U[b[o()].clientSize])||120,N=((G=f())==null?void 0:G.getBoundingClientRect()[b[o()].offset])||0;let V=R[b[o()].client]-N;o()==="vertical"&&(V=-1*V+m),c()?s(w(l)-V/m*(w(l)-w(u))):s(V/m*(w(l)-w(u))+w(u)),s(h(s())),($=e.onInput)==null||$.call(e,s())}function y(R){v(R),g(!0)}function x(R){g()&&v(R)}function E(){g(!1)}function k(R){R.preventDefault(),v({clientX:R.changedTouches[0].clientX,clientY:R.changedTouches[0].clientY})}const I=ct(()=>((s()-w(u))/(w(l)-w(u))*1).toFixed(4));var O=Vb();Mn("mousemove",Vn,x),Mn("mouseup",Vn,E);var P=pt(O);let A;P.__keydown=[Bb,p,s,u,l,h,e],P.__mousedown=function(...R){var m;(m=d()?void 0:y)==null||m.apply(this,R)},P.__touchstart=function(...R){var m;(m=d()?void 0:k)==null||m.apply(this,R)},P.__touchmove=function(...R){var m;(m=d()?void 0:k)==null||m.apply(this,R)},P.__touchend=function(...R){var m;(m=d()?void 0:k)==null||m.apply(this,R)};let M;Se(P,R=>f(R),()=>f());var F=Y(P,2);{var C=R=>{var m=Mb();qt(m),At(()=>{Vt(m,"name",e.name),Oe(m,s())}),tt(R,m)};Lt(F,R=>{e.name&&R(C)})}At((R,m)=>{A=re(P,1,"slider svelte-lo47zs",null,A,R),Vt(P,"aria-orientation",o()),Vt(P,"aria-valuemax",w(l)),Vt(P,"aria-valuemin",w(u)),Vt(P,"aria-valuenow",s()),Vt(P,"aria-valuetext",m),Vt(P,"aria-label",e.ariaLabel),Vt(P,"aria-labelledby",e.ariaLabelledBy),Vt(P,"aria-controls",e.ariaControls),M=Ge(P,"",M,{"--position":w(I)})},[()=>({reverse:c()}),()=>a()(s())]),tt(t,O),mt()}fe(["keydown","mousedown","touchstart","touchmove","touchend"]);function Va(t,e){t.preventDefault(),e(t.changedTouches[0])}var Ub=dt('<div class="picker svelte-ckxa16"><!> <div class="s svelte-ckxa16"><!></div> <div class="v svelte-ckxa16"><!></div></div>');function Hb(t,e){gt(e,!0);let n=W(e,"s",15),r=W(e,"v",15),i=ht(void 0),s=!1,a=ht(Gt({x:100,y:0})),o=ct(()=>ge({h:e.h,s:100,v:100,a:1}).toHex());function c(O,P,A){return Math.min(Math.max(P,O),A)}function d(O){if(!w(i))return;const{width:P,left:A,height:M,top:F}=w(i).getBoundingClientRect(),C={x:c(O.clientX-A,0,P),y:c(O.clientY-F,0,M)};n(c(C.x/P,0,1)*100),r(c((M-C.y)/M,0,1)*100),l()}function f(O){O.preventDefault(),O.button===0&&(s=!0,d(O))}function g(){s=!1}function u(O){s&&d(O)}Bt(()=>{typeof n()=="number"&&typeof r()=="number"&&w(i)&&J(a,{x:n(),y:100-r()},!0)});function l(O={}){e.onInput({s:n(),v:r(),...O})}var p=Ub();Mn("mouseup",Vn,g),Mn("mousemove",Vn,u),p.__mousedown=f,p.__touchstart=[Va,d],p.__touchmove=[Va,d],p.__touchend=[Va,d];let h;var b=q(p);ce(b,()=>e.components.pickerIndicator,(O,P)=>{P(O,{get pos(){return w(a)},get isDark(){return e.isDark}})});var v=Y(b,2);let y;var x=q(v);Wi(x,{get value(){return n()},onInput:O=>l({s:O}),keyboardOnly:!0,ariaValueText:O=>`${O}%`,get ariaLabel(){return e.texts.label.s}}),j(v);var E=Y(v,2);let k;var I=q(E);Wi(I,{get value(){return r()},onInput:O=>l({v:O}),keyboardOnly:!0,ariaValueText:O=>`${O}%`,direction:"vertical",get ariaLabel(){return e.texts.label.v}}),j(E),j(p),Se(p,O=>J(i,O),()=>w(i)),At(()=>{h=Ge(p,"",h,{"--picker-color-bg":w(o)}),y=Ge(v,"",y,{"--pos-y":w(a).y}),k=Ge(E,"",k,{"--pos-x":w(a).x})}),tt(t,p),mt()}fe(["mousedown","touchstart","touchmove","touchend"]);var Wb=dt('<div class="picker-indicator svelte-1h8ycw8"></div>');function jb(t,e){gt(e,!0);var n=Wb();let r;At(()=>r=Ge(n,"",r,{"--pos-x":e.pos.x,"--pos-y":e.pos.y})),tt(t,n),mt()}function $b(t,e,n,r){const i=t.target;e.test(i.value)&&(n(i.value),r.onInput({hex:n()}))}var qb=dt('<input class="svelte-qtukzs"/>'),Gb=dt('<input type="number" min="0" max="255" class="svelte-qtukzs"/> <input type="number" min="0" max="255" class="svelte-qtukzs"/> <input type="number" min="0" max="255" class="svelte-qtukzs"/>',1),Zb=dt('<input type="number" min="0" max="360" class="svelte-qtukzs"/> <input type="number" min="0" max="100" class="svelte-qtukzs"/> <input type="number" min="0" max="100" class="svelte-qtukzs"/>',1),Kb=dt('<input type="number" min="0" max="1" step="0.01" class="svelte-qtukzs"/>'),Xb=(t,e,n)=>J(e,w(n),!0),Yb=dt('<button type="button" class="svelte-qtukzs"><span class="disappear svelte-qtukzs" aria-hidden="true"> </span> <span class="appear svelte-qtukzs"> </span></button>'),Jb=dt('<div class="button-like svelte-qtukzs"> </div>'),Qb=dt('<div class="text-input svelte-qtukzs"><div class="input-container svelte-qtukzs"><!> <!></div> <!></div>');function t0(t,e){gt(e,!0);let n=W(e,"rgb",15),r=W(e,"hsv",15),i=W(e,"hex",15);const s=/^#?([A-F0-9]{6}|[A-F0-9]{8})$/i;let a=ht(Gt(e.textInputModes[0]||"hex")),o=ct(()=>e.textInputModes[(e.textInputModes.indexOf(w(a))+1)%e.textInputModes.length]),c=ct(()=>Math.round(r().h)),d=ct(()=>Math.round(r().s)),f=ct(()=>Math.round(r().v)),g=ct(()=>r().a===void 0?1:Math.round(r().a*100)/100);function u(P){return function(A){n({...n(),[P]:parseFloat(A.target.value)}),e.onInput({rgb:n()})}}function l(P){return function(A){r({...r(),[P]:parseFloat(A.target.value)}),e.onInput({hsv:r()})}}var p=Qb(),h=q(p),b=q(h);{var v=P=>{var A=qb();qt(A),A.__input=[$b,s,i,e],Ge(A,"",{},{flex:3}),At(()=>{Vt(A,"aria-label",e.texts.label.hex),Oe(A,i())}),tt(P,A)},y=(P,A)=>{{var M=C=>{var R=Gb(),m=pt(R);qt(m);var N=ct(()=>u("r"));m.__input=function(...nt){var L;(L=w(N))==null||L.apply(this,nt)};var V=Y(m,2);qt(V);var U=ct(()=>u("g"));V.__input=function(...nt){var L;(L=w(U))==null||L.apply(this,nt)};var G=Y(V,2);qt(G);var $=ct(()=>u("b"));G.__input=function(...nt){var L;(L=w($))==null||L.apply(this,nt)},At(()=>{Vt(m,"aria-label",e.texts.label.r),Oe(m,n().r),Vt(V,"aria-label",e.texts.label.g),Oe(V,n().g),Vt(G,"aria-label",e.texts.label.b),Oe(G,n().b)}),tt(C,R)},F=C=>{var R=Zb(),m=pt(R);qt(m);var N=ct(()=>l("h"));m.__input=function(...nt){var L;(L=w(N))==null||L.apply(this,nt)};var V=Y(m,2);qt(V);var U=ct(()=>l("s"));V.__input=function(...nt){var L;(L=w(U))==null||L.apply(this,nt)};var G=Y(V,2);qt(G);var $=ct(()=>l("v"));G.__input=function(...nt){var L;(L=w($))==null||L.apply(this,nt)},At(()=>{Vt(m,"aria-label",e.texts.label.h),Oe(m,w(c)),Vt(V,"aria-label",e.texts.label.s),Oe(V,w(d)),Vt(G,"aria-label",e.texts.label.v),Oe(G,w(f))}),tt(C,R)};Lt(P,C=>{w(a)==="rgb"?C(M):C(F,!1)},A)}};Lt(b,P=>{w(a)==="hex"?P(v):P(y,!1)})}var x=Y(b,2);{var E=P=>{var A=Kb();qt(A);var M=ct(()=>w(a)==="hsv"?l("a"):u("a"));A.__input=function(...F){var C;(C=w(M))==null||C.apply(this,F)},At(()=>{Vt(A,"aria-label",e.texts.label.a),Oe(A,w(g))}),tt(P,A)};Lt(x,P=>{e.isAlpha&&P(E)})}j(h);var k=Y(h,2);{var I=P=>{var A=Yb();A.__click=[Xb,a,o];var M=q(A),F=q(M,!0);j(M);var C=Y(M,2),R=q(C);j(C),j(A),At(()=>{se(F,e.texts.color[w(a)]),se(R,`${e.texts.changeTo??""} ${e.texts.color[w(o)]??""}`)}),tt(P,A)},O=P=>{var A=Jb(),M=q(A,!0);j(A),At(()=>se(M,e.texts.color[w(a)])),tt(P,A)};Lt(k,P=>{e.textInputModes.length>1?P(I):P(O,!1)})}j(p),tt(t,p),mt()}fe(["input","click"]);function gi(t){t.preventDefault()}var e0=dt('<label class="svelte-lemcb1"><div class="container svelte-lemcb1"><input type="color" aria-haspopup="dialog" class="svelte-lemcb1"/> <div class="alpha svelte-lemcb1"></div> <div class="color svelte-lemcb1"></div></div> </label>');function n0(t,e){gt(e,!0);let n=W(e,"labelElement",15),r=W(e,"name",3,void 0);var i=e0();i.__click=[gi],i.__mousedown=[gi];var s=q(i),a=q(s);qt(a),a.__click=[gi],a.__mousedown=[gi];var o=Y(a,4);let c;j(s);var d=Y(s);j(i),Se(i,f=>n(f),()=>n()),At(()=>{Vt(i,"dir",e.dir),Vt(a,"name",r()),Oe(a,e.hex),c=Ge(o,"",c,{background:e.hex}),se(d,` ${e.label??""}`),i.dir=i.dir}),tt(t,i),mt()}fe(["click","mousedown"]);var r0=dt('<div aria-label="color picker"><!></div>');function i0(t,e){gt(e,!0);let n=W(e,"wrapper",15);var r=r0();let i;var s=q(r);Rt(s,()=>e.children),j(r),Se(r,a=>n(a),()=>n()),At(a=>{i=re(r,1,"wrapper svelte-h9ar9",null,i,a),Vt(r,"role",e.isDialog?"dialog":void 0)},[()=>({"is-open":e.isOpen})]),tt(t,r),mt()}const Ua={label:{h:"hue channel",s:"saturation channel",v:"brightness channel",r:"red channel",g:"green channel",b:"blue channel",a:"alpha channel",hex:"hex color",withoutColor:"without color"},color:{rgb:"rgb",hsv:"hsv",hex:"hex"},changeTo:"change to "},uu="a[href], area[href], input:not([type='hidden']):not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]";function a0(t){return function(e){if(e.target===window)return;const n=e.target;if(!t.contains(n))return;const r=t.querySelectorAll(uu),i=r[0],s=r[r.length-1];function a(c){return c.code==="Tab"&&!c.shiftKey}function o(c){return c.code==="Tab"&&c.shiftKey}a(e)&&e.target===s?(e.preventDefault(),i.focus()):o(e)&&e.target===i&&(e.preventDefault(),s.focus())}}const s0=t=>{const e=t.querySelector(uu);e&&e.focus();const n=a0(t);return document.addEventListener("keydown",n),{destroy(){document.removeEventListener("keydown",n)}}};var o0=dt('<label class="nullability-checkbox svelte-oskb5b"><div class="svelte-oskb5b"><input type="checkbox" class="svelte-oskb5b"/> <span class="svelte-oskb5b"></span></div> </label>');function l0(t,e){gt(e,!0);let n=W(e,"isUndefined",15);var r=o0(),i=q(r),s=q(i);qt(s),ye(2),j(i);var a=Y(i);j(r),At(()=>se(a,` ${e.texts.label.withoutColor??""}`)),ql(s,n),tt(t,r),mt()}var c0=dt('<input type="hidden"/>'),u0=dt('<div class="a svelte-1y2jcbx"><!></div>'),d0=dt('<!> <!> <div class="h svelte-1y2jcbx"><!></div> <!> <!> <!>',1),f0=dt("<span><!> <!></span>");function h0(t,e){gt(e,!0);let n=W(e,"components",19,()=>({})),r=W(e,"label",3,"Choose a color"),i=W(e,"name",3,void 0),s=W(e,"nullable",3,!1),a=W(e,"rgb",31,()=>Gt(s()?null:{r:255,g:0,b:0,a:1})),o=W(e,"hsv",31,()=>Gt(s()?null:{h:0,s:100,v:100,a:1})),c=W(e,"hex",31,()=>Gt(s()?null:"#ff0000")),d=W(e,"color",15,null),f=W(e,"isDark",15,!1),g=W(e,"isAlpha",3,!0),u=W(e,"isDialog",3,!0),l=W(e,"isOpen",31,()=>!u()),p=W(e,"position",3,"responsive"),h=W(e,"dir",3,"ltr"),b=W(e,"isTextInput",3,!0),v=W(e,"textInputModes",19,()=>["hex","rgb","hsv"]),y=W(e,"sliderDirection",3,"vertical"),x=W(e,"disableCloseClickOutside",3,!1),E=W(e,"a11yColors",19,()=>[{bgHex:"#ffffff"}]),k=W(e,"a11yLevel",3,"AA"),I=W(e,"texts",3,void 0),O=W(e,"a11yTexts",3,void 0),P=ht(Gt({r:255,g:0,b:0,a:1})),A=ht(Gt({h:0,s:100,v:100,a:1})),M=ht("#ff0000"),F=ht(!1),C=ht(Gt(w(F))),R=ht(void 0),m=ht(void 0),N=ht(void 0),V,U=ht(1080),G=ht(720);const $=12,nt={pickerIndicator:jb,textInput:t0,input:n0,nullabilityCheckbox:l0,wrapper:i0};function L(){return{...nt,...n()}}function z(){var B,T,S;return{label:{...Ua.label,...(B=I())==null?void 0:B.label},color:{...Ua.color,...(T=I())==null?void 0:T.color},changeTo:((S=I())==null?void 0:S.changeTo)??Ua.changeTo}}function st({target:B}){var T,S,D;u()&&((T=w(m))!=null&&T.contains(B)||(S=w(m))!=null&&S.isSameNode(B)?l(!l()):l()&&!((D=w(N))!=null&&D.contains(B))&&!x()&&l(!1))}function at({key:B,target:T}){var S;!u()||!w(m)||!w(R)||(B==="Enter"&&w(m).contains(T)?(l(!l()),setTimeout(()=>{w(N)&&(V=s0(w(N)))})):B==="Escape"&&l()&&(l(!1),w(R).contains(T)&&((S=w(m))==null||S.focus(),V==null||V.destroy())))}function Z(){return!(o()&&a()&&o().h===w(A).h&&o().s===w(A).s&&o().v===w(A).v&&o().a===w(A).a&&a().r===w(P).r&&a().g===w(P).g&&a().b===w(P).b&&a().a===w(P).a&&c()===w(M))}function xt(){var B,T,S,D,K,et;if(w(F)&&!w(C)){J(C,!0),o(null),a(null),c(null),(B=e.onInput)==null||B.call(e,{color:d(),hsv:o(),rgb:a(),hex:c()});return}else if(w(C)&&!w(F)){J(C,!1),o(Pn(w(A))),a(Pn(w(P))),c(Pn(w(M))),(T=e.onInput)==null||T.call(e,{color:d(),hsv:o(),rgb:a(),hex:c()});return}else if(!o()&&!a()&&!c()){J(F,J(C,!0),!0),(S=e.onInput)==null||S.call(e,{color:null,hsv:o(),rgb:a(),hex:c()});return}else if(!Z())return;J(F,!1),o()&&o().a===void 0&&o({...o(),a:1}),w(A).a===void 0&&J(A,{...w(A),a:1},!0),a()&&a().a===void 0&&a({...a(),a:1}),w(P).a===void 0&&J(P,{...w(P),a:1},!0),((D=c())==null?void 0:D.substring(7))==="ff"&&c(c().substring(0,7)),((K=w(M))==null?void 0:K.substring(7))==="ff"&&J(M,w(M).substring(0,7),!0),o()&&(o().h!==w(A).h||o().s!==w(A).s||o().v!==w(A).v||o().a!==w(A).a||!a()&&!c())?(d(ge(o())),a(d().toRgb()),c(d().toHex())):a()&&(a().r!==w(P).r||a().g!==w(P).g||a().b!==w(P).b||a().a!==w(P).a||!o()&&!c())?(d(ge(a())),c(d().toHex()),o(d().toHsv())):c()&&(c()!==w(M)||!o()&&!a())&&(d(ge(c())),a(d().toRgb()),o(d().toHsv())),d()&&f(d().isDark()),!(!c()||!o()||!a())&&(J(A,Pn(o()),!0),J(P,Pn(a()),!0),J(M,c(),!0),J(C,w(F),!0),(et=e.onInput)==null||et.call(e,{color:d(),hsv:o(),rgb:a(),hex:c()}))}Bt(()=>{(o()||a()||c())&&xt()}),Bt(()=>{w(F),xt()});function St(B){return T=>{o()||(J(F,!1),J(C,!1),o(Pn(w(A)))),o({...o(),[B]:T})}}function vt(B){return T=>{o()||(J(F,!1),J(C,!1),o(Pn(w(A)))),o({...o(),...Object.fromEntries(B.map(S=>[S,T[S]]))})}}async function kt(){if(await Gu(),p()==="fixed"||!l()||!u()||!w(m)||!w(N))return;const B=w(N).getBoundingClientRect(),T=w(m).getBoundingClientRect();if((p()==="responsive"||p()==="responsive-y")&&(T.top+B.height+$>w(G)?w(N).style.top=`-${B.height+$}px`:w(N).style.top=`${T.height+$}px`),p()==="responsive"||p()==="responsive-x")if(h()==="rtl"){const S=T.left+T.width-B.width<0;console.log(S,T.left-B.width,T.left,B.width),S?w(N).style.left="0px":w(N).style.left=`${T.width-B.width}px`}else T.left+B.width>w(U)?w(N).style.left=`${T.width-B.width}px`:w(N).style.left="0px"}Bt(()=>{w(U)&&w(G)&&l()&&kt()});const bt=ct(L);var Tt=f0();Mn("mousedown",Vn,st),Mn("keyup",Vn,at),Mn("scroll",Vn,kt);var Ut=q(Tt);{var zt=B=>{var T=Ct(),S=pt(T);ce(S,()=>w(bt).input,(D,K)=>{K(D,{get hex(){return c()},get label(){return r()},get name(){return i()},get dir(){return h()},get labelElement(){return w(m)},set labelElement(et){J(m,et,!0)}})}),tt(B,T)},_=(B,T)=>{{var S=D=>{var K=c0();qt(K),At(()=>{Oe(K,c()),Vt(K,"name",i())}),tt(D,K)};Lt(B,D=>{i()&&D(S)},T)}};Lt(Ut,B=>{u()?B(zt):B(_,!1)})}var X=Y(Ut,2);ce(X,()=>w(bt).wrapper,(B,T)=>{T(B,{get isOpen(){return l()},get isDialog(){return u()},get wrapper(){return w(N)},set wrapper(S){J(N,S,!0)},children:(S,D)=>{var K=d0(),et=pt(K);{var H=Nt=>{var Kt=Ct(),te=pt(Kt);const ze=ct(z);ce(te,()=>w(bt).nullabilityCheckbox,(Be,Me)=>{Me(Be,{get texts(){return w(ze)},get isUndefined(){return w(F)},set isUndefined(Ve){J(F,Ve,!0)}})}),tt(Nt,Kt)};Lt(et,Nt=>{s()&&Nt(H)})}var it=Y(et,2);const lt=ct(L),ot=ct(()=>{var Nt;return((Nt=o())==null?void 0:Nt.h)??w(A).h}),ft=ct(()=>{var Nt;return((Nt=o())==null?void 0:Nt.s)??w(A).s}),Mt=ct(()=>{var Nt;return((Nt=o())==null?void 0:Nt.v)??w(A).v}),It=ct(()=>vt(["s","v"])),Jt=ct(z);Hb(it,{get components(){return w(lt)},get h(){return w(ot)},get s(){return w(ft)},get v(){return w(Mt)},get onInput(){return w(It)},get isDark(){return f()},get texts(){return w(Jt)}});var Ie=Y(it,2),ae=q(Ie);const Ne=ct(()=>{var Nt;return((Nt=o())==null?void 0:Nt.h)??w(A).h}),jt=ct(()=>St("h")),Fe=ct(()=>y()==="vertical");Wi(ae,{min:0,max:360,step:1,get value(){return w(Ne)},get onInput(){return w(jt)},get direction(){return y()},get reverse(){return w(Fe)},get ariaLabel(){return z().label.h}}),j(Ie);var tn=Y(Ie,2);{var ve=Nt=>{var Kt=u0();let te;var ze=q(Kt);const Be=ct(()=>{var mn;return((mn=o())==null?void 0:mn.a)??w(A).a}),Me=ct(()=>St("a")),Ve=ct(()=>y()==="vertical");Wi(ze,{min:0,max:1,step:.01,get value(){return w(Be)},get onInput(){return w(Me)},get direction(){return y()},get reverse(){return w(Ve)},get ariaLabel(){return z().label.a}}),j(Kt),At(mn=>te=Ge(Kt,"",te,{"--alphaless-color":mn}),[()=>(c()?c():w(M)).substring(0,7)]),tt(Nt,Kt)};Lt(tn,Nt=>{g()&&Nt(ve)})}var On=Y(tn,2);{var Xn=Nt=>{var Kt=Ct(),te=pt(Kt);const ze=ct(()=>c()??w(M)),Be=ct(()=>a()??w(P)),Me=ct(()=>o()??w(A)),Ve=ct(z);ce(te,()=>w(bt).textInput,(mn,xr)=>{xr(mn,{get hex(){return w(ze)},get rgb(){return w(Be)},get hsv(){return w(Me)},onInput:en=>{en.hsv?o(en.hsv):en.rgb?a(en.rgb):en.hex&&c(en.hex)},get isAlpha(){return g()},get textInputModes(){return v()},get texts(){return w(Ve)}})}),tt(Nt,Kt)};Lt(On,Nt=>{b()&&Nt(Xn)})}var Yn=Y(On,2);{var wr=Nt=>{var Kt=Ct(),te=pt(Kt);const ze=ct(L),Be=ct(()=>c()||"#00000000");ce(te,()=>w(bt).a11yNotice,(Me,Ve)=>{Ve(Me,{get components(){return w(ze)},get a11yColors(){return E()},get hex(){return w(Be)},get a11yTexts(){return O()},get a11yLevel(){return k()}})}),tt(Nt,Kt)};Lt(Yn,Nt=>{L().a11yNotice&&Nt(wr)})}tt(S,K)},$$slots:{default:!0}})}),j(Tt),Se(Tt,B=>J(R,B),()=>w(R)),At(()=>re(Tt,1,`color-picker ${y()??""}`,"svelte-1y2jcbx")),bo("innerWidth",B=>J(U,B,!0)),bo("innerHeight",B=>J(G,B,!0)),tt(t,Tt),mt()}var v0=(t,e)=>J(e,!w(e)),p0=(t,e,n)=>e(w(n).label),g0=dt('<button type="button" class="btn-icond btn-lg"><!></button>'),m0=dt('<button type="button" aria-label="Select color" class="w-8 h-8 rounded-full ring-2 ring-gray-200 hover:ring-primary-500 transition"></button>'),b0=dt('<div class="grid h-screen grid-rows-[auto_1fr_auto]"><header class="bg-surface-100 shadow flex flex-wrap items-center gap-3"><div class="flex-none px-8 bg-primary rounded select-none text-left font-bold text-success-700 flex items-center gap-2" style="min-width: 180px;"><img alt="Midori Icon" class="w-16 h-16 object-contain"/> <span class="hidden sm:inline">HGペイント（歩行グラフィックペイント）</span> <span class="sm:hidden flex flex-col"><span>HGペイント</span> <span>（歩行グラフィックペイント）</span></span></div> <div class="flex flex-1 flex-wrap justify-center items-center gap-3"><!> <div class="input-group grid-cols-[1fr_auto]"><input class="ig-input" type="text" placeholder="レイヤー名" maxlength="32"/> <button title="レイヤー名の編集"><!></button></div> <button type="button" class="btn-icond btn-lg"><!></button> <button type="button" class="btn-icond btn-lg"><!></button></div> <!> <div class="w-[12ch] flex justify-between font-mono text-sm tabular-nums"><span class="text-left">不透明度</span> <span class="text-right"> </span></div> <div class="my-2 w-full basis-full max-w-[300px] mt-2"><!></div></header> <div class="grid grid-cols-1 md:grid-cols-[auto_1fr_auto]"><aside class="bg-surface-200 p-4 space-y-4"><!></aside> <main class="bg-white flex items-center justify-center gap-4 px-4"><!> <div></div> <!></main> <aside class="bg-surface-200 p-4 space-y-4"><!> <!></aside></div> <footer class="bg-surface-100 shadow p-2 flex flex-wrap items-center justify-center gap-2"><!> <nav class="btn-group preset-outlined-surface-200-800 flex gap-4"><!> <!> <!> <!> <!></nav> <nav class="btn-group preset-outlined-surface-200-800 flex gap-2"></nav> <!> <!> <!> <!> <!> <div class="w-full text-left flex flex-wrap items-center gap-4"><div class="rounded-full ring-2 ring-black ring-offset-2 ring-offset-white"><!></div> <input type="color" class="w-10 h-10 rounded-full border-none p-0"/> <div class="flex gap-2"></div></div></footer></div>');function T0(t,e){gt(e,!0);const[n,r]=Gn(),i=()=>Xe(Fn,"$color",n),s=()=>Xe(zr,"$isOnionSkin",n),a=globalThis.innerWidth<768;let o=ht(0);const c=()=>{setTimeout(()=>{J(o,performance.now(),!0)})};Bt(()=>(document.addEventListener("pointerup",c),()=>document.removeEventListener("pointerup",c)));const d=async Q=>{if(f(Q)||!Q.ctrlKey)return;let ut=Q.key;switch(Q.getModifierState("CapsLock")&&(ut=/[a-z]/.test(ut)?ut.toUpperCase():ut.toLowerCase()),ut){case"1":Q.preventDefault(),J(G,V.pen.label,!0);break;case"2":Q.preventDefault(),J(G,V.eraser.label,!0);break;case"3":Q.preventDefault(),J(G,V.dropper.label,!0);break;case"4":Q.preventDefault(),J(G,V.fill.label,!0);break;case"5":Q.preventDefault(),J(G,V.translate.label,!0);break;case"e":Q.preventDefault(),J(nt,!w(nt));break;case"f":Q.preventDefault(),J(L,!w(L));break;case"g":Q.preventDefault(),J(z,!w(z));break;case"d":Q.preventDefault(),J(st,!w(st));break;case"o":Q.preventDefault(),zr.update(rt=>!rt);break;case"z":Q.preventDefault(),Z(V.undo.label);break;case"Z":Q.preventDefault(),Z(V.redo.label);break;case"s":Q.preventDefault(),Z(V.save.label);break;case"c":{Q.preventDefault();const rt=await new Promise(_t=>cr().toBlob(_t));if(!rt)return;const yt=new ClipboardItem({"image/png":rt});await navigator.clipboard.write([yt])}break}};Bt(()=>{if(w(y))return window.removeEventListener("keydown",d),window.addEventListener("keydown",d),()=>window.removeEventListener("keydown",d)});const f=Q=>{var rt;const ut=Q.target;return!((rt=getSelection())!=null&&rt.isCollapsed)||ut.tagName==="INPUT"||ut.tagName==="TEXTAREA"||ut.isContentEditable},g=async Q=>{var rn,an;if(!w(v)||(rn=w(v))!=null&&rn.locked)return;const ut=Ii(),{width:rt,height:yt}=Tn,_t=await createImageBitmap(Q),Ot=document.createElement("canvas");Ot.width=rt,Ot.height=yt;const Ft=Ot.getContext("2d",{willReadFrequently:!0});if(!Ft)return;Ft.imageSmoothingEnabled=!1;const le=Math.min(rt/_t.width,yt/_t.height),Ae=_t.width*le,nn=_t.height*le,bn=(rt-Ae)/2,kr=(yt-nn)/2;Ft.drawImage(_t,bn,kr,Ae,nn);const{data:Rn}=Ft.getImageData(0,0,rt,yt);for(let Jn=0;Jn<yt;Jn++)for(let oi=0;oi<rt;oi++){const io=(Jn*rt+oi)*4,[fu,hu,vu,ao]=Rn.subarray(io,io+4);ao&&(Un.value=`rgba(${fu}, ${hu}, ${vu}, ${ao/255})`,w(v).drawByDot(oi*ut,Jn*ut),w(v).used=!0)}(an=w(v))==null||an.trace(),c()},u=Q=>{var yt,_t;if(f(Q)||!w(v)||(yt=w(v))!=null&&yt.locked)return;let ut=null;for(const Ot of((_t=Q.clipboardData)==null?void 0:_t.items)??[])Ot.kind==="file"&&Ot.type.startsWith("image/")&&(ut=Ot);if(!ut)return;const rt=ut.getAsFile();rt&&g(rt)};Bt(()=>{if(w(y))return window.removeEventListener("paste",u),window.addEventListener("paste",u),()=>window.removeEventListener("paste",u)});let l=ht(!1);Bt(()=>{w(b)&&(w(b).addEventListener("dragover",Q=>{Q.preventDefault(),J(l,!0)}),w(b).addEventListener("dragleave",()=>{J(l,!1)}),w(b).addEventListener("drop",Q=>{if(Q.preventDefault(),J(l,!1),!Q.dataTransfer)return;const[ut]=Q.dataTransfer.files;ut.type.startsWith("image/")&&g(ut)}))});const p=(Q,ut)=>{if(!w(v))return;const rt=cr().getContext("2d",{willReadFrequently:!0});if(!rt)return;const{data:yt}=rt.getImageData(0,0,w(k),E),_t=(ut*w(k)+Q)*4,[Ot,Ft,le,Ae]=yt.subarray(_t,_t+4);if(Ae){J(nt,!1);const nn=`#${[Ot,Ft,le].map(bn=>bn.toString(16).padStart(2,"0")).join("")}`;Fn.set(nn)}else J(nt,!0)},h=async(Q,ut)=>{var le;if(!w(v))return;const rt=(le=i().slice(1).match(/.{2}/g))==null?void 0:le.map(Ae=>Number.parseInt(Ae,16));if((rt==null?void 0:rt.length)!==3)return;const[yt,_t,Ot]=rt,Ft=cd(w(v).data,w(k),E,Q,ut,w(nt)?[0,0,0,0]:[yt,_t,Ot,255]);Ft&&(w(v).data=Ft)};let b=ht(void 0),v=ht(void 0),y=ht(null),x=ht(null);const E=a?Math.floor(globalThis.innerWidth*.9/48)*48:480;let k=ht(Gt(E)),I=ht(0);Bt(()=>{O()});const O=async()=>{if(!w(b))return;J(I,performance.now(),!0);const Q=Qr,ut=ti,rt=Math.floor(E*(Q/ut));gd(w(b),rt,E),J(k,rt,!0);const yt=rc.value,_t=Ns.value;yt==null||yt.canvas.classList.add("upper-canvas"),_t==null||_t.canvas.classList.add("gimp-checkered-background"),J(y,yt,!0),J(x,_t,!0),yt&&(yt.opacity=32),vd(1,ut),document.documentElement.style.setProperty("--grid-cell-size",`${Ii()}px`),J(v,new vn("レイヤー #1"),!0)};Bt(()=>{w(y)&&document.addEventListener("pointermove",Q=>{if(!w(y))return;const[ut,rt]=Hn(Q);w(y).clear(),w(y).drawByDot(ut,rt)},{passive:!0})}),Bt(()=>{if(!w(y))return;let Q=null,ut=null;bd((_t,Ot,Ft)=>{var le,Ae,nn,bn,kr;if(Q===null&&(Q=_t),ut===null&&(ut=Ot),w(G)===V.dropper.label||(Ft&2)!==0)p(_t,Ot),yt=!0;else if(!((le=w(v))!=null&&le.locked))if(w(G)===V.translate.label)(Ae=w(v))==null||Ae.translateByDot(_t-Q,Ot-ut);else{const Rn=wd(_t,Ot,Q,ut);switch(w(G)){case V.pen.label:for(const[rn,an]of Rn)w(nt)?(nn=w(v))==null||nn.eraseByDot(rn,an):(bn=w(v))==null||bn.drawByDot(rn,an);break;case V.eraser.label:for(const[rn,an]of Rn)(kr=w(v))==null||kr.eraseByDot(rn,an);break}}Q=_t,ut=Ot});const rt=()=>{var _t;(_t=w(v))!=null&&_t.modified()&&(w(v).trace(),N())};let yt=!1;yd((_t,Ot,Ft)=>{var le;Q=null,ut=null,!((le=w(v))!=null&&le.locked)&&(w(G)===V.fill.label&&!yt&&h(_t,Ot),yt=!1,rt())}),md((_t,Ot,Ft)=>{})}),Bt(()=>{w(v)&&(J(P,[w(v).opacity],!0),J(A,w(v).visible,!0),J(M,w(v).name,!0),J(F,!0),J(C,w(v).locked,!0))});let P=ht(Gt([100])),A=ht(!0),M=ht(""),F=ht(!0),C=ht(!1);Bt(()=>{w(v)&&(w(v).opacity=w(P)[0])}),Bt(()=>{w(v)&&(w(v).visible=w(A))}),Bt(()=>{w(v)&&(w(v).name=w(M))}),Bt(()=>{w(v)&&(w(v).locked=w(C))}),Bt(()=>{Zl.value=i(),Un.value=i()});let R=ht(Gt([]));const m=32,N=()=>{if(w(G)===V.translate.label)return;const Q=w(R).indexOf(i());Q!==0&&(Q!==-1&&w(R).splice(Q,1),w(R).unshift(i()),w(R).length>m&&w(R).pop(),J(R,[...w(R)],!0))},V={pen:{label:"ペン",mdi:Tb,icon:Fd},eraser:{label:"消しゴム",mdi:kb,icon:ko},dropper:{label:"カラーピッカー",mdi:Eb,icon:zd},fill:{label:"塗りつぶし",mdi:Cb,icon:Nd},translate:{label:"ハンドツール",mdi:Sb,icon:Dd},erasable:{icon:ko},flip:{icon:Od},grid:{icon:Rd},undo:{label:"戻る",mdi:Ob,icon:Wd},redo:{label:"進む",mdi:Ib,icon:Md},save:{label:"画像を保存",mdi:xb,icon:Vd},clear:{label:"全消し",mdi:Ab,icon:Ai}};let U=[V.pen,V.eraser,V.dropper,V.fill,V.translate],G=ht(Gt(wo.value??V.pen.label));const $=Q=>{const ut=`fill="${w(st)?"white":"black"}" stroke="${w(st)?"black":"white"}" stroke-width="1"`,rt=`<svg xmlns="http://www.w3.org/2000/svg" width="32" height="32"><path d="${Q}" ${ut}/></svg>`;return`data:image/svg+xml;base64,${btoa(rt)}`};Bt(()=>{var Q;if(wo.value=w(G),w(y)){const ut=w(G)===V.fill.label?"21 19":"3 21",rt=(Q=U.find(yt=>yt.label===w(G)))==null?void 0:Q.mdi;if(!rt)return;w(y).canvas.style.cursor=`url('${$(rt)}') ${ut}, auto`}});let nt=ht(!1),L=ht(!1);Bt(()=>{Ds.value=w(L)});let z=ht(!0),st=ht(!1);Bt(()=>{w(st)?document.body.classList.add("hg-paint-gimp-dark"):document.body.classList.remove("hg-paint-gimp-dark")});let at=[V.undo,V.redo,V.save,V.clear];const Z=Q=>{var ut,rt,yt,_t;switch(Q){case V.undo.label:(ut=w(v))==null||ut.undo(),c();break;case V.redo.label:(rt=w(v))==null||rt.redo(),c();break;case V.save.label:{const Ot=cr().toDataURL("image/png"),Ft=document.createElement("a");Ft.href=Ot,Ft.download="drawing.png",Ft.click()}break;case V.clear.label:(yt=w(v))==null||yt.clear(),(_t=w(v))==null||_t.trace();break}};var xt=b0(),St=q(xt),vt=q(St),kt=q(vt);ye(4),j(vt);var bt=Y(vt,2),Tt=q(bt);Dn(Tt,{controlActive:"bg-secondary-500",get checked(){return w(C)},onCheckedChange:rt=>{J(C,rt.checked,!0)},inactiveChild:rt=>{as(rt,{size:"14"})},activeChild:rt=>{as(rt,{size:"14"})},$$slots:{inactiveChild:!0,activeChild:!0}});var Ut=Y(Tt,2),zt=q(Ut);qt(zt);var _=Y(zt,2);_.__click=[v0,F];var X=q(_);{var B=Q=>{Ud(Q,{size:18})},T=Q=>{Td(Q,{size:18})};Lt(X,Q=>{w(F)?Q(B):Q(T,!1)})}j(_),j(Ut);var S=Y(Ut,2);S.__click=()=>{if(w(C)||!w(v)||w(v).used&&!confirm(`${w(v).name}を削除しますか？`))return;w(v).delete();const{prev:Q,next:ut}=w(v);ut?J(v,ut,!0):Q?J(v,Q,!0):(ns(),J(v,new vn("レイヤー #1"),!0))};var D=q(S);Ai(D,{size:18}),j(S);var K=Y(S,2);K.__click=async()=>{w(C)||!w(v)||!confirm("全レイヤーを削除しますか？")||(Hr([]),ns(),J(v,new vn("レイヤー #1"),!0))};var et=q(K);Sd(et,{size:18}),j(K),j(bt);var H=Y(bt,2);Dn(H,{controlActive:"bg-secondary-500",get checked(){return w(A)},onCheckedChange:rt=>{J(A,rt.checked,!0)},inactiveChild:rt=>{is(rt,{size:"14"})},activeChild:rt=>{is(rt,{size:"14"})},$$slots:{inactiveChild:!0,activeChild:!0}});var it=Y(H,2),lt=Y(q(it),2),ot=q(lt);j(lt),j(it);var ft=Y(it,2),Mt=q(ft);zc(Mt,{get value(){return w(P)},onValueChange:Q=>J(P,Q.value,!0),markers:[25,50,75]}),j(ft),j(St);var It=Y(St,2),Jt=q(It),Ie=q(Jt);Kd(Ie,{get initTimestamp(){return w(I)},get pointerupTimestamp(){return w(o)},get activeLayer(){return w(v)},set activeLayer(Q){J(v,Q,!0)}}),j(Jt);var ae=Y(Jt,2),Ne=q(ae);{var jt=Q=>{ub(Q,{get initTimestamp(){return w(I)}})};Lt(Ne,Q=>{a||Q(jt)})}var Fe=Y(Ne,2);let tn;Se(Fe,Q=>J(b,Q),()=>w(b));var ve=Y(Fe,2);{var On=Q=>{Mm(Q,{})};Lt(ve,Q=>{a||Q(On)})}j(ae);var Xn=Y(ae,2),Yn=q(Xn);pf(Yn,{});var wr=Y(Yn,2);Gm(wr,{get pointerupTimestamp(){return w(o)},get activeLayer(){return w(v)},set activeLayer(Q){J(v,Q,!0)}}),j(Xn),j(It);var Nt=Y(It,2),Kt=q(Nt);$o(Kt,{name:"tool",get value(){return w(G)},onValueChange:Q=>{Q.value&&J(G,Q.value,!0)},children:(Q,ut)=>{var rt=Ct(),yt=pt(rt);de(yt,17,()=>U,ue,(_t,Ot)=>{var Ft=Ct(),le=pt(Ft);ce(le,()=>$o.Item,(Ae,nn)=>{nn(Ae,{get value(){return w(Ot).label},children:(bn,kr)=>{var Rn=Ct(),rn=pt(Rn);ce(rn,()=>w(Ot).icon,(an,Jn)=>{Jn(an,{})}),tt(bn,Rn)},$$slots:{default:!0}})}),tt(_t,Ft)}),tt(Q,rt)},$$slots:{default:!0}});var te=Y(Kt,2),ze=q(te);Dn(ze,{controlActive:"bg-secondary-500",get checked(){return w(nt)},onCheckedChange:rt=>{J(nt,rt.checked,!0)},inactiveChild:rt=>{var yt=Ct(),_t=pt(yt);ce(_t,()=>V.erasable.icon,(Ot,Ft)=>{Ft(Ot,{size:"14"})}),tt(rt,yt)},activeChild:rt=>{var yt=Ct(),_t=pt(yt);ce(_t,()=>V.erasable.icon,(Ot,Ft)=>{Ft(Ot,{size:"14"})}),tt(rt,yt)},$$slots:{inactiveChild:!0,activeChild:!0}});var Be=Y(ze,2);Dn(Be,{controlActive:"bg-secondary-500",get checked(){return w(L)},onCheckedChange:rt=>{J(L,rt.checked,!0)},inactiveChild:rt=>{var yt=Ct(),_t=pt(yt);ce(_t,()=>V.flip.icon,(Ot,Ft)=>{Ft(Ot,{size:"14"})}),tt(rt,yt)},activeChild:rt=>{var yt=Ct(),_t=pt(yt);ce(_t,()=>V.flip.icon,(Ot,Ft)=>{Ft(Ot,{size:"14"})}),tt(rt,yt)},$$slots:{inactiveChild:!0,activeChild:!0}});var Me=Y(Be,2);Dn(Me,{controlActive:"bg-secondary-500",get checked(){return w(z)},onCheckedChange:rt=>{J(z,rt.checked,!0)},inactiveChild:rt=>{var yt=Ct(),_t=pt(yt);ce(_t,()=>V.grid.icon,(Ot,Ft)=>{Ft(Ot,{size:"14"})}),tt(rt,yt)},activeChild:rt=>{var yt=Ct(),_t=pt(yt);ce(_t,()=>V.grid.icon,(Ot,Ft)=>{Ft(Ot,{size:"14"})}),tt(rt,yt)},$$slots:{inactiveChild:!0,activeChild:!0}});var Ve=Y(Me,2);Dn(Ve,{controlActive:"bg-secondary-500",get checked(){return w(st)},onCheckedChange:rt=>{J(st,rt.checked,!0)},inactiveChild:rt=>{Hd(rt,{size:"14"})},activeChild:rt=>{Ld(rt,{size:"14"})},$$slots:{inactiveChild:!0,activeChild:!0}});var mn=Y(Ve,2);Dn(mn,{controlActive:"bg-secondary-500",get checked(){return s()},onCheckedChange:rt=>{zr.set(rt.checked)},inactiveChild:rt=>{Eo(rt,{size:"14"})},activeChild:rt=>{Eo(rt,{size:"14"})},$$slots:{inactiveChild:!0,activeChild:!0}}),j(te);var xr=Y(te,2);de(xr,21,()=>at,ue,(Q,ut)=>{var rt=g0();rt.__click=[p0,Z,ut];var yt=q(rt);ce(yt,()=>w(ut).icon,(_t,Ot)=>{Ot(_t,{size:18})}),j(rt),tt(Q,rt)}),j(xr);var en=Y(xr,2);eb(en);var Js=Y(en,2);wb(Js,{init:O});var Qs=Y(Js,2);Lm(Qs,{init:O,get activeLayer(){return w(v)},set activeLayer(Q){J(v,Q,!0)},get initTimestamp(){return w(I)},set initTimestamp(Q){J(I,Q,!0)}});var to=Y(Qs,2);Sm(to,{get width(){return w(k)},get height(){return E}});var eo=Y(to,2);Jm(eo,{get activeLayer(){return w(v)},set activeLayer(Q){J(v,Q,!0)}});var no=Y(eo,2),ua=q(no),du=q(ua);h0(du,{label:"",isAlpha:!1,get hex(){return Ku(),i()},set hex(Q){po(Fn,Q)}}),j(ua);var da=Y(ua,2);qt(da);var ro=Y(da,2);de(ro,21,()=>w(R),ue,(Q,ut)=>{var rt=m0();rt.__click=()=>Fn.set(w(ut)),At(()=>Ge(rt,`background-color:${w(ut)??""};`)),tt(Q,rt)}),j(ro),j(no),j(Nt),j(xt),At(Q=>{Vt(kt,"src",`${Xu??""}/midori.png`),zt.disabled=w(F),re(_,1,`ig-btn ${w(F)?"":"preset-filled"}`),se(ot,`${w(P)??""}%`),tn=re(Fe,1,"relative",null,tn,Q)},[()=>({"hg-paint-grid-mode":w(z),"hg-paint-dragover":w(l)})]),kn(zt,()=>w(M),Q=>J(M,Q)),kn(da,i,Q=>po(Fn,Q)),tt(t,xt),mt(),r()}fe(["click"]);export{T0 as component};
